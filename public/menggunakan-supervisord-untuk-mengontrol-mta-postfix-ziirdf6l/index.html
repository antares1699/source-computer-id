<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Menggunakan supervisord untuk mengontrol MTA postfix</title><meta name=description content="Saya mencoba menggunakan  supervisord  untuk mengontrol postfix. Metode yang biasa digunakan adalah menentukan perintah yang memulai daemon, saya menggunakan postfix -c /etc/postfix start. Halaman manual postfix mengatakan bahwa untuk menghentikan Anda mengganti..."><link rel=canonical href=https://www.idxstack.com/menggunakan-supervisord-untuk-mengontrol-mta-postfix-ziirdf6l/><meta property="og:title" content="Menggunakan supervisord untuk mengontrol MTA postfix"><meta property="og:description" content="Saya mencoba menggunakan  supervisord  untuk mengontrol postfix. Metode yang biasa digunakan adalah menentukan perintah yang memulai daemon, saya menggunakan postfix -c /etc/postfix start. Halaman manual postfix mengatakan bahwa untuk menghentikan Anda mengganti..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/menggunakan-supervisord-untuk-mengontrol-mta-postfix-ziirdf6l/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Menggunakan supervisord untuk mengontrol MTA postfix"><meta name=twitter:description content="Saya mencoba menggunakan  supervisord  untuk mengontrol postfix. Metode yang biasa digunakan adalah menentukan perintah yang memulai daemon, saya menggunakan postfix -c /etc/postfix start. Halaman manual postfix mengatakan bahwa untuk menghentikan Anda mengganti..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Menggunakan supervisord untuk mengontrol MTA postfix</h1><div itemprop=text><p>Saya mencoba menggunakan <a href=http://supervisord.org/configuration.html#programx rel="nofollow noopener" target=_blank>supervisord</a> untuk mengontrol postfix. Metode yang biasa digunakan adalah menentukan perintah yang memulai daemon, saya menggunakan <code>postfix -c /etc/postfix start</code>. Halaman manual postfix mengatakan bahwa untuk menghentikan Anda mengganti <code>start</code> dengan <code>stop</code> pada perintah di atas.</p><p>Saya tidak melihat cara untuk menentukan perintah lain untuk menghentikan daemon, hanya sebuah sinyal. Halaman manual<pre><code>[program:master]
process_name    = master
priority        = 5
directory       = /etc/postfix
command         = /usr/sbin/postfix -c /etc/postfix start
startsecs       = 0
user            = root
stopsignal      = INT
</code></pre>mengatakan bahwa sinyal <code>TERM</code> akan berfungsi seolah-olah <code>postfix abort</code> digunakan tetapi tidak bersuara saat dimatikan dengan baik melalui sinyal.</p><p>Juga, metode start / stop paragraf pertama adalah rumit sejauh menyangkut supervisor. Skrip melakukan banyak pemeriksaan dan kemudian memanggil <code>master</code>, <code>qmgr</code> dan <code>pickup</code> dengan <code>master</code> sebagai pemimpin grup proses. Dengan demikian, supervisord memiliki pegangan pada PID yang tidak berguna (salah satu skrip yang dijalankan) dan oleh karena itu tidak dapat menggunakan PID tersebut untuk menghentikan daemon. Apa yang harus ditangani adalah proses <code>master</code>.</p><p>Seberapa jauh saya punya:</p><pre><code>[program:master]
process_name    = master
priority        = 5
directory       = /etc/postfix
command         = /usr/sbin/postfix -c /etc/postfix start
startsecs       = 0
user            = root
stopsignal      = INT
</code></pre><p>Ini memulai postfix tetapi tidak bisa menghentikannya.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/44239/alephnull target=_blank rel="nofollow noopener"><span itemprop=name>alephnull</span></a>
—
<a href=https://superuser.com/questions/168412/using-supervisord-to-control-the-postfix-mta target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Solusi saya adalah menulis skrip pembungkus bernama postfix.sh sebagai berikut:</p><pre><code># call "postfix stop" when exiting
trap "{ echo Stopping postfix; /usr/sbin/postfix stop; exit 0; }" EXIT

# start postfix
/usr/sbin/postfix -c /etc/postfix start
# avoid exiting
sleep infinity   
</code></pre><p>Setelah itu, ubah supervisord.conf:</p><pre><code>[program:postfix]
command=path/to/postfix.sh 
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/menggunakan-supervisord-untuk-mengontrol-mta-postfix-ziirdf6l/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/127033/hui-zheng target=_blank rel="nofollow noopener"><span itemprop=name>Hui Zheng</span></a>
—
<a href=https://superuser.com/a/843542 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Ternyata lebih mudah menggunakan sesuatu seperti <a href=http://mmonit.com/monit/ rel="nofollow noopener" target=_blank>Monit</a> untuk memantau daemon:</p><blockquote><p>Monit adalah utilitas open source gratis untuk mengelola dan memantau,
proses, program, file, direktori, dan sistem file pada UNIX
sistem. Monit melakukan perawatan dan perbaikan otomatis dan bisa
melaksanakan tindakan kausal yang berarti dalam situasi kesalahan.</p><p>Anda dapat menggunakan Monit untuk memantau proses daemon atau program serupa
berjalan di localhost. Monit sangat berguna untuk memonitor daemon
proses, seperti yang dimulai pada waktu boot sistem dari
/etc/init.d/. Misalnya sendmail, sshd, apache dan mysql.</p></blockquote><p><img src=https://i.stack.imgur.com/g3FhF.png alt="enter image description here" class="img-fluid d-block my-2" loading=lazy></p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/menggunakan-supervisord-untuk-mengontrol-mta-postfix-ziirdf6l/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/44239/alephnull target=_blank rel="nofollow noopener"><span itemprop=name>alephnull</span></a>
—
<a href=https://superuser.com/a/275860 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Sama seperti @Hui Zheng tetapi memeriksa apakah posfix hidup</p><pre><code>trap "postfix stop" SIGINT
trap "postfix stop" SIGTERM
trap "postfix reload" SIGHUP

# force new copy of hosts there (otherwise links could be outdated)
cp /etc/hosts /var/spool/postfix/etc/hosts

# start postfix
postfix start

# lets give postfix some time to start
sleep 3

# wait until postfix is dead (triggered by trap)
while kill -0 "`cat /var/spool/postfix/pid/master.pid`"; do
  sleep 5
done
</code></pre><p>kredit pergi <a href=https://www.snip2code.com/Snippet/309436/postfix-wrapper-sh-for-supervisord-in-do rel="nofollow noopener" target=_blank>sini</a></p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/menggunakan-supervisord-untuk-mengontrol-mta-postfix-ziirdf6l/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/75803/ivailo-bardarov target=_blank rel="nofollow noopener"><span itemprop=name>Ivailo Bardarov</span></a>
—
<a href=https://superuser.com/a/1045366 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/motherboard-yang-bagus-untuk-hibernasi-5otk9efn/>Motherboard yang bagus untuk hibernasi</a></div></li><li class=list-group-item><div><a href=/beralih-dari-windows-xp-ke-windows-8-6xpo55hb/>Beralih dari Windows XP ke Windows 8</a></div></li><li class=list-group-item><div><a href=/perintah-ls-dalam-skrip-bash-mengatakan-39tidak-ada-file-atau-direktori-seperti-itu39-ml2r1bsi/>Perintah Ls dalam skrip bash mengatakan 'Tidak ada file atau direktori seperti itu'</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menjaga-pekerjaan-tetap-berjalan-setelah-keluar-duplikat-anpiy0ym/>Bagaimana cara menjaga pekerjaan tetap berjalan setelah keluar? [duplikat]</a></div></li><li class=list-group-item><div><a href=/nonaktifkan-koreksi-otomatis-zsh-sepenuhnya-fad61zqt/>Nonaktifkan koreksi otomatis zsh sepenuhnya</a></div></li><li class=list-group-item><div><a href=/apa-itu-perintah-linux-untuk-menemukan-file-yang-berisi-beberapa-string-tetapi-tidak-yang-lain-fghqohoc/>Apa itu perintah Linux untuk menemukan file yang berisi beberapa string tetapi tidak yang lain?</a></div></li><li class=list-group-item><div><a href=/keluar-dari-e2fsck-saat-boot-wfw6b9o1/>keluar dari e2fsck saat boot</a></div></li><li class=list-group-item><div><a href=/mendapatkan-keluaran-dari-perintah-dalam-buffer-vim-saeee76b/>mendapatkan keluaran dari perintah dalam buffer vim</a></div></li><li class=list-group-item><div><a href=/tidak-bisa-mendapatkan-kecepatan-gigabit-dengan-intel-ethernet-connection-i217-v-yp9g05ey/>Tidak bisa mendapatkan kecepatan gigabit dengan Intel Ethernet Connection I217-V</a></div></li><li class=list-group-item><div><a href=/ubah-font-default-di-ms-word-2010-b2bxsuwe/>Ubah font default di MS word 2010?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>