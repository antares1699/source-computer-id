<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Salin daftar file yang mempertahankan struktur direktori, tanpa skrip</title><meta name=description content="Adakah cara untuk menyalin daftar file, yang berbagi direktori dasar yang sama, dengan mempertahankan struktur direktori relatifnya? File dengan jalur relatif dicantumkan dalam file teks.  edit  Saya memiliki nama file yang tercantum..."><link rel=canonical href=https://www.idxstack.com/salin-daftar-file-yang-mempertahankan-struktur-direktori-tanpa-skrip-g7uverzd/><meta property="og:title" content="Salin daftar file yang mempertahankan struktur direktori, tanpa skrip"><meta property="og:description" content="Adakah cara untuk menyalin daftar file, yang berbagi direktori dasar yang sama, dengan mempertahankan struktur direktori relatifnya? File dengan jalur relatif dicantumkan dalam file teks.  edit  Saya memiliki nama file yang tercantum..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/salin-daftar-file-yang-mempertahankan-struktur-direktori-tanpa-skrip-g7uverzd/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Salin daftar file yang mempertahankan struktur direktori, tanpa skrip"><meta name=twitter:description content="Adakah cara untuk menyalin daftar file, yang berbagi direktori dasar yang sama, dengan mempertahankan struktur direktori relatifnya? File dengan jalur relatif dicantumkan dalam file teks.  edit  Saya memiliki nama file yang tercantum..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Salin daftar file yang mempertahankan struktur direktori, tanpa skrip</h1><div itemprop=text><p>Adakah cara untuk menyalin daftar file, yang berbagi direktori dasar yang sama, dengan mempertahankan struktur direktori relatifnya? File dengan jalur relatif dicantumkan dalam file teks. <strong>edit</strong> Saya memiliki nama file yang tercantum dalam file teks biasa.</p><p>Saya ingin melakukan ini <em>tanpa</em> menggunakan skrip (tanpa bash / batch / python / ruby ​​/ lua / etc.), mirip dengan cara <code>wget -i</code> bekerja untuk url. (Alasan saya adalah itu akan memberikan solusi overhead / non-standar untuk tugas yang cukup umum.)</p><p>Saya sudah mencoba <code>cat list.txt | xargs -I % cp % new_folder</code> dari <a href=https://superuser.com/questions/180251/copy-list-of-files target=_blank rel="nofollow noopener">Salin daftar file</a> tetapi itu tidak mempertahankan jalur direktori relatif.</p><p>Saya akan melakukan ini untuk mengekspor pilihan file saya (yang sudah saya miliki dalam file teks) dari struktur direktori yang memiliki banyak file (terjadi dari waktu ke waktu).</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener"><span itemprop=name>n611x007</span></a>
—
<a href=https://superuser.com/questions/667995/copy-a-list-of-files-preserving-directory-structure-without-scripts target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>alasan lain untuk menggunakan perintah yang berdiri sendiri daripada skrip khusus adalah karena program cenderung sudah diinstal atau memiliki paket / penginstal yang dapat ditemukan di internet dengan mengingat program itu. <i>nama</i> sendirian, sementara harus menulisnya lagi setiap kali atau membawa skrip Anda sendiri ke mana-mana entah bagaimana terasa kurang bermanfaat (bahkan jika Anda tidak memiliki masalah dengan keterampilan Anda).</div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>5</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>5</div><div class=card-body><div itemprop=text><p><em>tar cvf <strong>-</strong> ./filesAndDirecotries | (cd targetDirectory; tar xvf <strong>-</strong> )</em></p><p>TAR (Tape Archive adalah perintah lama untuk membuat file arsip) dapat menulis ke stdin (parameter "-" untuk file) dan pipa dan membaca dari stdin di direktori kedua.</p><p>Perintah di atas pertama-tama membuat file tar dan menulis ke stdin dan disalurkan ke shell dan mengubah direktori dan untar file dengan membacanya dari stdin.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/salin-daftar-file-yang-mempertahankan-struktur-direktori-tanpa-skrip-g7uverzd/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/268581/unixuser target=_blank rel="nofollow noopener"><span itemprop=name>unixUser</span></a>
—
<a href=https://superuser.com/a/668094 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Saya tidak cukup jelas dalam pertanyaan saya bahwa saya mencoba menggunakan file teks yang mencantumkan nama file, dan mencari opsi untuk menggunakan file teks itu dari program yang dapat menyalin. Namun solusi ini sangat bagus, dan menuntun saya ke arah yang benar karena menurut saya ini dapat dilakukan melalui sakelar <code>-T</code>: <code>-T, --files-from F: get names to extract or create from file F</code></div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li><li class=list-group-item><div>Saya akan menerima ini karena ini paling mendekati apa yang ada dalam pikiran saya dan menempatkan saya di jalur yang benar. Saya telah mengedit pertanyaan untuk menunjukkan keberadaan file teks. Anda dapat memperbarui jawaban Anda jika Anda mau. Akhirnya saya menggunakan <code>tar cvf - -T filelist.txt | tar xvf - -C newdir</code></div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>5</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>5</div><div class=card-body><div itemprop=text><p>Itu <a href=https://superuser.com/a/668094/129520 target=_blank rel="nofollow noopener">menjawab</a> dari <a href=https://superuser.com/users/268581/unixuser target=_blank rel="nofollow noopener">unixUser</a> menempatkan saya di jalur yang benar. Ternyata <code>tar</code> dapat membaca nama file dan direktori dari file teks dengan <code>-T</code>, dan bahkan dapat mengubah direktori dengan <code>-C</code>:</p><pre><code>tar cvf - -T filelist.txt | tar xvf - -C newdir
</code></pre><p>Ini menjawab pertanyaan saya.</p><hr><p>sumber</p><p>Untuk <em>dapatkan informasi ini</em> dari <em>ide unixUser memberi saya</em> , Saya sudah <a href="https://duckduckgo.com/?q=tar+files+from+a+text+file" rel="nofollow noopener" target=_blank>merunduk</a> <em>file tar dari file teks</em> , mengarah ke <em>trpn</em> (Q) dan <em>Tinkster</em> (A) <a href=https://www.linuxquestions.org/questions/linux-general-1/tar-from-contents-of-a-text-file-154721/ rel="nofollow noopener" target=_blank>konversi di linuxquestions.org</a> . Secara bersamaan memeriksa <a href=http://linuxcommand.org/lc3_man_pages/tar1.html rel="nofollow noopener" target=_blank>halaman manual tar</a> untuk opsi apa pun yang ada hubungannya dengan <em>mengajukan</em> , kedua pencarian mengarah ke tombol <code>-T</code>! Untuk menghindari mengandalkan shell untuk mengubah direktori, saya juga <a href=https://blog.mozilla.org/metrics/2011/08/25/do-90-of-people-not-use-ctrlf/ rel="nofollow noopener" target=_blank>dicari</a> itu untuk apapun <em>direktori</em> opsi terkait dan menemukan saklar <code>-C</code>. - Saya melihat bahwa <code>tar</code> mungkin <em>itu</em> perintah yang dimaksudkan untuk mengelompokkan (salinan) file dengan berbagai cara.</p><p>Dengan ini, seseorang dapat menggunakan beberapa biner tar tanpa * bergantung pada skrip. Sungguh menakjubkan betapa bergunanya tar.</p><hr><p>(*: dari <strong>Pilihan</strong> : Saya menemukan bash / perl / python / apapun a <em>terlalu umum</em> alat untuk ini <em>cukup tepat</em> tugas. Namun, sebagai <a href=https://superuser.com/questions/667995/copy-a-list-of-files-preserving-directory-structure-without-scripts/668303#comment844751_668014 target=_blank rel="nofollow noopener">menunjukkan</a> oleh <a href=https://superuser.com/users/1686/grawity target=_blank rel="nofollow noopener">grawity</a> , pipa nyaman - <a href="http://www.perlmonks.org/?node_id=56149" rel="nofollow noopener" target=_blank>tanpa mereka</a> seseorang harus dipaksa untuk membuat file perantara, misalnya. <code>tar cvf intermediate.tar -T filelist.txt</code> dan <code>tar xvf intermediate.tar -C newdir</code>.)</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/salin-daftar-file-yang-mempertahankan-struktur-direktori-tanpa-skrip-g7uverzd/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener"><span itemprop=name>n611x007</span></a>
—
<a href=https://superuser.com/a/668303 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Secara teknis, contoh yang Anda berikan sudah menggunakan bash. Dan itulah mengapa shell dapat ditulis di tempat pertama - ini adalah tugas yang sangat sederhana sehingga tidak perlu alat / program khusus. <em>hanya untuk itu.</em></p><pre>
cat list.txt | xargs -n1 dirname | sort | uniq | xargs -I% mkdir -p new_folder/%
cat list.txt | xargs -I% cp % new_folder/%
</pre><p>Atau:</p><pre>
cat list.txt | while read path; do
    mkdir -p "new_folder/${path%/*}" && cp "$path" "new_folder/$path"
done
</pre><p>Atau:</p><pre>
cat list.txt | xargs -I% install -Dm0644 % new_folder/%
</pre><p>Atau:</p><pre>
cat list.txt | while read path; do
    install -Dm0644 "$path" "new_folder/$path"
done
</pre><p>(<code>install</code> lebih pendek tetapi sayangnya tidak mempertahankan mode.)</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/salin-daftar-file-yang-mempertahankan-struktur-direktori-tanpa-skrip-g7uverzd/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener"><span itemprop=name>user1686</span></a>
—
<a href=https://superuser.com/a/668014 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=2>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=2><ul class="list-group list-group-flush"><li class=list-group-item><div>Anda benar tentang bash, tetapi saya telah membuat perbedaan atas dasar bahwa memperkenalkan aliran kontrol dan variabel benar-benar berlebihan untuk ini dan semakin banyak ketergantungan yang Anda perkenalkan, semakin bergantung solusi pada platform. Saya juga tidak senang dengan substitusi string tetapi itu adalah contoh terdekat yang saya dapatkan. Di sisi lain, sebagian besar platform telah memahami pipa, jadi ini adalah ketergantungan yang lebih kecil. Solusi pertama Anda yang memperbaiki contoh paling mendekati, terima kasih!</div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li><li class=list-group-item><div>Ada platform yang dengan mudah menjalankan Perl tetapi tidak memiliki bash atau xargs (Windows) atau bahkan pipa yang mudah digunakan (VMS).</div><div>— <a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener">user1686</a></div></li><li class=list-group-item><div>Benar lagi. Saya kira saya sudah mencoba menjelaskan preferensi saya. Di sisi lain, perintah <code>tar</code> tampaknya sesuai dengan kebutuhan saya; Saya tidak tahu ada tombol <code>-T</code>. Saya pikir bagus untuk memiliki opsi ini tersedia seperti di sini dan jawaban Anda juga menjelaskan bagaimana hal ini biasanya dilakukan.</div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li><li class=list-group-item><div>Di sisi lain, saya harus lebih mengenal VMS. Saya tidak pernah menggunakannya tetapi tidak mengira itu tidak memiliki pipa. Saya ingin tahu VMS apa yang bisa digunakan di sini karena yang ini juga menggunakan pipa. Mungkinkah itu hanya mengandalkan skrip? (di Windows, ada <a href=http://sourceforge.net/projects/unxutils/ rel="nofollow noopener" target=_blank>unxutils</a> , <a href=http://gnuwin32.sourceforge.net/packages.html rel="nofollow noopener" target=_blank>gnuwin32</a> , <a href=http://cygwin.com rel="nofollow noopener" target=_blank>cygwin</a> , <a href=http://msysgit.github.io/ rel="nofollow noopener" target=_blank>lingkungan msysgit</a> dan <a href=http://alternativeto.net/software/gow/ rel="nofollow noopener" target=_blank>begitu seterusnya</a> , untuk memberikan keakraban / fitur)</div><div>— <a href=https://superuser.com/users/129520/n611x007 target=_blank rel="nofollow noopener">n611x007</a></div></li><li class=list-group-item><div>@naxa: Nah, sebagian besar VMS sudah mati. Meskipun tampaknya antarmuka baris perintahnya memiliki dukungan untuk pipa di versi yang lebih baru (file <a href=http://h71000.www7.hp.com/doc/83final/9996/9996pro_155.html rel="nofollow noopener" target=_blank><code>PIPE</code></a> kata kunci), tetapi pasti tidak dirancang untuk itu - sebagai perbandingan, bahkan Windows CLI lebih mirip Unix.</div><div>— <a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener">user1686</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/bagaimana-cara-menginstal-amigaos-41-pada-sistem-x86-standar-jjduawzd/>Bagaimana cara menginstal AmigaOS 4.1 pada sistem x86 standar?</a></div></li><li class=list-group-item><div><a href=/jika-saya-memperoleh-pemindai-qr-kode-batang-usb-dapatkah-saya-mengaturnya-untuk-meluncurkan-browser-secara-otomatis-setelah-membaca-url-sfosudgd/>Jika saya memperoleh pemindai QR / kode batang USB, dapatkah saya mengaturnya untuk meluncurkan browser secara otomatis setelah membaca URL?</a></div></li><li class=list-group-item><div><a href=/gvim-berkedip-di-tempat-yang-biasanya-membunyikan-bel-a2oliuob/>GVim berkedip di tempat yang biasanya membunyikan bel</a></div></li><li class=list-group-item><div><a href=/cara-mewarnai-latar-belakang-sel-secara-otomatis-dengan-nilai-yang-dipilih-dari-daftar-dropdown-kustom-di-ms-excel-2010-qlimynn9/>Cara mewarnai latar belakang sel secara otomatis dengan nilai yang dipilih dari daftar dropdown kustom di MS Excel 2010</a></div></li><li class=list-group-item><div><a href=/el-capitan-beta-virtualbox-5-tidak-mau-terbuka-uid-yang-efektif-bukan-root-5rljsjux/>El Capitan beta - VirtualBox 5 tidak mau terbuka: UID yang efektif bukan root</a></div></li><li class=list-group-item><div><a href=/mengapa-google-docs-lambat-di-osx-chrome-3j9saswr/>Mengapa Google Docs lambat di OSX / Chrome?</a></div></li><li class=list-group-item><div><a href=/apakah-ada-file-yang-tidak-dapat-dihapus-di-linux-v5qy82sf/>Apakah ada file yang tidak dapat dihapus di Linux?</a></div></li><li class=list-group-item><div><a href=/kecepatan-salin-yang-menggila-2fnh73hn/>Kecepatan Salin yang Menggila?</a></div></li><li class=list-group-item><div><a href=/buka-banyak-file-sekaligus-dalam-satu-tab-dan-pisahkan-di-vim-ta3jgntc/>Buka banyak file sekaligus dalam satu tab dan pisahkan di Vim</a></div></li><li class=list-group-item><div><a href=/kontainer-docker-tidak-dapat-terhubung-ke-internet-di-fedora-32-nn8ecbua/>Kontainer Docker tidak dapat terhubung ke internet di Fedora 32?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>