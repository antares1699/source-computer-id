<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Ubah RAID 1 ke RAID 10 di mdadm</title><meta name=description content="Di server Ubuntu saya saat ini, saya memiliki hard drive Western Digital RED 2x 2TB dalam RAID 1, menggunakan mdadm. Saya ingin menambahkan 2 lagi drive 2TB RED, dan mengubahnya menjadi RAID..."><link rel=canonical href=https://www.idxstack.com/ubah-raid-1-ke-raid-10-di-mdadm-nzfkywll/><meta property="og:title" content="Ubah RAID 1 ke RAID 10 di mdadm"><meta property="og:description" content="Di server Ubuntu saya saat ini, saya memiliki hard drive Western Digital RED 2x 2TB dalam RAID 1, menggunakan mdadm. Saya ingin menambahkan 2 lagi drive 2TB RED, dan mengubahnya menjadi RAID..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/ubah-raid-1-ke-raid-10-di-mdadm-nzfkywll/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ubah RAID 1 ke RAID 10 di mdadm"><meta name=twitter:description content="Di server Ubuntu saya saat ini, saya memiliki hard drive Western Digital RED 2x 2TB dalam RAID 1, menggunakan mdadm. Saya ingin menambahkan 2 lagi drive 2TB RED, dan mengubahnya menjadi RAID..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Ubah RAID 1 ke RAID 10 di mdadm</h1><div itemprop=text><p>Di server Ubuntu saya saat ini, saya memiliki hard drive Western Digital RED 2x 2TB dalam RAID 1, menggunakan mdadm. Saya ingin menambahkan 2 lagi drive 2TB RED, dan mengubahnya menjadi RAID 10. Saya menyadari bahwa saya harus menghapus data kemungkinan besar, tetapi adakah cara yang tidak saya perlukan? Saya memiliki volume 2TB yang hampir terisi penuh</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener"><span itemprop=name>Canadian Luke</span></a>
—
<a href=https://superuser.com/questions/610538/convert-raid-1-to-raid-10-in-mdadm target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>Saya yakin opsi level mdadm --grow akan memungkinkan ini. Saya telah menggunakannya untuk beralih dari raid5 ke raid6 tetapi tidak dari raid1 ke raid10 jadi saya belum mengujinya.</div><div>— <a href=https://superuser.com/users/76204/drescherjm target=_blank rel="nofollow noopener">drescherjm</a></div></li><li class=list-group-item><div>BTW sebelum Anda tumbuh, Anda akan menambahkan 2 drive lainnya sebagai suku cadang.</div><div>— <a href=https://superuser.com/users/76204/drescherjm target=_blank rel="nofollow noopener">drescherjm</a></div></li><li class=list-group-item><div>Pertanyaan serupa: <a href=http://serverfault.com/questions/43677/best-way-to-grow-linux-software-raid-1-to-raid-10 title="best way to grow linux software raid 1 to raid 10" target=_blank rel="nofollow noopener">serverfault.com/questions/43677/…</a></div><div>— <a href=https://superuser.com/users/3680/kevin-panko target=_blank rel="nofollow noopener">Kevin Panko</a></div></li><li class=list-group-item><div>@KevinPerlu duplikat! Oh baiklah, dia mendapat suara positif saya</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>8</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>8</div><div class=card-body><div itemprop=text><p>Ini membutuhkan beberapa strategi, dan sayangnya, beberapa waktu yang lalu, jadi bersabarlah; Aku akan mengingatnya.</p><p>Pada dasarnya, saya mematikan server, dan memasang dua drive baru. Saya melakukan backup sebelumnya ke HDD 4TB Eksternal (jauh lebih cepat karena memiliki USB3!), Untuk berjaga-jaga. Untungnya, saya tidak perlu menggunakannya, tetapi saya senang setidaknya sudah memilikinya. Saya mencatat apa ukuran partisi pada disk (berdasarkan ukuran blok), dan apa setiap disk itu. Pada saat itu, <code>sda</code> dan <code>sdb</code> adalah drive dengan array arus yang dimuat. <code>sdc</code> dan <code>sdd</code> adalah drive baru. Saya menyalin tata letak partisi ke dua disk baru, menggunakan <code>fdisk</code> sebagai root. Saya kemudian membuat array baru, dengan dua anggota yang hilang:</p><pre><code>mdadm -v --create /dev/md1 --level=raid10 --raid-devices=4 /dev/sdc1 missing /dev/sdd2 missing
</code></pre><p>Perintah ini membuat larik, yang disebut <code>/dev/md1</code>, menyetel jenis RAID ke 10, dan mengatakan bahwa harus ada 4 perangkat, di dunia yang sempurna. Perangkat yang saya tambahkan adalah <code>/dev/sdc1</code> dan <code>/dev/sdd1</code> untuk partisi pertama. Setelah selesai, saya memasang array (seperti <code>/mnt/raid</code>), dan melakukan <code>rsync -avP /mnt/data/ /mnt/raid/</code>, dan menunggu satu hari untuk menyalin semuanya.</p><p>Setelah disalin, Anda harus menggagalkan hard drive dalam larik, dan menghapusnya: <code>mdadm /dev/md0 --fail /dev/sda1 --remove /dev/sda1</code>. Anda kemudian dapat menambahkan hard drive tersebut ke larik baru, dan menunggu hingga selesai dibangun kembali. Kemudian, hapus drive terakhir dari array (sebagai gantinya gunakan <code>/deb/sdb</code>), dan tambahkan kembali (<code>mdadm /dev/md1 --add /dev/sda1</code>).</p><p>Terakhir, untuk menghapus array lama agar tidak memulai atau memberi peringatan, jalankan <code>mdadm --stop /dev/md0</code>. Pada titik ini, array lama hilang! Saya menyarankan untuk memeriksa ulang apakah boot loader telah diinstal dengan benar pada array (atau, tergantung pada skema Anda, sektor boot dari hard drive). Coba reboot; jika semuanya muncul, bagus! Jika tidak, itulah mengapa kami memiliki cadangan!</p><p>Sebagai bonus, saya mempelajari perintah baru yang berguna: <code>watch cat /proc/mdstat</code> untuk secara otomatis memperbarui layar setiap 2 detik dengan status pembangunan kembali drive Anda. saya juga <a href=https://www.talk-about-it.ca/growing-2-disk-raid1-array-to-4-disk-raid10-array/ rel="nofollow noopener" target=_blank>menulis entri blog</a> tentang pengalaman saya, termasuk gambar.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/ubah-raid-1-ke-raid-10-di-mdadm-nzfkywll/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener"><span itemprop=name>Canadian Luke</span></a>
—
<a href=https://superuser.com/a/726063 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=http://serverfault.com/a/43712/257516 target=_blank rel="nofollow noopener">ServerFault</a> memiliki prosedur yang sangat mirip, dengan satu saran penting: cobalah untuk mem-boot array baru Anda sebelum menghancurkan yang lama (tidak apa-apa jika gagal <i>satu</i> drive dalam larik lama sebelumnya, tetapi tidak keduanya).</div><div>— <a href=https://superuser.com/users/294963/jonathan-y target=_blank rel="nofollow noopener">Jonathan Y.</a></div></li><li class=list-group-item><div>@Jonathan telah memberikan komentar untuk pertanyaan tersebut</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>Oh iya. Meskipun, saya yakin perlu menyebutkan perbedaan spesifik itu secara eksplisit.</div><div>— <a href=https://superuser.com/users/294963/jonathan-y target=_blank rel="nofollow noopener">Jonathan Y.</a></div></li><li class=list-group-item><div>Simulasikan ini dengan perangkat loopback yang menggunakan <code>/dev/loop0</code>, <code>/dev/loop1</code>, <code>/dev/loop2</code>, <code>/dev/loop3</code>, dengan masing-masing mengarah ke file <code>disk0.img</code>, <code>disk1.img</code>, <code>disk2.img</code>, <code>disk3.img</code>. Itu berhasil dan saya berhasil menulisnya sepenuhnya dengan file teks dan berhasil membacanya kembali tanpa korupsi. Satu hal yang tidak dapat saya pahami, dengan <code>mdadm --details /dev/mdX</code>, <code>Used Dev Size</code> adalah setengah dari <code>Array Size</code>, saya mengulanginya sambil mengubah urutan <code>missing</code>, tidak masalah. Saya memiliki 3 array RAID lainnya, 2 di antaranya RAID 1, salah satunya RAID10 dengan 2 disk menggunakan tata letak <code>f2</code>, untuk semua ukuran sama.</div><div>— User</div></li><li class=list-group-item><div>@CanadianLuke Ketika Anda <code>mdadm --detail /dev/mdX</code>, apa itu <code>Array Size</code> dan apa <code>Used Dev Size</code>?</div><div>— User</div></li><li class=list-group-item><div>@sdkks tidak yakin, itu beberapa tahun yang lalu</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>@CanadianLuke Ups, saya berharap Anda masih memiliki array yang sama :) Terima kasih. Belum dapat menemukan apa pun tentang itu di Google</div><div>— User</div></li><li class=list-group-item><div>Biarkan saya muncul di komputer. Bergabunglah dengan ruang obrolan "akses root"</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>@CanadianLukeREINSTATEMONICA situasi saya seperti yang dijelaskan dalam posting blog Anda. Posting blog yang luar biasa, terima kasih! Satu-satunya hal yang tidak jelas adalah apakah saya dapat melakukan ini di Debian 10 (/ pada ext4 RAID 1 di sda & sdb) online, yaitu, tidak membuat server down dan boot dari live CD?</div><div>— <a href=https://superuser.com/users/68374/gaia target=_blank rel="nofollow noopener">Gaia</a></div></li><li class=list-group-item><div>@ Gaia Ya, selama setidaknya satu disk tetap online. Namun, jika sistemnya sangat sibuk, mungkin bermanfaat (dan, sebenarnya, disarankan) untuk melakukannya secara offline dengan LiveCD atau serupa. Anda tidak ingin membenturkan kedua salinan data Anda saat mencoba memulihkan</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>hanya partisi root yang perlu dialihkan. sebagian besar aktivitas ada di SSD, dan hanya ada satu VM tamu yang menggunakan HD yang sama (tetapi di partisi berbeda) sebagai partisi root. Seharusnya bagus. Anda adalah penyelamat. Terima kasih - tidak mungkin saya dapat membuat sistem ini offline :) Instruksi yang sama masih berlaku untuk menjaga sistem tetap online?</div><div>— <a href=https://superuser.com/users/68374/gaia target=_blank rel="nofollow noopener">Gaia</a></div></li><li class=list-group-item><div>@ Gaia Pastikan Anda memiliki backup yang berfungsi dengan baik terlebih dahulu! Hal terakhir yang saya inginkan adalah seseorang menyalahkan saya jika mereka salah mengetik perintah dan melanggar sesuatu yang tidak mereka maksudkan</div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>Terima kasih, saya memiliki tiga cadangan harian (lokal, drive usb, cloud)</div><div>— <a href=https://superuser.com/users/68374/gaia target=_blank rel="nofollow noopener">Gaia</a></div></li><li class=list-group-item><div>@CanadianLukeREINSTATEMONICA mengirimi Anda pesan di Keybase.</div><div>— <a href=https://superuser.com/users/68374/gaia target=_blank rel="nofollow noopener">Gaia</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Jika pengontrol RAID mendukung restrukturisasi RAID 1 -> RAID 10, ya, kemungkinan data hilang.</p><p>RAID perangkat lunak ...</p><p>Tambahkan RAID 1 bersih kosong pada dua HDD baru. Akan Raid c keandalan serupa dan tanpa risiko kehilangan data.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/ubah-raid-1-ke-raid-10-di-mdadm-nzfkywll/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/183984/sttr target=_blank rel="nofollow noopener"><span itemprop=name>STTR</span></a>
—
<a href=https://superuser.com/a/610569 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Uhhh ... Apa? <i>Minimal 15 karakter</i></div><div>— <a href=https://superuser.com/users/24010/canadian-luke target=_blank rel="nofollow noopener">Canadian Luke</a></div></li><li class=list-group-item><div>@Luke Software RAID kepada saya tentang itu ... <a href="http://www.youtube.com/watch?feature=player_embedded&v=THJDDF8XDKQ#t=285s" rel="nofollow noopener" target=_blank>youtube.com/…</a></div><div>— <a href=https://superuser.com/users/183984/sttr target=_blank rel="nofollow noopener">STTR</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/mendownload-semua-url-yang-dapat-diakses-di-bawah-domain-tertentu-dengan-wget-tanpa-menyimpan-halaman-sebenarnya-mgrcslob/>Mendownload semua Url yang dapat diakses di bawah domain tertentu dengan wget tanpa menyimpan halaman sebenarnya?</a></div></li><li class=list-group-item><div><a href=/restart-pc-melalui-remote-desktop-dengan-explorerexe-mati-zd7fbhdv/>Restart PC melalui remote desktop dengan Explorer.exe mati</a></div></li><li class=list-group-item><div><a href=/apakah-mungkin-untuk-memulai-windows-dengan-num-lock-aktif-alilkxff/>Apakah mungkin untuk memulai windows dengan NUM Lock aktif?</a></div></li><li class=list-group-item><div><a href=/menggunakan-perangkat-lunak-peta-pikiran-freemind-bagaimana-cara-spasi-node-bjm3faih/>Menggunakan perangkat lunak peta pikiran FreeMind, bagaimana cara spasi node?</a></div></li><li class=list-group-item><div><a href=/irssi-daftar-dianggap-berbahaya-v7wselcv/>IRSSI / daftar Dianggap Berbahaya</a></div></li><li class=list-group-item><div><a href=/memahami-root-linux-qnow7bew/>Memahami Root Linux</a></div></li><li class=list-group-item><div><a href=/microsoft-office-word-2007-sidebar-dengan-struktur-dokumen-juophscm/>Microsoft Office Word (2007) - sidebar dengan struktur dokumen</a></div></li><li class=list-group-item><div><a href=/apakah-ada-ekstensi-chrome-untuk-menukar-css-tutup-afoyd1zl/>Apakah ada ekstensi Chrome untuk menukar CSS? [Tutup]</a></div></li><li class=list-group-item><div><a href=/di-microsoft-project-bagaimana-cara-mewarnai-tugas-kode-dengan-alokasi-sumber-daya-di-bagan-gantt-saya-jbrykshg/>Di Microsoft Project, bagaimana cara mewarnai tugas kode dengan alokasi sumber daya di bagan Gantt saya?</a></div></li><li class=list-group-item><div><a href=/ttl-saat-menanyakan-data-apa-pun-dengan-dig-u28jfawk/>TTL saat menanyakan data apa pun dengan dig</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>