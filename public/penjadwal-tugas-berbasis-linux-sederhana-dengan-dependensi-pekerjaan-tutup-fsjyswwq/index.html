<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Penjadwal tugas berbasis Linux sederhana dengan dependensi pekerjaan? [Tutup]</title><meta name=description content="Saya mengelola sistem pergudangan data yang melibatkan banyak pekerjaan dependen (impor data, transformasi, dll). Saya telah menggunakan Linux crontab untuk mengelolanya sampai ketergantungan antar pekerjaan menjadi rumit.  Pada dasarnya saya mencari beberapa..."><link rel=canonical href=https://www.idxstack.com/penjadwal-tugas-berbasis-linux-sederhana-dengan-dependensi-pekerjaan-tutup-fsjyswwq/><meta property="og:title" content="Penjadwal tugas berbasis Linux sederhana dengan dependensi pekerjaan? [Tutup]"><meta property="og:description" content="Saya mengelola sistem pergudangan data yang melibatkan banyak pekerjaan dependen (impor data, transformasi, dll). Saya telah menggunakan Linux crontab untuk mengelolanya sampai ketergantungan antar pekerjaan menjadi rumit.  Pada dasarnya saya mencari beberapa..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/penjadwal-tugas-berbasis-linux-sederhana-dengan-dependensi-pekerjaan-tutup-fsjyswwq/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Penjadwal tugas berbasis Linux sederhana dengan dependensi pekerjaan? [Tutup]"><meta name=twitter:description content="Saya mengelola sistem pergudangan data yang melibatkan banyak pekerjaan dependen (impor data, transformasi, dll). Saya telah menggunakan Linux crontab untuk mengelolanya sampai ketergantungan antar pekerjaan menjadi rumit.  Pada dasarnya saya mencari beberapa..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Penjadwal tugas berbasis Linux sederhana dengan dependensi pekerjaan? [Tutup]</h1><div itemprop=text><div></div><p>Saya mengelola sistem pergudangan data yang melibatkan banyak pekerjaan dependen (impor data, transformasi, dll). Saya telah menggunakan Linux <code>crontab</code> untuk mengelolanya sampai ketergantungan antar pekerjaan menjadi rumit.</p><p>Pada dasarnya saya mencari beberapa pengganti <code>cron</code> yang membantu saya dengan skenario berikut:</p><ul><li><p>Jalankan pekerjaan A di <code>00:05</code> (mudah). Biasanya ini adalah tugas impor.</p></li><li><p>Jadwalkan pekerjaan B, C, D untuk dijalankan setelah pekerjaan A selesai. Pekerjaan D hanya berjalan 30 menit setelah pekerjaan A selesai (untuk mendistribusikan beban). Ini adalah pekerjaan transformasi.</p></li><li><p>Job E berjalan saat semua B, C, D selesai. Biasanya ini adalah pekerjaan yang membawa data agregat ke database front-end web.</p></li></ul><p>Semua ini terjadi di node yang sama.</p><p>Saya membayangkan itu terlihat seperti grafik topologi.</p><pre><code>A--&gt; B --------------&gt;---&gt; E
 \-&gt; C -------------/   /
 \-&gt; (delay 30mins) -&gt; D
</code></pre><p>Apakah ada alat sederhana berbasis linux yang mendukung ini? Saya sudah memeriksanya <a href=http://nerds.airbnb.com/introducing-chronos/ rel="nofollow noopener" target=_blank>Chronos Airbnb</a> tapi tampaknya berlebihan untuk kebutuhanku.</p><p>Sunting: Skenario di atas hanyalah versi sederhana dari apa yang terjadi. Kami memiliki lebih banyak pekerjaan harian dan ketergantungannya jauh lebih rumit. Jadi saya sebenarnya mencari beberapa "cron on steroid" daripada skrip bash kasus per kasus untuk memenuhi setiap skenario.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/38887/huy target=_blank rel="nofollow noopener"><span itemprop=name>huy</span></a>
—
<a href=https://superuser.com/questions/594931/simple-linux-based-task-scheduler-with-job-dependencies target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>Saya kira menggunakan server CI Jenkins akan berlebihan juga. Tetap saja, itu akan berhasil.</div><div>— <a href=https://superuser.com/users/22317/daniel-beck target=_blank rel="nofollow noopener">Daniel Beck&#9830;</a></div></li><li class=list-group-item><div>Kamu <i>bisa</i> lakukan ini dengan skrip bash yang cukup sederhana yang berjalan pada 00:05 (melalui crond apa pun), mulai pekerjaan A dan menunggu penyelesaiannya, lalu mulai B dan C di latar belakang serta subproses latar belakang yang menunggu 30 menit lalu mulai D , lalu tunggu semuanya selesai sebelum memulai E, lalu saat E selesai cukup keluar. Berikan sedikit penanganan kesalahan untuk tindakan yang baik dan Anda harus melakukannya dengan baik. Tautan yang mungkin berguna: <a href=http://stackoverflow.com/q/356100/486504 target=_blank rel="nofollow noopener">stackoverflow.com/q/356100/486504</a> <a href=http://stackoverflow.com/a/6041820/486504 target=_blank rel="nofollow noopener">stackoverflow.com/a/6041820/486504</a> Google "bash menunggu subproses" atau serupa.</div><div>— <a href=https://superuser.com/users/53590/user target=_blank rel="nofollow noopener">user</a></div></li><li class=list-group-item><div>Michael: Terima kasih. Padahal kasus penggunaan saya jauh lebih rumit dari itu. Saya telah memperbarui pertanyaan untuk mencerminkan.</div><div>— <a href=https://superuser.com/users/38887/huy target=_blank rel="nofollow noopener">huy</a></div></li><li class=list-group-item><div>Jadi Anda sedang mencari alat sederhana untuk menangani versi yang lebih kompleks yang tidak ditentukan dari apa yang Anda gunakan sebagai contoh ... Terus terang, jika demikian, saya tidak yakin pertanyaan yang ada dapat dijawab. Kemudian <i>setidaknya</i> jelaskan mengapa alternatif yang Anda temukan "berlebihan" untuk kebutuhan Anda, dan apa <i>spesifik</i> fitur yang Anda butuhkan.</div><div>— <a href=https://superuser.com/users/53590/user target=_blank rel="nofollow noopener">user</a></div></li><li class=list-group-item><div><a href=http://vicerveza.homeunix.net/~viric/soft/ts/ rel="nofollow noopener" target=_blank>vicerveza.homeunix.net/~viric/soft/ts</a> - di repo Debian.</div><div>— <a href=https://superuser.com/users/51705/lawrencec target=_blank rel="nofollow noopener">LawrenceC</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Seperti yang disarankan Michael Kjörling di komentar, Anda seharusnya dapat melakukan ini dengan skrip bash sederhana. Sesuatu seperti ini:</p><pre><code>#!/usr/bin/env bash

## Log file to which the "echo" commands bellow will write
logfile="/tmp/$$.log"

## Change "ls /etc &gt;/dev/null " to reflect the actual 
## jobs you want to run but keep the  "&amp;&amp; echo job N finished" as is.
jobA="ls /etc &gt;/dev/null"
jobB="ls /etc &gt;/dev/null &amp;&amp; echo 'job B finished' &gt;&gt; $logfile"
jobC="ls /etc &gt;/dev/null &amp;&amp; echo 'job C finished' &gt;&gt; $logfile"
jobD="ls /etc &gt;/dev/null &amp;&amp; echo 'job D finished' &gt;&gt; $logfile"
jobE="ls /etc &gt;/dev/null";

## Run job A, launch jobs B and C as soon as A is finished
## and launch job D 30 minutes after A finishes.
eval $jobA &amp;&amp; (sleep 30 &amp;&amp; eval $jobD) &amp; eval $jobB &amp; eval $jobC &amp;


## Now, monitor the logfile and run job E when the rest have finished
while true; do
    lines=`wc -l $logfile | cut -f 1 -d ' '`;
    echo "$logfile : $lines"
    ## The logfile will contain 4 lines if all jobs have finished
    if [ "$lines" -eq 3 ];
    then
      ## Run job E
      eval $jobE 
      ## Delete the logfile
      rm $logfile
      ## exit the script
      exit 0;
    fi
    ## Only check if the jobs are finished once a minute
    sleep 60;
done
</code></pre><p>Jika Anda menggunakan <code>cron</code> untuk meluncurkan skrip ini pada 00:05, skrip ini akan melakukan apa yang Anda inginkan. Trik utama di sini adalah penggunaan <a href=http://linux.about.com/od/Bash_Scripting_Solutions/a/Subshells-In-Bash-Scripts.htm rel="nofollow noopener" target=_blank>subkulit</a> <code>()</code> dan <code>&&</code>. Subkelompok memungkinkan Anda menjalankan beberapa pekerjaan latar belakang dan <code>&&</code> hanya menjalankan pekerjaan setelah pekerjaan lain berhasil keluar.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/penjadwal-tugas-berbasis-linux-sederhana-dengan-dependensi-pekerjaan-tutup-fsjyswwq/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/151431/terdon target=_blank rel="nofollow noopener"><span itemprop=name>terdon</span></a>
—
<a href=https://superuser.com/a/595054 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Terima kasih atas bantuan Anda @terdon. Maaf saya tidak lebih jelas tentang situasi saya. Jumlah pekerjaan yang saya miliki jauh lebih banyak dari itu, dan antar ketergantungan jauh lebih rumit. Skenario yang saya gambarkan hanyalah versi sederhana dari apa yang biasanya akan terjadi.</div><div>— <a href=https://superuser.com/users/38887/huy target=_blank rel="nofollow noopener">huy</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Ini terlihat menarik:</p><ul><li><a href=https://airflow.incubator.apache.org/ rel="nofollow noopener" target=_blank>https://airflow.incubator.apache.org/</a><blockquote><p>tidak begitu sederhana tetapi kuat dan didukung oleh apache, dikonfigurasi oleh kode, banyak digunakan sekarang</p></blockquote></li><li><a href=https://www.digdag.io/ rel="nofollow noopener" target=_blank>https://www.digdag.io/</a><blockquote><p>java airflow seperti, lebih mudah dikonfigurasi</p></blockquote></li><li><a href=https://github.com/thieman/dagobah rel="nofollow noopener" target=_blank>https://github.com/thieman/dagobah</a><blockquote><p>Penjadwal pekerjaan berbasis DAG sederhana dengan Python</p></blockquote></li><li><a href=https://github.com/spotify/luigi rel="nofollow noopener" target=_blank>https://github.com/spotify/luigi</a> (oleh spotify)<blockquote><p>Luigi adalah modul Python yang membantu Anda membangun pipeline yang kompleks
pekerjaan batch.</p></blockquote></li></ul><p>Ini semua adalah proyek python (harapkan digdag) yang bertujuan mengganti cron dengan GUI yang bagus untuk melihat grafik ketergantungan.</p><p>Saya dulu menggunakan bash untuk hal ini, tetapi semakin buruk ketika Anda tumbuh menjadi sistem yang kompleks.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/penjadwal-tugas-berbasis-linux-sederhana-dengan-dependensi-pekerjaan-tutup-fsjyswwq/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/455605/thibault-ketterer target=_blank rel="nofollow noopener"><span itemprop=name>thibault ketterer</span></a>
—
<a href=https://superuser.com/a/938012 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>2</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>2</div><div class=card-body><div itemprop=text><p>BMC Software membuat produk bernama Control-M yang cocok untuk deskripsi masalah Anda. Namun, ini tidak gratis :(</p><p>Kami menggunakannya untuk mengelola sekitar 500 pekerjaan dalam produksi, dan mendekati 400 di lingkungan pengujian. Anda menginstal klien di mesin apa pun yang Anda butuhkan, lalu menyiapkan pekerjaan di server Control-M untuk dijalankan di klien. Ada banyak sekali parameter yang dapat dikonfigurasi dan kriteria penjadwalan, yang semuanya dapat diatur melalui GUI atau baris perintah. Bagian yang paling pas untuk masalah Anda adalah bahwa masalah ini berkembang saat menyiapkan kondisi input / output untuk pekerjaan sehingga Anda dapat memiliki ketergantungan hanya dengan menyeret dan melepaskan antar pekerjaan. Kami menggunakannya untuk menyiapkan aliran alur kerja dari 20+ pekerjaan sekaligus.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/penjadwal-tugas-berbasis-linux-sederhana-dengan-dependensi-pekerjaan-tutup-fsjyswwq/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/292959/ben target=_blank rel="nofollow noopener"><span itemprop=name>ben</span></a>
—
<a href=https://superuser.com/a/706374 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/cara-mengisi-rumus-secara-horizontal-tetapi-referensi-sel-kenaikan-secara-vertikal-u1cmlt8a/>Cara mengisi rumus secara horizontal tetapi referensi sel kenaikan secara vertikal</a></div></li><li class=list-group-item><div><a href=/paksa-bookmark-firefox-untuk-memuat-di-tab-baru-7wvqbo3i/>Paksa bookmark Firefox untuk memuat di tab baru</a></div></li><li class=list-group-item><div><a href=/autorun-usb-flash-drive-btsypdoa/>Autorun USB flash drive</a></div></li><li class=list-group-item><div><a href=/mpv-cara-memutar-daftar-url-yang-disalurkan-dari-stdin-xbvmlbph/>mpv: cara memutar daftar URL yang disalurkan dari stdin</a></div></li><li class=list-group-item><div><a href=/pemutar-musik-di-linux-tanpa-playlist-hanya-navigasi-direktori-dan-pemutaran-file-nfeoik30/>Pemutar musik di Linux tanpa playlist, hanya navigasi direktori dan pemutaran file</a></div></li><li class=list-group-item><div><a href=/folder-pencarian-untuk-header-email-arbitrer-di-outlook-3ex8rphm/>Folder Pencarian untuk header email arbitrer di Outlook</a></div></li><li class=list-group-item><div><a href=/bagaimana-mengkalibrasi-baterai-laptop-vxzhldc9/>Bagaimana mengkalibrasi baterai laptop</a></div></li><li class=list-group-item><div><a href=/file-sementara-20gb-hanya-50mb-di-folder-temp-orztddrp/>File Sementara 20GB, Hanya 50MB di Folder Temp</a></div></li><li class=list-group-item><div><a href=/pencegahan-auto-sleep-mac-os-x-mtty3zak/>Pencegahan Auto Sleep Mac OS X.</a></div></li><li class=list-group-item><div><a href=/samba-tidak-ditemukan-di-mana-biner-samba-vnfl4v54/>Samba tidak ditemukan, di mana biner samba?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>