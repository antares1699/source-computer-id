<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Bagaimana cara mencantumkan pasangan ethernet virtual mana yang berjalan di host linux saat ini?</title><meta name=description content="Saya punya pertanyaan terkait dengan pasangan veth yang digunakan dalam sistem Linux. Saya ingin tahu pasangan veth mana yang berjalan di host saat ini, yang saya maksud adalah menanyakan pasangan dengan menggunakan..."><link rel=canonical href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/><meta property="og:title" content="Bagaimana cara mencantumkan pasangan ethernet virtual mana yang berjalan di host linux saat ini?"><meta property="og:description" content="Saya punya pertanyaan terkait dengan pasangan veth yang digunakan dalam sistem Linux. Saya ingin tahu pasangan veth mana yang berjalan di host saat ini, yang saya maksud adalah menanyakan pasangan dengan menggunakan..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bagaimana cara mencantumkan pasangan ethernet virtual mana yang berjalan di host linux saat ini?"><meta name=twitter:description content="Saya punya pertanyaan terkait dengan pasangan veth yang digunakan dalam sistem Linux. Saya ingin tahu pasangan veth mana yang berjalan di host saat ini, yang saya maksud adalah menanyakan pasangan dengan menggunakan..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Bagaimana cara mencantumkan pasangan ethernet virtual mana yang berjalan di host linux saat ini?</h1><div itemprop=text><p>Saya punya pertanyaan terkait dengan pasangan <code>veth</code> yang digunakan dalam sistem Linux. Saya ingin tahu pasangan <code>veth</code> mana yang berjalan di host saat ini, yang saya maksud adalah menanyakan pasangan dengan menggunakan satu perintah Linux atau menemukan konfigurasi terkait di beberapa file.</p><p>Saya tahu bahwa untuk membangun <code>veth</code> pasangan, Anda dapat dengan mudah menggunakan</p><pre><code>ip link add name1 type veth name2
</code></pre><p>Tetapi saya belum menemukan perintah atau file yang dapat digunakan untuk menanyakan pasangan veth yang sedang berjalan.</p><p>Jika Anda mengetahui cara yang dapat menemukan <code>veth</code> pasang yang sedang berjalan, dapatkah Anda memberi tahu saya? Ini akan sangat membantu saya.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/237657/yang target=_blank rel="nofollow noopener"><span itemprop=name>Yang</span></a>
—
<a href=https://superuser.com/questions/618968/how-can-i-list-which-virtual-ethernet-pairs-are-running-in-the-current-linux-hos target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>6</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>5</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>5</div><div class=card-body><div itemprop=text><p>Anda bisa mendapatkan peer ifindex dengan perintah ethtool berikut.</p><pre><code># ethtool -S veth1
NIC statistics:
     peer_ifindex: 7
</code></pre><p>ifindex ditampilkan dengan:</p><pre><code># ip link
</code></pre><p>Ref: <a href=http://www.spinics.net/lists/netdev/msg102062.html rel="nofollow noopener" target=_blank>http://www.spinics.net/lists/netdev/msg102062.html</a></p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/250335/etsukata target=_blank rel="nofollow noopener"><span itemprop=name>Etsukata</span></a>
—
<a href=https://superuser.com/a/639350 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Bagi saya itu menunjukkan ifindex peer tepat di "ip link" misalnya veth173321d @ if82 jadi 82 adalah alamat tertaut jika saya mengetik "ethtool -S veth173321d".</div><div>— <a href=https://superuser.com/users/134574/curtis-yallop target=_blank rel="nofollow noopener">Curtis Yallop</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Saya memiliki kernel linux yang lebih lama tanpa ip netns jadi saya membuat ini bersama-sama untuk mendapatkan info yang diperlukan. Dengan asumsi Anda dapat ssh ke dalam container LXC Anda, ini mungkin berguna bagi Anda. Ini hack cepat 8)</p><pre><code>MY_VMS="10.0.1.1" # etc... change as needed
for A_VM in $MY_VMS
do
  if [ ! -f $A_VM.list ]
  then
    ssh $A_VM ip link list &gt; $A_VM.list
  fi

  for i in `ifconfig -a | grep "Link encap" | sed 's/ .*//g'`
  do
    PEER_IFINDEX=`ethtool -S $i 2&gt;/dev/null | grep peer_ifindex | sed 's/ *peer_ifindex: *//g' `
    if [ "$PEER_IFINDEX" = "" ]
    then
      continue
    fi

    PEER_IF=`grep "^$PEER_IFINDEX:" $A_VM.list  | awk '{print $2}' | sed 's/:.*//g'`
    if [ "$PEER_IF" = "" ]
    then
      continue
    fi
    printf "%-10s is paired with %-10s on %-20s\n" $i $PEER_IF $A_VM
  done
done
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/354890/neil-mcgill target=_blank rel="nofollow noopener"><span itemprop=name>Neil McGill</span></a>
—
<a href=https://superuser.com/a/843293 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Saya baru saja menulis perintah untuk menampilkan antarmuka peer veth:</p><p><a href=https://github.com/hariguchi/veth-peer rel="nofollow noopener" target=_blank>https://github.com/hariguchi/veth-peer</a></p><blockquote><p>Contoh</p></blockquote><pre><code>$ sudo ip link add foo-bar type veth peer name bar-foo
[sudo] password for XXX:
$ veth-peer foor-bar
bar-foo
$ veth-peer xxx
xxx: Link not found
$ veth-peer lo
lo is not veth.
$ sudo ip link del foo-bar
           $ veth-peer bar-foo
           bar-foo: Link not found
$
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/900303/yoichi-hariguchi target=_blank rel="nofollow noopener"><span itemprop=name>Yoichi Hariguchi</span></a>
—
<a href=https://superuser.com/a/1318537 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-3><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Dengan skrip sederhana ini Anda dapat menemukan pasangan (untuk <strong>OpenStack</strong> ):</p><pre><code>#!/bin/bash
for i in `ifconfig -a |grep qv |awk -F: '{print $1}'` ;
   do
      echo "---------------"
      echo $i
      echo "Our ID: " `ip link show dev $i | grep $i | awk -F: '{print $1}'`
      echo "Peer ID: " `ethtool -S $i |  grep -i peer_ifindex | awk -F: '{print $2}'`
      echo "---------------"
done
</code></pre><p>Di OpenStack <strong>veth</strong> pasangan - nama antarmuka veth dimulai dengan <code>qv*</code>.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-3 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/592814/hrvojeh target=_blank rel="nofollow noopener"><span itemprop=name>HrvojeH</span></a>
—
<a href=https://superuser.com/a/1075608 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-4><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>untuk mendapatkan semua antarmuka veth cukup gunakan</p><pre><code># ip -c link show type veth

17: veth1@if16: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 8e:61:92:d9:03:15 brd ff:ff:ff:ff:ff:ff link-netnsid 0
25: veth3@if24: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 2a:a1:13:8c:9b:d2 brd ff:ff:ff:ff:ff:ff link-netnsid 0
27: veth5@if26: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 3a:b6:fb:5e:5b:ce brd ff:ff:ff:ff:ff:ff link-netnsid 0
28: veth8@if29: &lt;BROADCAST,MULTICAST&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether de:30:40:26:04:20 brd ff:ff:ff:ff:ff:ff link-netnsid 1
30: veth11@veth10: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether de:bb:24:8c:40:00 brd ff:ff:ff:ff:ff:ff
31: veth10@veth11: &lt;BROADCAST,MULTICAST,M-DOWN&gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000
    link/ether 96:07:3e:b2:ac:1c brd ff:ff:ff:ff:ff:ff
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-4 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1169263/alex target=_blank rel="nofollow noopener"><span itemprop=name>Alex</span></a>
—
<a href=https://superuser.com/a/1546356 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-5><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Setidaknya di Ubuntu 20, untuk mencantumkan antarmuka, termasuk pasangan veth, lakukan saja:</p><pre><code>ip link
</code></pre><p>Ini dengan asumsi pasangan veth dibuat dengan sesuatu seperti:</p><pre><code>ip link add veth0 type veth peer name veth1
</code></pre><p>Jika Anda membuat namespace dan menetapkan perangkat VETH untuk mereka, seperti ini <a href=https://developers.redhat.com/blog/2018/10/22/introduction-to-linux-interfaces-for-virtual-networking/#veth rel="nofollow noopener" target=_blank>contoh</a> :</p><pre><code># ip netns add net1
# ip netns add net2
# ip link add veth1 netns net1 type veth peer name veth2 netns net2
</code></pre><p>lalu Anda akan melihatnya <a href=https://stackoverflow.com/questions/32492349/how-to-list-all-network-links-in-all-namespaces-in-linux target=_blank rel="nofollow noopener">seperti itu</a> :</p><pre><code>sudo ip netns exec net1 ip link
</code></pre><p>Dengan kata lain <code>ip netns exec $namespace $command</code>, dimana perintahnya sama dengan <code>ip link</code> di atas.</p><p>Kiat bonus: untuk menghapus pasangan veth, cukup hapus salah satu antarmuka:</p><pre><code>sudo ip link delete veth1
</code></pre><p>Dan mereka berdua akan pergi.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-mencantumkan-pasangan-ethernet-virtual-mana-yang-berjalan-di-host-linux-saat-ini-vr28vxxl/#answer-5 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/668905/nagev target=_blank rel="nofollow noopener"><span itemprop=name>Nagev</span></a>
—
<a href=https://superuser.com/a/1623352 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/tidak-yakin-apa-port-seperti-dvi-ini-di-pc-saya-qmpuwbvl/>Tidak yakin apa port seperti DVI ini di PC saya</a></div></li><li class=list-group-item><div><a href=/apa-resolusi-saya-oazztjw4/>Apa resolusi saya?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengatasi-masalah-virtualbox-yang-menampilkan-vm-dengan-unmountable-boot-volume-ckielmao/>Bagaimana cara mengatasi masalah VirtualBox yang menampilkan VM dengan UNMOUNTABLE_BOOT_VOLUME?</a></div></li><li class=list-group-item><div><a href=/tidak-dapat-menjalankan-biner-di-ubuntu-xw0rs0td/>Tidak Dapat Menjalankan Biner di Ubuntu</a></div></li><li class=list-group-item><div><a href=/adakah-cara-untuk-memberikan-fokus-pada-hasil-penelusuran-chrome-ylc2tgys/>Adakah cara untuk memberikan fokus pada hasil penelusuran Chrome?</a></div></li><li class=list-group-item><div><a href=/saya-tidak-dapat-melihat-visio-di-menu-mulai-setelah-menginstalnya-di-ms-office-2013-ftknnrjt/>Saya tidak dapat melihat Visio di menu mulai setelah menginstalnya di MS Office 2013</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-kerja-menyalin-file-berkaitan-dengan-ram-dan-dapatkah-saya-mempercepatnya-odjxliml/>Bagaimana cara kerja menyalin file berkaitan dengan RAM, dan dapatkah saya mempercepatnya?</a></div></li><li class=list-group-item><div><a href=/vim-salin-string-yang-dikutip-tanpa-spasi-horpdcoo/>vim: Salin string yang dikutip tanpa spasi?</a></div></li><li class=list-group-item><div><a href=/apakah-ada-aplikasi-windows-dengan-fungsi-pratinjau-untuk-dihapus-secara-rekursif-dengan-wildcard-h90xlzy9/>Apakah ada aplikasi windows dengan fungsi pratinjau untuk dihapus secara rekursif dengan wildcard?</a></div></li><li class=list-group-item><div><a href=/linux-shell-mengemas-kembali-arsip-bz2-ke-xz-biwsycya/>Linux shell: mengemas kembali arsip bz2 ke xz</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>