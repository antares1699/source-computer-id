<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Bukan format keluaran yang sama dari `df` di distribusi Linux yang berbeda</title><meta name=description content="Di Ubuntu, keluaran dari perintah ini  df --exclude={tmpfs,devtmpfs,squashfs,overlay} | sed -e /^Filesystem/d | awk '{print $6 &amp;quot; &amp;quot; $1 &amp;quot; &amp;quot; $3 &amp;quot; &amp;quot; $4 &amp;quot; &amp;quot; $5}'  aku s:  / /dev/mapper/dockerVG-rootLV..."><link rel=canonical href=https://www.idxstack.com/bukan-format-keluaran-yang-sama-dari-df-di-distribusi-linux-yang-berbeda-nz3zrniy/><meta property="og:title" content="Bukan format keluaran yang sama dari `df` di distribusi Linux yang berbeda"><meta property="og:description" content="Di Ubuntu, keluaran dari perintah ini  df --exclude={tmpfs,devtmpfs,squashfs,overlay} | sed -e /^Filesystem/d | awk '{print $6 &amp;quot; &amp;quot; $1 &amp;quot; &amp;quot; $3 &amp;quot; &amp;quot; $4 &amp;quot; &amp;quot; $5}'  aku s:  / /dev/mapper/dockerVG-rootLV..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/bukan-format-keluaran-yang-sama-dari-df-di-distribusi-linux-yang-berbeda-nz3zrniy/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bukan format keluaran yang sama dari `df` di distribusi Linux yang berbeda"><meta name=twitter:description content="Di Ubuntu, keluaran dari perintah ini  df --exclude={tmpfs,devtmpfs,squashfs,overlay} | sed -e /^Filesystem/d | awk '{print $6 &amp;quot; &amp;quot; $1 &amp;quot; &amp;quot; $3 &amp;quot; &amp;quot; $4 &amp;quot; &amp;quot; $5}'  aku s:  / /dev/mapper/dockerVG-rootLV..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Bukan format keluaran yang sama dari `df` di distribusi Linux yang berbeda</h1><div itemprop=text><p>Di Ubuntu, keluaran dari perintah ini</p><pre><code>df --exclude={tmpfs,devtmpfs,squashfs,overlay} | sed -e /^Filesystem/d | awk '{print $6 &quot; &quot; $1 &quot; &quot; $3 &quot; &quot; $4 &quot; &quot; $5}'
</code></pre><p>aku s:</p><pre><code>/ /dev/mapper/dockerVG-rootLV 8110496 40591632 17%
/dockerssd /dev/mapper/ssdVG-ssdLV 214133656 274642488 44%
/dockerhdd /dev/mapper/hddVG-hddLV 83278236 1385191240 6%
/var/lib/docker /dev/mapper/hddVG-dockerLV 76046204 412729940 16%
</code></pre><p>Itulah yang saya butuhkan.</p><p>Di CentOS 6 saya mendapatkan output ini:</p><pre><code> /dev/mapper/vg_rproxy-lv_root
 51475068 43192316 12% /
/boot /dev/sda1 82688 379364 18%
 /dev/mapper/vg_rproxy-lv_home
 77349888 73119692 1% /home
</code></pre><p>Ini berantakan.</p><p>Output penuh dari CentOS 6:</p><pre><code>$ df
Filesystem           1K-blocks    Used Available Use% Mounted on
/dev/mapper/vg_rproxy-lv_root
                      51475068 5661336  43192292  12% /
tmpfs                   957140       0    957140   0% /dev/shm
/dev/sda1               487652   82688    379364  18% /boot
/dev/mapper/vg_rproxy-lv_home
                      77349888  294352  73119692   1% /home
</code></pre><p>Apa masalahnya? Bagaimana cara memperbaikinya?</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1237093/piduna target=_blank rel="nofollow noopener"><span itemprop=name>Piduna</span></a>
—
<a href=https://superuser.com/questions/1599648/not-the-same-output-format-from-df-in-different-linux-distributions target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>10</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>10</div><div class=card-body><div itemprop=text><h3 class=h5>tl; dr</h3><p>Gunakan <code>df -P</code>.</p><hr><h3 class=h5>Jawaban lengkap</h3><p><code>/dev/mapper/vg_rproxy-lv_root</code> dan <code>/dev/mapper/vg_rproxy-lv_home</code> adalah string yang relatif panjang. Muncul <code>df</code> di CentOS <em>memutuskan</em> untuk membagi entri mereka menjadi dua baris, ini memutus logika saat Anda ingin mengurai keluaran lebih jauh.</p><p>Di terminal sempit, ini mungkin hal yang baik, membuat keluaran semi-kolom yang dapat dibaca manusia meskipun ruang horizontal terbatas. Saya lebih suka ini tidak terjadi ketika <code>df</code> menulis ke non-tty (pipa dalam kasus Anda).</p><p><em>Mungkin</em> <code>df</code> di Ubuntu berperilaku serupa jika entri dalam kolom <code>Filesystem</code> panjang; mungkin Anda tidak mengalami ini karena milik Anda relatif pendek. Saya tidak tahu, ini tidak penting. Yang penting adalah <code>df</code> adalah alat POSIX dan harus diikuti <a href=https://pubs.opengroup.org/onlinepubs/9699919799/utilities/df.html rel="nofollow noopener" target=_blank>spesifikasi</a> . Tetapi spesifikasi tersebut secara eksplisit menyatakan:</p><blockquote><p>Implementasi historis <code>df</code> sangat bervariasi dalam keluaran defaultnya. Oleh karena itu, perlu untuk mendeskripsikan keluaran default secara longgar untuk mengakomodasi semua implementasi historis yang diketahui dan menambahkan opsi portabel (<code>-P</code>) untuk memberikan informasi dalam format portabel.</p></blockquote><p>Tentang opsi:</p><blockquote><p><code>-P</code><br>Hasilkan keluaran dalam format yang dijelaskan di bagian STDOUT.</p></blockquote><p>Dan akhirnya bagian yang relevan dari bagian STDOUT (penekanan saya):</p><blockquote><p>Penerapannya dapat menyesuaikan jarak antara baris header dan baris data individu sehingga informasi disajikan dalam kolom yang teratur.</p><p>Output yang tersisa <strong>dengan <code>-P</code></strong> terdiri dari <strong>satu baris informasi untuk setiap sistem file yang ditentukan</strong> . Garis-garis ini akan diformat sebagai berikut:</p><pre><code>&quot;%s %d %d %d %d%% %s\n&quot;, &lt;file system name&gt;, &lt;total space&gt;,
    &lt;space used&gt;, &lt;space free&gt;, &lt;percentage used&gt;,
    &lt;file system root&gt;
</code></pre></blockquote><p>Jadi <code>df</code> diperbolehkan untuk mengeluarkan keluaran apapun, kecuali Anda menggunakan <code>-P</code>. Tanpa <code>-P</code> beberapa implementasi dari <code>df</code> dapat menghasilkan keluaran yang dapat diprediksi dan diuraikan, yang lain… tidak begitu banyak. Perilaku mereka mungkin atau mungkin tidak didokumentasikan dengan cukup baik. Oleh karena itu secara umum, saat mengurai keluaran <code>df</code> Anda harus selalu menggunakan <code>-P</code>.</p><p>Hanya menambahkan <code>-P</code> mungkin cukup untuk memperbaiki masalah khusus Anda.</p><p>Catatan <code>-P</code> hanya mengatur format. Keseluruhan spesifikasi POSIX hanya berlaku di lokal POSIX. Selain itu, implementasi modern <code>df</code> cenderung menggunakan blok 1024-byte secara default, sedangkan POSIX menyatakan default-nya adalah 512. Dalam Debian 10 <code>df</code> saya dari GNU coreutils kembali ke default POSIX ketika <code>POSIXLY_CORRECT</code> diatur di lingkungan. Portably Anda dapat memaksa blok 1024-byte dengan <code>-k</code>.</p><p>Ini adalah perintah portabel yang menghasilkan (hampir) keluaran yang dapat diuraikan:</p><pre><code>LC_ALL=POSIX df -Pk
</code></pre><p>Hampir dapat diuraikan, karena entri dalam kolom <code>Filesystem</code> mungkin berisi spasi, saya kira; meskipun dalam OS yang dikonfigurasi dengan baik, mereka tidak melakukannya.</p><p>Anda dapat menghilangkan <code>LC_ALL=POSIX</code> dan masih mendapatkan hasil yang diharapkan, tetapi secara umum harus ada untuk parsing. Misalnya. di bahasa Polandia saya <code>sed -e /^Filesystem/d</code> Anda tidak berfungsi karena saya mendapatkan istilah Polandia untuk "filesystem" dari <code>df</code> saya. <code>LC_ALL=POSIX</code> memperbaiki ini. Masih milikku <em>pribadi</em> preferensi untuk tidak bergantung pada apa pun di header. Saya akan menggunakan <code>sed 1d</code> atau <code>tail -n +2</code>; atau delegasikan tugas ke <code>awk</code>, karena <code>awk</code> sudah ada dalam pipeline Anda. Ini akan menjadi:</p><pre><code>LC_ALL=POSIX df -Pk --exclude={tmpfs,devtmpfs,squashfs,overlay} \
| awk 'NR&gt;1 {print $6 &quot; &quot; $1 &quot; &quot; $3 &quot; &quot; $4 &quot; &quot; $5}'
</code></pre><p>Akhirnya <code>--exclude=</code> bukanlah pilihan portabel. Rupanya ini berfungsi untuk Anda di kedua sistem yang dimaksud, itu mungkin tidak berfungsi di sistem lain.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bukan-format-keluaran-yang-sama-dari-df-di-distribusi-linux-yang-berbeda-nz3zrniy/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/432690/kamil-maciorowski target=_blank rel="nofollow noopener"><span itemprop=name>Kamil Maciorowski</span></a>
—
<a href=https://superuser.com/a/1599668 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Atau gunakan <code>findmnt --df --json</code> untuk memanfaatkan format parsable yang didukung secara luas.</div><div>— <a href=https://superuser.com/users/1845/ephemient target=_blank rel="nofollow noopener">ephemient</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/bagaimana-saya-bisa-menyimpan-video-yang-sedang-diputar-di-vlc-media-player-0ibgmh5s/>Bagaimana saya bisa menyimpan video yang sedang diputar di VLC Media player?</a></div></li><li class=list-group-item><div><a href=/gnu-parallel-variabel-dan-fungsi-global-7xjgbn9u/>GNU Parallel - variabel dan fungsi global</a></div></li><li class=list-group-item><div><a href=/file-sistem-dihapus-setelah-sudo-apt-get-remove-python-whpe1gvo/>file sistem dihapus setelah sudo apt-get remove python</a></div></li><li class=list-group-item><div><a href=/snapshot-teraman-dari-harddisk-yang-gagal-spudhkhw/>Snapshot teraman dari harddisk yang gagal?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menghapus-snapshot-apt-btrfs-saat-error-quotdirektori-tidak-kosongquot-r7b4rte5/>Bagaimana cara menghapus snapshot apt-btrfs-saat error "Direktori tidak kosong?"</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menonaktifkan-klik-kanan-untuk-menempel-di-powershell-ruvvq3lx/>Bagaimana cara menonaktifkan klik kanan untuk menempel di PowerShell?</a></div></li><li class=list-group-item><div><a href=/chrome-tertutup-dengan-mode-penyamaran-terbuka-iokbtvib/>Chrome Tertutup dengan Mode Penyamaran Terbuka</a></div></li><li class=list-group-item><div><a href=/wireshark-tidak-akan-diluncurkan-segmentation-fault-kali-linux-yoybpu1y/>Wireshark tidak akan diluncurkan, Segmentation Fault, Kali Linux</a></div></li><li class=list-group-item><div><a href=/laptop-yang-ditangguhkan-tidak-dapat-bangun-ubuntu-o31homg3/>Laptop yang Ditangguhkan Tidak Dapat Bangun - Ubuntu</a></div></li><li class=list-group-item><div><a href=/mencadangkan-dari-command-prompt-r7kduwkm/>Mencadangkan dari command prompt</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>