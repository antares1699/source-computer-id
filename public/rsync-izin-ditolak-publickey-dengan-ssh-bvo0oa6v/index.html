<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>rsync: Izin ditolak (publickey) dengan SSH</title><meta name=description content="Saya memiliki server tempat saya terhubung di SSH dengan file kunci saya seperti id_rsa.pub.Saya menggunakan Debian di sisi klien dan server.  Saya mengikuti tutorial untuk menonaktifkan otentikasi root dan penggunaan kata..."><link rel=canonical href=https://www.idxstack.com/rsync-izin-ditolak-publickey-dengan-ssh-bvo0oa6v/><meta property="og:title" content="rsync: Izin ditolak (publickey) dengan SSH"><meta property="og:description" content="Saya memiliki server tempat saya terhubung di SSH dengan file kunci saya seperti id_rsa.pub.Saya menggunakan Debian di sisi klien dan server.  Saya mengikuti tutorial untuk menonaktifkan otentikasi root dan penggunaan kata..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/rsync-izin-ditolak-publickey-dengan-ssh-bvo0oa6v/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="rsync: Izin ditolak (publickey) dengan SSH"><meta name=twitter:description content="Saya memiliki server tempat saya terhubung di SSH dengan file kunci saya seperti id_rsa.pub.Saya menggunakan Debian di sisi klien dan server.  Saya mengikuti tutorial untuk menonaktifkan otentikasi root dan penggunaan kata..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>rsync: Izin ditolak (publickey) dengan SSH</h1><div itemprop=text><p>Saya memiliki server tempat saya terhubung di SSH dengan file kunci saya seperti <code>id_rsa.pub</code>.
Saya menggunakan Debian di sisi klien dan server.</p><p>Saya mengikuti tutorial untuk menonaktifkan otentikasi root dan penggunaan kata sandi untuk keamanan lebih (dengan mengkonfigurasi file <code>/etc/ssh/sshd/sshd_config</code> di server).</p><p>Hingga saat ini, saya dapat dengan mudah menggunakan <code>rsync</code> untuk menyinkronkan file saya dari komputer ke server.</p><p>Beberapa hari yang lalu, <a href=https://askubuntu.com/questions/1151393/youtube-dl-in-a-crontab-displays-errno-13-permission-denied target=_blank rel="nofollow noopener">Saya menggunakan pekerjaan cron</a> pekerjaan dan untuk itu saya harus mengatur ulang kata sandi root saya di sisi server.</p><p>Sejak itu, tidak mungkin saya menggunakan <code>rsync</code> pada <code>SSH</code>;
Saya mendapatkan pesan berikut:</p><pre><code>nextcloud@192.168.0.20: Permission denied (publickey).
rsync: connection unexpectedly closed (0 bytes received so far)[sender]
rsync error: unexplained error (code 255) at io.c(235)[sender=3.1.3]
</code></pre><p>Ada beberapa topik serupa, tetapi saya pikir kasus saya sedikit berbeda karena menurut saya masalahnya adalah karena mengatur ulang kata sandi saya di server. Saya juga telah mengajukan pertanyaan di situs Ask Ubuntu,
tapi menurut saya mungkin orang-orang di sini lebih ahli dalam masalah perizinan.</p><p>Saya tidak tahu cara memperbaiki masalah (saya mengelola sedikit dalam perintah terminal, tetapi saya bukan ahli komputer). Bisakah kamu membantuku?</p><p><em>Untuk Informasi Anda saja, silakan temukan tutorial mengubah <code>/etc/ssh/sshd_config</code> agar tidak menggunakan kata sandi:</em></p><pre><code>#Uncomment or add the following line. 
#This allows the server to give its DSA footprint in case of an ssh connection.
HostKey /etc/ssh/ssh/ssh_host_dsa_key

#Then set the next parameter to 20s (for example). 
#This is the time during which a connection without being logged in will be opened. 
#If we had kept the good old password technique, leave 2 or 3 minutes to type it, it's not too much. 
#But since we're using the key now, we'll be logged in immediately. #So we can really reduce the thing and put it down to 20 seconds for example.
LoginGraceTime 20s

#this is the maximum number of attempts before being thrown by the server.... 
#Since with the key, no possible error, you can put it to 1 possible test.
MaxAuthTries 1

#Then, we will tell the SSH server where the keys are and tell it that we will use them as an authentication method
PubkeyAuthentication yes
AuthorizedKeysFile.ssh/authorized_keys

#And of course, we'll disable all other authentication methods
RSAAuthentication no.
UsePAM no
KerberosAuthentication no
GSSAPIA Authentication no.
PasswordAuthentication no

#Then, we will tell that we only allow users of the sshusers group (for more security)
AllowGroups sshusers

#The MaxStartups setting indicates the number of un-authenticated ssh connections you can launch at the same time. 
#2 is more than enough, knowing that with the keys, it's instantaneous.
MaxStartups 2
</code></pre></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener"><span itemprop=name>prog-amateur</span></a>
—
<a href=https://superuser.com/questions/1454387/rsync-permission-denied-publickey-with-ssh target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>Apakah Anda mengubah kata sandi unix atau kata sandi pada kunci Anda?</div><div>— <a href=https://superuser.com/users/137786/davidgo target=_blank rel="nofollow noopener">davidgo</a></div></li><li class=list-group-item><div>Ya, saya telah memperbarui kata sandi root server saya dengan <code>sudo passwd root</code></div><div>— <a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener">prog-amateur</a></div></li><li class=list-group-item><div>Saya pikir kata sandinya adalah red herring. Kemungkinan besar sesuatu yang telah Anda lakukan (mungkin terkait dengan tugas cron Anda) telah menyebabkan sshd berhenti, atau di-firewall sehingga tidak dapat dijangkau.</div><div>— <a href=https://superuser.com/users/137786/davidgo target=_blank rel="nofollow noopener">davidgo</a></div></li><li class=list-group-item><div>@davidgo: terima kasih, jadi menurut Anda ini tidak terkait dengan kata sandi melainkan dengan cronjob? Ini akan menjelaskan mengapa saya dapat terhubung di SSH tetapi tidak mungkin bagi saya untuk mentransfer file. Saya sedang memikirkan masalah izin (tipe chmod), bagaimana menurut Anda? Terima kasih. Terima kasih.</div><div>— <a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener">prog-amateur</a></div></li><li class=list-group-item><div>bisakah kamu ssh sebagai nextcloud?</div><div>— <a href=https://superuser.com/users/137786/davidgo target=_blank rel="nofollow noopener">davidgo</a></div></li><li class=list-group-item><div>Ya, saya bisa ssh ke server saya sebagai nextcloud. Hanya rsync melalui ssh (dari komputer saya ke server saya) tidak berfungsi.</div><div>— <a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener">prog-amateur</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p><a href=https://i.stack.imgur.com/hsNG6.jpg rel="nofollow noopener" target=_blank>Oh tidak!</a></p><p>Saya baru saja menemukan solusinya ...
Perintah saya adalah:</p><pre><code>sudo rsync -avz -e "ssh -p &lt;port&gt;" &lt;source&gt; &lt;destination&gt;
</code></pre><p>Tetapi saya harus melakukannya dengan sederhana (tanpa <code>sudo</code>):</p><pre><code>rsync -avz -e "ssh -p &lt;port&gt;" &lt;source&gt; &lt;destination&gt;
</code></pre><p>Saya tidak yakin tentang penyebabnya, tetapi saya pikir pengguna <code>root</code> komputer desktop saya tidak diizinkan untuk mengakses server saya di SSH karena kuncinya hanya untuk pengguna Desktop <code>classic</code> saya (jadi tanpa sudo).</p><p>Adakah yang bisa mengonfirmasi? Terima kasih.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/rsync-izin-ditolak-publickey-dengan-ssh-bvo0oa6v/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener"><span itemprop=name>prog-amateur</span></a>
—
<a href=https://superuser.com/a/1454634 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Kedengarannya benar. SSH akan, secara default melihat home / .ssh pengguna untuk kunci pribadi. Adakah alasan mengapa tjis perlu dijalankan sebagai root?</div><div>— <a href=https://superuser.com/users/137786/davidgo target=_blank rel="nofollow noopener">davidgo</a></div></li><li class=list-group-item><div>Apa yang Anda katakan sangat logis, saya seharusnya memikirkannya .. Saya tidak punya alasan khusus untuk menggunakan hak istimewa <code>sudo</code> untuk transfer file ssh ini. Ini refleks, namun saya biasanya tidak menyalahgunakan <code>sudo</code>. Saya sangat menghargai bantuan yang Anda berikan sampai akhir. Terima kasih banyak @davidgo!</div><div>— <a href=https://superuser.com/users/1056333/prog-amateur target=_blank rel="nofollow noopener">prog-amateur</a></div></li><li class=list-group-item><div><code>Can anyone please confirm?</code> DIKONFIRMASI! Terima kasih, @ prog-amatir! Kamu berhasil! Itu juga saya <i>selama-lamanya</i> untuk mencari tahu apa yang terjadi di sini, karena kunci ssh saya dimuat di ssh-agent saya melalui <code>ssh-add /path/to/priv/key</code> dan saya tidak tahu mengapa itu tidak berfungsi.</div><div>— <a href=https://superuser.com/users/425838/gabriel-staples target=_blank rel="nofollow noopener">Gabriel Staples</a></div></li><li class=list-group-item><div>@davidgo, saya perlu menggunakan <code>sudo</code> karena saya juga menyinkronkan beberapa file root yang hanya dapat dibaca oleh root.</div><div>— <a href=https://superuser.com/users/425838/gabriel-staples target=_blank rel="nofollow noopener">Gabriel Staples</a></div></li><li class=list-group-item><div>Contoh: <code>/root</code> tidak dapat dibaca oleh siapa pun kecuali root, namun saya ingin mencadangkannya ke drive eksternal yang terhubung ke server jarak jauh, menggunakan <code>rsync</code>. Ini membuat saya bingung: Saya perlu menggunakan <code>sudo</code> untuk mengakses direktori <code>/root</code> , namun saya TIDAK perlu menggunakan <code>sudo</code> karena itu melanggar <code>ssh-agent</code>. Tidak yakin apa yang harus dilakukan untuk menyelesaikan ini ...</div><div>— <a href=https://superuser.com/users/425838/gabriel-staples target=_blank rel="nofollow noopener">Gabriel Staples</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/bagaimana-cara-kerja-captcha-quotsaya-bukan-robotquot-ckk24eh7/>Bagaimana cara kerja captcha "Saya bukan robot"?</a></div></li><li class=list-group-item><div><a href=/memformat-pc-tanpa-kehilangan-lisensi-windows-7-duplikat-7gjsm6pq/>Memformat PC tanpa kehilangan lisensi Windows 7 [duplikat]</a></div></li><li class=list-group-item><div><a href=/pengalihan-file-vs-dd-zbyi5qio/>Pengalihan file vs dd</a></div></li><li class=list-group-item><div><a href=/mencari-satu-istilah-dari-bilah-alamat-firefox-27f7h7l5/>Mencari satu istilah dari bilah alamat Firefox</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menghentikan-pesan-email-saya-ditandai-sebagai-sudah-dibaca-ketika-klien-pop-mengunduhnya-yktqcijy/>Bagaimana cara menghentikan pesan email saya ditandai sebagai sudah dibaca ketika klien POP mengunduhnya?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membuat-emacs-menggunakan-css-lain-untuk-mempublikasikan-orgmode-y8i2h4rm/>bagaimana cara membuat emacs menggunakan css lain untuk mempublikasikan orgmode</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menerapkan-trek-audio-ke-video-tanpa-suara-h264-mp4-tanpa-kehilangan-cwztlax3/>Bagaimana cara menerapkan trek audio ke video tanpa suara h264 / mp4 tanpa kehilangan?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-memindahkan-jendela-di-windows-dengan-keyboard-wf9wviuh/>Bagaimana cara memindahkan jendela di Windows dengan keyboard?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membaca-atau-menggunakan-kembali-file-outlook-ost-yang-lama-dan-tersimpan-bycnzeer/>Bagaimana cara membaca atau menggunakan kembali file Outlook .ost yang lama dan tersimpan?</a></div></li><li class=list-group-item><div><a href=/penggunaan-tombol-fungsi-mac-book-pro-swap-dan-tombol-f-menggunakan-kamp-pelatihan-estbiqx2/>Penggunaan tombol fungsi Mac book pro swap dan tombol F * menggunakan kamp pelatihan</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>