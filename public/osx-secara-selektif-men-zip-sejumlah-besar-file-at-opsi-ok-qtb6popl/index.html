<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>osx: secara selektif men-zip sejumlah besar file: - @ opsi OK?</title><meta name=description content="Saya perlu membuat pengarsipan file zip ~ 100k file dari direktori yang berisi ~ 500k file. Saya mendapatkan kesalahan &amp;quot;daftar argumen terlalu panjang&amp;quot; ketika saya mencoba perintah yang jelas:  zip archive.zip *pattern*.txt..."><link rel=canonical href=https://www.idxstack.com/osx-secara-selektif-men-zip-sejumlah-besar-file-at-opsi-ok-qtb6popl/><meta property="og:title" content="osx: secara selektif men-zip sejumlah besar file: - @ opsi OK?"><meta property="og:description" content="Saya perlu membuat pengarsipan file zip ~ 100k file dari direktori yang berisi ~ 500k file. Saya mendapatkan kesalahan &amp;quot;daftar argumen terlalu panjang&amp;quot; ketika saya mencoba perintah yang jelas:  zip archive.zip *pattern*.txt..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/osx-secara-selektif-men-zip-sejumlah-besar-file-at-opsi-ok-qtb6popl/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="osx: secara selektif men-zip sejumlah besar file: - @ opsi OK?"><meta name=twitter:description content="Saya perlu membuat pengarsipan file zip ~ 100k file dari direktori yang berisi ~ 500k file. Saya mendapatkan kesalahan &amp;quot;daftar argumen terlalu panjang&amp;quot; ketika saya mencoba perintah yang jelas:  zip archive.zip *pattern*.txt..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>osx: secara selektif men-zip sejumlah besar file: - @ opsi OK?</h1><div itemprop=text><p>Saya perlu membuat pengarsipan file zip ~ 100k file dari direktori yang berisi ~ 500k file. Saya mendapatkan kesalahan "daftar argumen terlalu panjang" ketika saya mencoba perintah yang jelas:</p><pre><code>zip archive.zip *pattern*.txt                        # fails
zip archive.zip `find . -name "*pattern*.txt"`       # fails
</code></pre><p>Salah satu pendekatannya adalah menggunakan opsi <code>-@</code> untuk memberi makan daftar file melalui stdin:</p><pre><code>find . -name "*pattern*.txt" | zip -@ archive.zip
</code></pre><p>Namun, halaman manual <code>zip</code> mengatakan:</p><blockquote><p>Jika daftar file ditentukan sebagai - @ [Bukan di MacOS], zip akan mengambil daftar file input dari input standar, bukan dari baris perintah.</p></blockquote><p>Ini adalah "Bukan di MacOS" yang mengganggu saya. Saya melanjutkan dan mencoba opsi <code>-@</code>, dan tampaknya berhasil; tapi saya merasa gugup tentang apakah itu benar-benar melakukan pekerjaan yang benar (mengarsipkan semua file, utuh).</p><p>Inilah pertanyaan saya:</p><ol><li>Mengapa <code>-@</code> tidak baik-baik saja di MacOS?</li><li>Apakah ada beberapa versi MacOS / bash / zip yang peringatan ini benar, dan yang lainnya tidak? Apakah ini peringatan yang sudah usang, dan jika ya, di manakah garis pemisahnya?</li><li>Apa pendekatan yang layak untuk masalah ini tanpa menggunakan <code>-@</code>?</li></ol><p>Perhatikan bahwa solusi yang diberikan di sini <a href=https://superuser.com/questions/272696/zip-argument-list-too-long-80-000-files-in-overall target=_blank rel="nofollow noopener">zip: Daftar argumen terlalu panjang (keseluruhan 80.000 file)</a> tidak akan bekerja; Saya perlu mengarsipkan beberapa, tidak semua, file di direktori.</p><p>Saya menjalankan Mac OS 10.7.5. Berikut beberapa info versinya:</p><pre><code>$ bash --version
GNU bash, version 3.2.48(1)-release (x86_64-apple-darwin11)
$ zip --version
This is Zip 3.0 (July 5th 2008), by Info-ZIP.
...
Compiled with gcc 4.2.1 (Based on Apple Inc. build 5658) (LLVM build 2335.15.00) for Unix (Mac OS X) on Jun 24 2011.
</code></pre></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/212518/andrewtinka target=_blank rel="nofollow noopener"><span itemprop=name>andrewtinka</span></a>
—
<a href=https://superuser.com/questions/575326/osx-selectively-zip-large-number-of-files-option-ok target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Pertama-tama,</p><pre><code>zip archive.zip `find . -name "*pattern*.txt"`
</code></pre><p>aku s <strong>tidak pernah</strong> sebuah ide bagus. Nama file dapat berisi spasi, karakter baris baru, bagian yang dapat diartikan sebagai sakelar dan lainnya.</p><p>Untuk melakukan tindakan untuk setiap file yang ditemukan, Anda dapat menggunakan <a href=https://developer.apple.com/library/mac/#documentation/Darwin/Reference/ManPages/man1/find.1.html rel="nofollow noopener" title="man find" target=_blank><code>-exec</code></a> beralih atau <a href=https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/xargs.1.html rel="nofollow noopener" title="man xargs" target=_blank>xargs</a> .</p><pre><code>find . -name "*pattern*.txt" -exec zip archive.zip {} +
</code></pre><p>akan menambahkan file satu per satu ke file zip. Di sini, <code>{}</code> melambangkan file yang sedang diproses.</p><p>Mengakhiri argumen <code>-exec</code> dengan <code>+</code> bukan <code>;</code> menyebabkan find memproses beberapa file sekaligus (sebanyak mungkin tanpa menghasilkan kesalahan yang sama seperti yang Anda dapatkan), yang seharusnya jauh lebih cepat untuk sejumlah besar file.</p><pre><code>find . -name "*pattern*.txt" -print0 | xargs -0 zip archive.zip
</code></pre><p>pada dasarnya melakukan hal yang sama. xargs memproses beberapa file sekaligus secara default.</p><p>Sakelar <code>-print0</code> untuk mencari dan <code>-0</code> beralih ke xargs membuat mereka menggunakan karakter null sebagai pemisah file untuk menangani dengan benar nama file yang aneh.</p><p>Saya tidak tahu mengapa <code>-@</code> tidak direkomendasikan untuk Mac OS <sup>1</sup> , tetapi <code>find ... | zip -@</code> akan melakukannya <strong>tidak</strong> menangani nama file yang aneh (khususnya, nama file yang mengandung karakter baris baru) dengan benar. Ini benar terlepas dari sistem operasinya.</p><hr><p><sup>1</sup> Saya m <em>menebak</em> ini hanya berlaku untuk Mac OS hingga versi 9.x, karena Mac OS menggunakan carriage return sebagai karakter baris baru, sementara <code>zip -@</code> mengharapkan umpan baris.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/osx-secara-selektif-men-zip-sejumlah-besar-file-at-opsi-ok-qtb6popl/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener"><span itemprop=name>Dennis</span></a>
—
<a href=https://superuser.com/a/575337 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>3</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>3</div><div class=card-body><div itemprop=text><p>Dennis benar, ini tentang OS 9. Saya melihat kode sumber untuk Zip 3.0. Di direktori platform <code>macos/</code>, ada catatan yang berbunyi:</p><blockquote><p>Porta ini untuk versi Mac sebelum Mac OS X. Karena Mac OS X dibuat di Unix,
gunakan port Unix untuk Mac OS X. - 7 Juni 2008</p></blockquote><p>Selain itu, file <code>zip.c</code> membungkus deklarasi opsi baris perintah pada <code>#ifndef MACOS</code>. Dengan kata lain, jika saya menjalankan port "MacOS" pada <code>zip</code>, opsi <code>-@</code> akan gagal.</p><p>Dennis juga memberikan jawaban untuk "cara yang layak untuk menyelesaikan tugas tanpa <code>-@</code>", yaitu,</p><pre><code>find . -name "*pattern*.txt" -print0 | xargs -0 zip archive.zip
</code></pre><p>Saya setuju bahwa ini adalah cara terbaik untuk melanjutkan agar aman dari nama file "aneh" (nama file dengan spasi, baris baru, dll). Namun, ada penalti kinerja. <code>xargs</code> akan memanggil <code>zip</code> beberapa kali, dengan sejumlah besar nama file diteruskan sebagai parameter baris perintah setiap kali. <code>zip</code> akan menambahkan file tersebut ke <code>archive.zip</code> pada setiap pemanggilan. Tetapi <code>zip</code> perlu membaca <code>archive.zip</code> yang lebih besar pada setiap pemanggilan, yang membutuhkan lebih banyak waktu seiring kemajuan pekerjaan.</p><p><strong>Jika</strong> kamu tahu <strong>tentunya</strong> bahwa nama file yang dimaksud tidak memiliki karakter patologis seperti spasi atau baris baru, lalu single-pass</p><pre><code>find . -name "*pattern*.txt" | zip -@ archive.zip
</code></pre><p>akan lebih cepat; dan berfungsi dengan baik di OS X, karena <code>zip</code> di OS X sebenarnya adalah port Unix. Peringatan di halaman manual tidak berlaku.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/osx-secara-selektif-men-zip-sejumlah-besar-file-at-opsi-ok-qtb6popl/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/212518/andrewtinka target=_blank rel="nofollow noopener"><span itemprop=name>andrewtinka</span></a>
—
<a href=https://superuser.com/a/575721 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Seperti yang ditunjukkan oleh informasi versi Anda, kode dasar (dan mungkin juga dokumentasinya) cukup lama, sementara itu MacOS telah berubah sedikit. Selain itu, build tersebut jauh lebih baru daripada kode dasar, mungkin ada perubahan pada kode / konfigurasi untuk build yang tidak pernah berhasil dimasukkan ke dalam dokumentasi.</p><p>Bagaimanapun, lebih baik periksa (dengan contoh kecil mungkin) bahwa perintah berfungsi, dan benar-benar menyimpan file yang diminta. Jika itu penting, jangan percaya kotak berwarna dengan bagian yang hilang di situs Internet acak ...</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/osx-secara-selektif-men-zip-sejumlah-besar-file-at-opsi-ok-qtb6popl/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/187275/vonbrand target=_blank rel="nofollow noopener"><span itemprop=name>vonbrand</span></a>
—
<a href=https://superuser.com/a/575346 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/mengganti-nama-volume-di-linux-yld5rjlx/>Mengganti nama volume di Linux</a></div></li><li class=list-group-item><div><a href=/mungkin-untuk-memiliki-dua-sumbu-y-dan-dua-sumbu-x-pada-bagan-yang-sama-atqutudg/>mungkin untuk memiliki dua sumbu Y dan dua sumbu X pada bagan yang sama</a></div></li><li class=list-group-item><div><a href=/apakah-ada-klien-webmail-yang-dapat-menangani-beberapa-akun-email-tutup-ixntbcu4/>Apakah ada klien webmail yang dapat menangani beberapa akun email? [Tutup]</a></div></li><li class=list-group-item><div><a href=/menemukan-y-dengan-x-pada-plot-pencar-garis-tren-excel-idre10l4/>Menemukan Y dengan X pada plot pencar / garis tren Excel</a></div></li><li class=list-group-item><div><a href=/jika-anda-mengunduh-sesuatu-ke-usb-apakah-itu-tertulis-di-hd-terlebih-dahulu-wpfb4yks/>Jika Anda mengunduh sesuatu ke usb, apakah itu tertulis di HD terlebih dahulu?</a></div></li><li class=list-group-item><div><a href=/akankah-font-linux-seperti-yang-windows-ougrlmxw/>Akankah font Linux seperti yang windows?</a></div></li><li class=list-group-item><div><a href=/kesalahan-mode-pengguna-systemd-pada-server-centos-70-1406-oy89fzcq/>kesalahan mode pengguna systemd pada server CentOS 7.0 (1406)</a></div></li><li class=list-group-item><div><a href=/temukan-lokasi-definisi-alias-wg7f0srv/>Temukan lokasi definisi alias</a></div></li><li class=list-group-item><div><a href=/cara-menghapus-halaman-terakhir-di-word-2010-s3bgprhy/>Cara menghapus halaman terakhir di Word 2010</a></div></li><li class=list-group-item><div><a href=/mutt-tidak-melihat-teks-html-sebaris-menggunakan-browser-mailcap-dan-teks-b9ch3t0t/>mutt tidak melihat teks / html sebaris menggunakan browser mailcap dan teks</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>