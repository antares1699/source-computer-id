<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Kecilkan gambar disk total: UEFI GPT Flashdrive - ruang kosong di akhir</title><meta name=description content="Saya memiliki gambar disk dari flashdisk yang dapat di-boot. Ini adalah GPT untuk booting EFI, jadi ada partisi Vfat32 kecil dan tiga partisi Linux lainnya, diikuti oleh sekitar 3G ruang kosong.  Saya..."><link rel=canonical href=https://www.idxstack.com/kecilkan-gambar-disk-total-uefi-gpt-flashdrive-ruang-kosong-di-akhir-ewbzdoai/><meta property="og:title" content="Kecilkan gambar disk total: UEFI GPT Flashdrive - ruang kosong di akhir"><meta property="og:description" content="Saya memiliki gambar disk dari flashdisk yang dapat di-boot. Ini adalah GPT untuk booting EFI, jadi ada partisi Vfat32 kecil dan tiga partisi Linux lainnya, diikuti oleh sekitar 3G ruang kosong.  Saya..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/kecilkan-gambar-disk-total-uefi-gpt-flashdrive-ruang-kosong-di-akhir-ewbzdoai/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kecilkan gambar disk total: UEFI GPT Flashdrive - ruang kosong di akhir"><meta name=twitter:description content="Saya memiliki gambar disk dari flashdisk yang dapat di-boot. Ini adalah GPT untuk booting EFI, jadi ada partisi Vfat32 kecil dan tiga partisi Linux lainnya, diikuti oleh sekitar 3G ruang kosong.  Saya..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Kecilkan gambar disk total: UEFI GPT Flashdrive - ruang kosong di akhir</h1><div itemprop=text><p>Saya memiliki gambar disk dari flashdisk yang dapat di-boot. Ini adalah GPT untuk booting EFI, jadi ada partisi Vfat32 kecil dan tiga partisi Linux lainnya, diikuti oleh sekitar 3G ruang kosong.</p><p>Saya perlu menyalin gambar disk ke flashdisk yang sedikit lebih kecil, jadi saya perlu mengecilkan dari 15G ke 14G lebih atau kurang. Saya akan menggunakan dd di linux untuk membuat salinannya.</p><p>gparted sangat bagus untuk memodifikasi dan mengubah ukuran partisi, tetapi pada akhirnya tidak dapat mengecilkan ruang bebas. Secara teoritis seharusnya mungkin untuk memotong file, tetapi ketika saya mencobanya meledakkan (? Tabel diska? Tebakan) sehingga tidak ada partisi dan file tersebut rusak. Saya cukup yakin teknik di bawah ini akan berhasil jika saya menggunakan disk berputar dan / atau disk MBR, tetapi saya belum mengujinya.</p><p>Mencoba:</p><pre><code>dd bs=1M count=14000 iflag=fullblock if=/dev/sda  of=myfile.raw
</code></pre><p><em>tidak menyusut</em></p><pre><code>rsync --sparse filename filename 
</code></pre><p><em>yang tidak meledakkan tabel disk tetapi mengecilkan swap dan mempertahankan area yang tidak terisi.</em></p><p><code>qemu-img convert -f raw -O qcow2 -S 4k filename filename</code> (direncanakan untuk diubah kembali menjadi mentah)</p><p><em>meledakkan tabel</em></p><pre><code>truncate size=140000M &lt;filename&gt;
</code></pre><p><em>juga meledakkan tabel</em></p><pre><code>cp --sparse=always filename filename
</code></pre><p><em>tidak berhasil</em></p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/503326/john-fisher target=_blank rel="nofollow noopener"><span itemprop=name>John Fisher</span></a>
—
<a href=https://superuser.com/questions/1081623/shrink-total-disk-image-uefi-gpt-flashdrive-freespace-at-end target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Harus ada Tabel Partisi GUID primer (utama) di awal dan sekunder (cadangan) di akhir file mentah yang dibuat oleh <code>dd</code>. Pemotongan file akan menghancurkan file sekunder. Ada cara untuk memperbaikinya.</p><p>Mari kita mulai dengan file Anda yang tidak terpotong dengan ruang kosong di bagian akhir. Jalankan <code>gdisk -l myfile.raw</code>. Perhatikan <em>ukuran sektor logis</em> (<code>512B</code> mungkin). Temukan yang maksimal <em>sektor akhir</em> (mungkin satu untuk partisi terakhir, tetapi entri partisi mungkin tidak berurutan, jadi perhatikan baik-baik untuk yang maksimal). Sektor diberi nomor dari <code>0</code>, oleh karena itu Anda perlu ( <em>ukuran sektor</em> ) * ( <em>sektor ujung maksimal</em> + 1) byte untuk menyimpan semua partisi.</p><p>Selain itu, Anda memerlukan setidaknya 33 sektor penuh ruang kosong di bagian akhir untuk menyimpan GPT sekunder baru. Lihat <a href=https://en.wikipedia.org/wiki/File:GUID_Partition_Table_Scheme.svg rel="nofollow noopener" target=_blank>gambar ini dari Wikipedia</a> .</p><p>Semuanya Anda butuhkan ( <em>ukuran sektor</em> ) * ( <em>sektor ujung maksimal</em> + 34) byte file Anda. Potong file menjadi ukuran ini atau lebih besar:</p><pre><code>truncate -s &lt;new_size&gt; myfile.raw
</code></pre><p>Panggilan berikutnya</p><pre><code>gdisk myfile.raw
</code></pre><p>Anda akan mendapatkan (antara lain):</p><blockquote><p>Peringatan! Ukuran disk lebih kecil dari yang ditunjukkan oleh header utama!<br>Perhatian: header GPT cadangan tidak valid, tetapi header utama valid; regenerasi
header cadangan dari header utama.</p></blockquote><p>Ketik <code>w</code>, pukul <kbd>Memasukkan</kbd> untuk menulis tabel partisi yang benar. Anda akan melihat peringatan karena GPT sekunder akan segera dipindahkan. Anda memiliki cukup ruang kosong di akhir file, jadi tidak ada yang perlu dikhawatirkan. Konfirmasikan saat ditanya.</p><p>Berhenti dengan <code>q</code>, <kbd>Memasukkan</kbd> . Jalankan <code>gdisk</code> lagi - seharusnya tidak ada peringatan. <strong>GPT sudah diperbaiki</strong> .</p><hr><p>Jika Anda perlu menggunakan <code>gparted</code> dengan gambar Anda, saya punya beberapa petunjuk.</p><p>Perintah <code>sudo gparted myfile.raw</code> mengharapkan file <code>myfile.raw1</code>, <code>myfile.raw2</code> dll ada dan sesuai dengan partisi di dalam <code>myfile.raw</code>. Jika itu adalah file khusus seperti <code>/dev/sdb</code> maka <code>myfile.raw</code> akan menangani <code>/dev/sdb1</code>, <code>/dev/sdb2</code>… Tidak demikian halnya dengan file biasa. Banyak fitur <code>gparted</code> akan gagal jika tidak ada file <code>myfile.raw</code>.</p><p>Untuk membuat file seperti itu gunakan <code>kpartx</code> (atau <code>partx</code> + <code>losetup</code> tandem):</p><pre><code>sudo kpartx -av myfile.raw
</code></pre><p>Amati outputnya (perangkat <code>loopXpY</code> yang dibuat) dan buat symlink ke semua partisi. Yang pertama mungkin:</p><pre><code>ln -s /dev/mapper/loop0p1 myfile.raw1
</code></pre><p>Sekarang <code>gparted</code> harus berjalan dan beroperasi pada partisi tersebut. Namun ada kekurangannya: ketika partisi berubah (misalnya dipindahkan / diubah ukurannya) pemetaan yang dibuat oleh <code>kpartx</code> tidak diperbarui. Biasanya <code>gparted</code> akan menelepon <code>partprobe</code> atau sesuatu untuk memperbarui <code>/dev/sd*</code>; ini tidak akan berhasil dalam kasus kami. Anda harus menghancurkan pemetaan dan membuatnya kembali. Saat memindahkan / mengubah ukuran partisi, jalankan satu tugas <code>gparted</code>, tutup program, perbaiki pemetaan, jalankan <code>gparted</code> dengan tugas kedua dan seterusnya.</p><p>Untuk menghancurkan pemetaan, panggil <code>sudo kpartx -dv myfile.raw</code>. Hapus symlink yatim piatu di bagian paling akhir.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kecilkan-gambar-disk-total-uefi-gpt-flashdrive-ruang-kosong-di-akhir-ewbzdoai/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/432690/kamil-maciorowski target=_blank rel="nofollow noopener"><span itemprop=name>Kamil Maciorowski</span></a>
—
<a href=https://superuser.com/a/1081649 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/menghosting-sertifikat-https-p7b-di-nginx-brds3enb/>Menghosting sertifikat HTTPS .p7b di nginX</a></div></li><li class=list-group-item><div><a href=/tidak-dapat-mengubah-wallpaper-desktop-di-ubuntu-1404-9re56uij/>Tidak dapat mengubah wallpaper desktop di Ubuntu 14.04</a></div></li><li class=list-group-item><div><a href=/pengaturan-untuk-memutar-tampilan-sebesar-90-derajat-xwkyhjmk/>Pengaturan untuk memutar tampilan sebesar 90 derajat</a></div></li><li class=list-group-item><div><a href=/urutkan-berdasarkan-panjang-kata-di-kolom-ke-n-z7ov1mrt/>urutkan berdasarkan panjang kata di kolom ke-n</a></div></li><li class=list-group-item><div><a href=/di-firefox-bagaimana-cara-menghapus-beberapa-entri-about-config-secara-bersamaan-6yo0lvjo/>Di Firefox, bagaimana cara menghapus beberapa entri about: config secara bersamaan?</a></div></li><li class=list-group-item><div><a href=/email-duplikat-di-folder-email-terkirim-saat-mengirim-dari-outlook-2010-dan-menggunakan-google-apps-i6ludm86/>Email duplikat di folder Email Terkirim saat mengirim dari Outlook 2010 dan menggunakan Google Apps</a></div></li><li class=list-group-item><div><a href=/saran-tentang-masa-pakai-baterai-laptop-oqkl8ydk/>Saran tentang masa pakai baterai laptop</a></div></li><li class=list-group-item><div><a href=/internet-explorer-hilang-dari-fitur-windows-hwflo9zn/>Internet Explorer hilang dari Fitur Windows</a></div></li><li class=list-group-item><div><a href=/menghapus-desktop-dari-alt-tab-di-windows-7-64-bit-duplikat-ftvsr7ms/>Menghapus desktop dari Alt + Tab di Windows 7 64-bit [duplikat]</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mencetak-dua-dokumen-a5-pada-satu-a4-wt4lxf8c/>Bagaimana cara mencetak dua dokumen A5 pada satu A4?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>