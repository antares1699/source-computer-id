<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Pengalihan file vs dd</title><meta name=description content="Misalkan saya ingin menyalurkan output dari beberapa perintah ke dalam file. Apakah ada perbedaan, betapapun kecil atau bernuansa, antara hanya ... yah, menyalurkannya ke file seperti  some-command &amp;gt; file  dan menyalurkannya melalui..."><link rel=canonical href=https://www.idxstack.com/pengalihan-file-vs-dd-zbyi5qio/><meta property="og:title" content="Pengalihan file vs dd"><meta property="og:description" content="Misalkan saya ingin menyalurkan output dari beberapa perintah ke dalam file. Apakah ada perbedaan, betapapun kecil atau bernuansa, antara hanya ... yah, menyalurkannya ke file seperti  some-command &amp;gt; file  dan menyalurkannya melalui..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/pengalihan-file-vs-dd-zbyi5qio/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pengalihan file vs dd"><meta name=twitter:description content="Misalkan saya ingin menyalurkan output dari beberapa perintah ke dalam file. Apakah ada perbedaan, betapapun kecil atau bernuansa, antara hanya ... yah, menyalurkannya ke file seperti  some-command &amp;gt; file  dan menyalurkannya melalui..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Pengalihan file vs dd</h1><div itemprop=text><p>Misalkan saya ingin menyalurkan output dari beberapa perintah ke dalam file. Apakah ada perbedaan, betapapun kecil atau bernuansa, antara hanya ... yah, menyalurkannya ke file seperti</p><pre><code>some-command &gt; file
</code></pre><p>dan menyalurkannya melalui <code>dd</code> suka</p><pre><code>some-command | dd $MAYBE_SOME_OPTIONS_LIKE_BS of=file
</code></pre><p>Pertanyaan ini terutama untuk memuaskan rasa ingin tahu saya, dan kecuali bentuk yang terakhir memiliki beberapa manfaat atau kasus penggunaan yang tidak dapat diabaikan, dalam praktiknya saya akan mengampuni latihan dengan jari saya dan memilih yang pertama.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/606750/mona-the-monad target=_blank rel="nofollow noopener"><span itemprop=name>Mona the Monad</span></a>
—
<a href=https://superuser.com/questions/1470608/file-redirection-vs-dd target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>5</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>5</div><div class=card-body><div itemprop=text><h3 class=h5>Akses langsung ke <code>file</code></h3><blockquote><pre><code>some-command &gt; file
some-command | dd $MAYBE_SOME_OPTIONS_LIKE_BS of=file
</code></pre></blockquote><p>Dalam kasus pertama <code>some-command</code> mengetahuinya menulis ke <code>file</code>, sehingga dapat mengambil metadata (seperti mtime atau size) untuk alasan apa pun. Metadata semacam itu memiliki arti yang berguna untuk file biasa tetapi untuk pipa tanpa nama, metadata tersebut tidak ada artinya.</p><p><code>some-command</code> bahkan mungkin tertarik untuk membuka apa yang ditunjukkan stdout-nya untuk membaca, yang cukup aman untuk file biasa dan jelas bukan hal yang benar untuk dilakukan dalam kasus kedua Anda.</p><p>Tapi skenario ini sangat jarang, saya kira.</p><hr><h3 class=h5>Dicari vs tidak dicari</h3><p>Perilaku <code>some-command</code> mungkin bergantung pada apakah stdoutnya dapat dicari atau tidak. Biasanya tidak demikian, meskipun mungkin saja. File biasa dapat dicari (Anda dapat membaca / menulis di lokasi mana pun). Pipa tidak bisa dicari.</p><p><code>dd</code> sendiri adalah contoh yang valid. Pertimbangkan <code>some-command</code> menjadi <code>dd if=/dev/zero bs=1 count=1 seek=1</code>. Kedua contoh Anda menjadi:</p><pre><code>dd if=/dev/zero bs=1 count=1 seek=1 &gt; file
dd if=/dev/zero bs=1 count=1 seek=1 | dd of=file
</code></pre><p>Perintah pertama akan berfungsi, itu akan meninggalkan <code>file</code> dengan dua byte nol di dalamnya. Pada perintah kedua, <code>dd</code> yang pertama akan mengeluh bahwa ia tidak dapat mencari, ia akan keluar; <code>dd</code> kedua tidak akan mendapatkan apa-apa, tidak menulis apa-apa dan keluar tanpa kesalahan.</p><p>Saya akui dengan <code>seek</code> ini tidak benar-benar biasa "menyalurkan output dari beberapa perintah ke dalam file". Tetapi secara umum <code>some-command</code> dapat mendeteksi jika stdout-nya dapat dicari dan kemudian mengalirkan keluaran yang berbeda <em>tanpa</em> sebenarnya mencari. Fungsi shell ini melakukannya sebagai bukti konsep:</p><pre><code>is-seekable() {
  if &lt;/dev/null dd bs=1 count=0 seek=1 conv=notrunc 2&gt;/dev/null; then
    echo seekable
  else
    echo non-seekable
  fi
  }
</code></pre><p>Coba ini dan periksa file setelah masing-masing:</p><pre><code>is-seekable &gt; file
is-seekable | dd of=file
</code></pre><hr><p>Mengetahui semua hal di atas, ada skenario di mana saya akan mempertimbangkan perintah kedua Anda: jika <code>some-command</code> memang berperilaku berbeda dalam dua kasus (seperti fungsi <code>is-seekable</code> kami) dan saya ingin "berpikir" itu menulis ke pipa tetapi saya ingin output masuk file. Kalau begitu ya. Meskipun saya lebih suka menggunakan <code>cat</code> daripada <code>dd</code> (mungkin tidak masalah). Misalnya. Saya mungkin ingin mendapatkan <code>non-seekable</code> dari <code>is-seekable</code> dan menuliskannya ke sebuah file:</p><pre><code>is-seekable | cat &gt; file
</code></pre><p>Tetapi hanya jika itu membuat perbedaan. Jika tidak, itu akan menjadi (dalam) "penggunaan tidak berguna tahun <code>cat</code>" yang terkenal. Atau dalam kasus Anda "penggunaan <code>dd</code> yang tidak berguna"; atau bahkan "penggunaan berbahaya" jika Anda menangani status keluar dengan buruk.</p><hr><h3 class=h5>Status keluar</h3><p>Sekarang coba dua contoh ini:</p><pre><code>false &gt; file
false | dd of=file
</code></pre><p>Jika Anda memeriksa <code>$?</code> setelah yang kedua, Anda akan menemukan <code>0</code> (kecuali <code>dd</code> gagal). Kasus kedua Anda membuang status keluar <code>some-command</code> (biasanya; misalnya dalam investigasi Bash <code>set -o pipefail</code>, yang tidak portabel).</p><p>Jadi dalam kasus kedua <code>some-command</code> mungkin gagal karena alasan apa pun dan Anda (atau lebih tepatnya logika skrip Anda) tidak akan mengetahuinya. Ini cukup untuk <em>menghindari</em> pemipaan yang tidak perlu ke <code>dd</code> (atau pemipaan yang tidak perlu sama sekali).</p><hr><h3 class=h5>Izin</h3><p>Nuansa lain: <code>some-command > file</code> membuat (sub) shell membuka file sebelum <code>some-command</code> muncul (dieksekusi ke); <code>dd of=file</code> membuka file atas namanya sendiri.</p><p>Ada cara untuk memberikan lebih banyak hak akses ke <code>some-command</code> daripada perintah "biasa" lainnya. Dengan kata lain ada cara untuk membuat <code>dd</code> biasa berperilaku lebih seperti <code>sudo dd</code> tanpa kata sandi. Anda tidak boleh melakukannya dan mudah-mudahan tidak ada yang melakukannya, namun itu mungkin.</p><p>Apa yang dapat Anda lakukan adalah memberikan hak akses sesuai permintaan: <code>sudo dd</code>. Ini dapat berguna saat mencoba menulis ke file terbatas. Analisa ini:</p><pre><code>some-command &gt; restricted_file               # doesn't work
sudo some-command &gt; restricted_file          # doesn't work
some-command | sudo dd &gt; restricted_file     # doesn't work
sudo sh -c 'some_command &gt; restricted_file'  # works, but it runs some_command as root
                                             #  you may not want this
some-command | sudo dd of=restricted_file    # works
some-command | sudo tee restricted_file      # works, more common, possibly with
                                             #  &gt; /dev/null to suppress output to tty
</code></pre><p>Saya pikir ini sangat dekat dengan "manfaat atau kasus penggunaan yang tidak dapat diabaikan".</p><hr><h3 class=h5>Mungkin beberapa pilihan</h3><p>Jelas, <code>$MAYBE_SOME_OPTIONS_LIKE_BS</code> dapat mengubah perilaku <code>dd</code>. Saya memahami bahwa opsi seperti <code>conv=swab</code> berada di luar jangkauan karena Anda ingin <code>file</code> menerima data yang sama dalam kedua kasus.</p><p>Masih ada beberapa opsi yang dapat membuat perbedaan. Contoh:</p><ul><li><p><code>status=progress</code> akan mencetak statistik kecepatan transfer dan volume pada stderr, saat memproses setiap blok masukan;</p></li><li><p><code>oflag=noatime</code> tidak akan memperbarui stempel waktu akses file;</p></li><li><p><code>oflag=nolinks</code> akan gagal jika file tersebut memiliki banyak tautan keras;</p></li><li><p>dan <a href=https://www.gnu.org/software/coreutils/manual/html_node/dd-invocation.html#dd-invocation rel="nofollow noopener" target=_blank>lebih</a> .</p></li></ul><p>Contoh di atas adalah ekstensi GNU, bukan portabel. Portabel <code>dd</code> dicirikan <a href=https://pubs.opengroup.org/onlinepubs/9699919799/utilities/dd.html rel="nofollow noopener" target=_blank>sini</a> .</p><hr><h3 class=h5>CIUMAN</h3><p>Akhirnya ada <a href=https://en.wikipedia.org/wiki/KISS_principle rel="nofollow noopener" target=_blank>Prinsip KISS</a> : tetap sederhana dan bodoh. Kasus pertama Anda sangat sederhana.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/pengalihan-file-vs-dd-zbyi5qio/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/432690/kamil-maciorowski target=_blank rel="nofollow noopener"><span itemprop=name>Kamil Maciorowski</span></a>
—
<a href=https://superuser.com/a/1470733 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Jawaban yang sangat detail untuk pertanyaan kecil! Satu hal lagi yang saya ingin tahu adalah cara file dialokasikan (jika ada perbedaan sama sekali). Saya tahu pada filesystem seperti <code>ext4</code>, itu tidak terlalu penting, tetapi di mana pun itu akan atau mungkin penting, bagaimana jika saya melakukan sesuatu seperti, katakanlah, beri <code>dd</code> ukuran blok (itulah sebabnya saya mengisyaratkan itu)? Jelas, jika saya benar-benar ingin mengalokasikan file sebelumnya, saya akan menggunakan <code>fallocate</code> atau sesuatu.</div><div>— <a href=https://superuser.com/users/606750/mona-the-monad target=_blank rel="nofollow noopener">Mona the Monad</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Tidak ada pengguna yang melihat adanya perbedaan. Dari sudut pandang kinerja, keraguan akan ada perbedaan juga. Jika Anda memikirkan kedua skenario tersebut, ada pro dan kontra tetapi ini sangat bergantung pada apa yang ingin Anda capai.</p><p>Sebagai contoh:
file kucing | dd of = file2 vs cat file> file2.
Perbedaannya di sini adalah, cat akan membuka file, dd akan mewarisi aliran kecuali Anda menentukan ukuran blok atau semacam bendera penulisan, itu akan mulai menulis ke tumpukan fs segera.</p><p>Jika Anda tidak menggunakan fitur apa pun dari dd, Anda cukup banyak hanya mencari perantara, menambahkan proses, garpu ganda ini saya asumsikan akan memiliki kerugian kinerja minimal vs hanya membiarkan dd menangani if ​​= file of = newfile. Keuntungannya, dalam hal ini, Anda dapat mencari / melewati di dd dan yah, hanya ada satu proses.</p><p>Jika yang Anda maksud hanyalah pengalihan file vs dd, saya akan mengatakan tidak ada perbedaan jika Anda tidak menyediakan dd dengan flag / parameter apa pun. Anda dapat menggunakan dalam kasus ini sebagai penyangga perantara, tetapi ada alternatif yang lebih baik, misalnya:
file kucing | penyangga | gzip> konten gzip.
Misalnya, panggilan bertumpuk di atas, katakanlah Anda memiliki sumber super cepat, dan tujuan yang lambat, dengan buffer di antara Anda dapat memastikan sisi penerima selalu memiliki antrian masukan yang sibuk, dan jika Anda mengompresi Anda dapat pastikan CPU Anda tidak menunggu IO.</p><p>Sekali lagi, semua kasus tepi, itu akan membutuhkan pertanyaan terpisah, tetapi seperti yang Anda lihat, jika kita berbicara secara tegas dari satu vs yang lain, bahkan jika ada perbedaan, keraguan itu akan terlihat kecuali untuk kasus tepi ekstrim.</p><p>Semoga ini bisa membantu, pertanyaan ini cukup menarik untuk saya katakan, butuh waktu beberapa saat untuk memikirkannya.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/pengalihan-file-vs-dd-zbyi5qio/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/464862/ddemuro target=_blank rel="nofollow noopener"><span itemprop=name>ddemuro</span></a>
—
<a href=https://superuser.com/a/1470651 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>+1 untuk penyebutan <code>buffer</code>, karena saya lupa bahwa itu adalah sesuatu.</div><div>— <a href=https://superuser.com/users/606750/mona-the-monad target=_blank rel="nofollow noopener">Mona the Monad</a></div></li><li class=list-group-item><div>Ngomong-ngomong, pada sistem tanpa <code>buffer</code>, dapatkah <code>dd</code> dengan ukuran blok bertindak sebagai solusi peretasan sementara?</div><div>— <a href=https://superuser.com/users/606750/mona-the-monad target=_blank rel="nofollow noopener">Mona the Monad</a></div></li><li class=list-group-item><div>Sebenarnya ya, Anda harus bisa menggunakan ukuran blok sebagai buffer yang benar-benar hacky. Saya akan menyarankan untuk tidak melakukannya karena itu tidak akan benar-benar menambah banyak kinerja dan buffer adalah solusi yang lebih cocok. Saya suka pertanyaannya lol benar-benar membuat saya banyak berpikir. Cara terbaik yang pernah saya lihat jenis pemipaan ini digunakan adalah sehubungan dengan <code>pv</code> untuk melihat kemajuan. Juga saat mengompresi aliran, buffer dan pv menjadi sangat berguna.</div><div>— <a href=https://superuser.com/users/464862/ddemuro target=_blank rel="nofollow noopener">ddemuro</a></div></li><li class=list-group-item><div>Apa yang membuat <code>buffer</code> lebih cepat? Semacam quirk pengoptimalan tingkat rendah?</div><div>— <a href=https://superuser.com/users/606750/mona-the-monad target=_blank rel="nofollow noopener">Mona the Monad</a></div></li><li class=list-group-item><div>Benar, <code>dd</code> memiliki lebih banyak struktur kontrol daripada <code>buffer</code>. Meski begitu, jika ada yang bisa melihat perbedaannya, saya akan sangat terkejut. Saya kira saya lebih suka motto Linux memiliki aplikasi khusus untuk penggunaan tertentu. Membiasakan diri dengan buffer dan dd untuk tujuan mereka menurut saya adalah yang terbaik. Jangan lupa bahwa dengan <code>buffer</code> Anda mendapatkan parameter yang sangat berguna untuk mengelolanya dengan tepat. Dengan <code>dd</code> Anda semacam palu paku dengan obeng.</div><div>— <a href=https://superuser.com/users/464862/ddemuro target=_blank rel="nofollow noopener">ddemuro</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/terjadi-masalah-saat-mengedit-bash-profile-bash-39-r39-perintah-tidak-ditemukan-yxgydfkv/>Terjadi masalah saat mengedit ~ / .bash_profile: -bash: $ '\ r': perintah tidak ditemukan</a></div></li><li class=list-group-item><div><a href=/apa-yang-dimaksud-dengan-quotlevel-pesan-saat-iniquot-vtbedaud/>Apa yang dimaksud dengan "Level pesan saat ini"?</a></div></li><li class=list-group-item><div><a href=/mengelola-kata-sandi-klien-oekb70nc/>Mengelola kata sandi klien</a></div></li><li class=list-group-item><div><a href=/simpan-quotperiksa-elemenquot-tr9ei8zf/>Simpan "Periksa Elemen"</a></div></li><li class=list-group-item><div><a href=/wallpaper-dalam-dua-monitor-dengan-resolusi-berbeda-5gl9hfvc/>Wallpaper dalam dua monitor dengan resolusi berbeda</a></div></li><li class=list-group-item><div><a href=/keyboard-laptop-hanya-bisa-menekan-2-tombol-sekaligus-sucks-untuk-game-fps-xy31ktsn/>Keyboard laptop hanya bisa menekan 2 tombol sekaligus? Sucks untuk game FPS</a></div></li><li class=list-group-item><div><a href=/izinkan-skrip-powershell-untuk-berjalan-setelah-menandainya-dengan-quottidak-pernah-berjalanquot-jcisp0l3/>Izinkan skrip PowerShell untuk berjalan setelah menandainya dengan "tidak pernah berjalan"</a></div></li><li class=list-group-item><div><a href=/nonaktifkan-layar-kedua-secara-permanen-pmi55y4g/>Nonaktifkan layar kedua secara permanen</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengubah-ikon-desktop-saya-quotgravityquot-zebo5nsy/>Bagaimana cara mengubah Ikon Desktop saya "Gravity"?</a></div></li><li class=list-group-item><div><a href=/atur-ulang-ringan-tanpa-mematikan-8el5jg6s/>Atur ulang ringan tanpa mematikan</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>