<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Mengonfigurasi port SSH yang berbeda untuk setiap remote host yang dipantau oleh Nagios</title><meta name=description content="Saya sudah menyelesaikan install Nagios dan setup di tiga server sehingga instance di server  SEBUAH  juga menyediakan laporan untuk server  B  &amp;amp;  C  (melalui NRPE).  SSHD sengaja mendengarkan port yang berbeda di..."><link rel=canonical href=https://www.idxstack.com/mengonfigurasi-port-ssh-yang-berbeda-untuk-setiap-remote-host-yang-dipantau-oleh-nagios-hgmuhgmd/><meta property="og:title" content="Mengonfigurasi port SSH yang berbeda untuk setiap remote host yang dipantau oleh Nagios"><meta property="og:description" content="Saya sudah menyelesaikan install Nagios dan setup di tiga server sehingga instance di server  SEBUAH  juga menyediakan laporan untuk server  B  &amp;amp;  C  (melalui NRPE).  SSHD sengaja mendengarkan port yang berbeda di..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/mengonfigurasi-port-ssh-yang-berbeda-untuk-setiap-remote-host-yang-dipantau-oleh-nagios-hgmuhgmd/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mengonfigurasi port SSH yang berbeda untuk setiap remote host yang dipantau oleh Nagios"><meta name=twitter:description content="Saya sudah menyelesaikan install Nagios dan setup di tiga server sehingga instance di server  SEBUAH  juga menyediakan laporan untuk server  B  &amp;amp;  C  (melalui NRPE).  SSHD sengaja mendengarkan port yang berbeda di..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Mengonfigurasi port SSH yang berbeda untuk setiap remote host yang dipantau oleh Nagios</h1><div itemprop=text><p>Saya sudah menyelesaikan install Nagios dan setup di tiga server sehingga instance di server <strong>SEBUAH</strong> juga menyediakan laporan untuk server <strong>B</strong> & <strong>C</strong> (melalui NRPE).</p><p>SSHD sengaja mendengarkan port yang berbeda di setiap host, jadi saya mengedit file /etc/nagios3/conf.d/services_nagios2.cfg di setiap host untuk menguji port yang sesuai. Instance HTTP asli Nagios di server <strong>B</strong> & <strong>C</strong> konfirmasikan bahwa SSH berjalan tetapi laporkan di server <strong>SEBUAH</strong> menunjukkan kegagalan kritis untuk SSH di keduanya <strong>B</strong> & <strong>C</strong> .</p><p>Saya mendapat kesan bahwa layanan NRPE dirancang untuk menjalankan pemeriksaan lokal pada host jarak jauh, meneruskan sisanya ke host pemantauan yang kemudian akan menyusun data menjadi satu laporan untuk semua mesin.</p><p>Melihat bagian Layanan di halaman web Konfigurasi (di server <strong>SEBUAH</strong> ), Nagios sedang menguji port SSH yang sama di ketiga server, bukan di port yang berbeda <strong>B</strong> & <strong>C</strong> . Adakah yang bisa menjelaskan mengapa?</p><p>Satu-satunya cara saya dapat memperbaikinya (hingga saat ini) adalah dengan membuat host group_name yang berbeda dan check_command untuk setiap host jarak jauh di file conf.d / services_nagios2.cfg di server <strong>SEBUAH</strong> .</p><p><strong>Ini tidak mungkin satu-satunya cara?</strong></p><p>Tentunya panjang file akan berlipat ganda setiap kali konfigurasi layanan yang berbeda diperlukan untuk server yang dipantau dari jarak jauh!</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/110085/danielcraigie target=_blank rel="nofollow noopener"><span itemprop=name>danielcraigie</span></a>
—
<a href=https://superuser.com/questions/451875/configuring-different-ssh-ports-for-each-host-remotley-monitored-by-nagios target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Oke, saya telah menelusuri dokumentasi Nagios3 dan telah menjawab bagian konfigurasi port dari pertanyaan saya ...</p><p>Jawabannya terletak pada model Warisan Objek yang ada di dalam file konfigurasi Nagios. Pada dasarnya saya membuat variabel khusus di setiap definisi host yang menentukan port ssh unik di mesin itu:</p><pre><code>define host {
    use              generic-host
    host_name        serverB
    address          10.0.1.3
    _sshport         67382
}
</code></pre><p>Host dikelompokkan bersama di dalam file hostgroups_nagios2.cfg:</p><pre><code># A list of your ssh-accessible servers
define hostgroup {
    hostgroup_name  ssh-servers
    alias           SSH servers
    members         localhost,serverB,serverC
}
</code></pre><p>Grup ini direferensikan di dalam services_nagios2.cfg oleh blok yang memeriksa SSH:</p><pre><code># check that ssh services are running
define service {
    hostgroup_name                  ssh-servers
    service_description             SSH
    check_command                   check_ssh_port!$_HOSTSSHPORT
    use                             generic-service
    notification_interval           0 ; set &gt; 0 if you want to be renotified
}
</code></pre><p>Pada akhir perintah check_ssh_port Anda dapat melihat bahwa saya menambahkan variabel sshport <code>$_HOSTSSHPORT</code> yang diwarisi dari setiap host di dalam ssh-server hostgroup saat pemeriksaan dijalankan.</p><p>Sekarang, saat menambahkan server baru, saya hanya perlu memodifikasi file hosts_nagios2.cfg saya dengan detail host baru.</p><p>Untuk mengaktifkan kompatibilitas mundur, saya juga memodifikasi file generik-host_nagios2.cfg saya menambahkan baris <code>_sshport 22</code> sehingga jika karena alasan tertentu saya perlu memantau beberapa sistem yang menjalankan SSH pada port default, konfigurasi port sudah akan diwarisi dari template host generik .</p><p>Saya harap ini membantu orang lain yang mengalami kesulitan yang sama. Saya masih mencoba memahami mengapa pemeriksaan jarak jauh tidak menggunakan file konfigurasi khusus di server jarak jauh.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/mengonfigurasi-port-ssh-yang-berbeda-untuk-setiap-remote-host-yang-dipantau-oleh-nagios-hgmuhgmd/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/110085/danielcraigie target=_blank rel="nofollow noopener"><span itemprop=name>danielcraigie</span></a>
—
<a href=https://superuser.com/a/452065 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Ini bekerja dengan sempurna untuk saya. Terima kasih Pak!</div><div>— <a href=https://superuser.com/users/79608/bryan-agee target=_blank rel="nofollow noopener">Bryan Agee</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/saya-tidak-sengaja-memberi-tahu-manajer-partisi-easeus-untuk-memformat-ubuntu-dapatkah-saya-membatalkan-ini-sebelum-mulai-berlaku-pada-boot-ulang-berikutnya-yyluguw5/>Saya tidak sengaja memberi tahu manajer partisi Easeus untuk memformat Ubuntu, dapatkah saya membatalkan ini sebelum mulai berlaku pada boot ulang berikutnya?</a></div></li><li class=list-group-item><div><a href=/bolehkah-port-kerberos-sec-terbuka-ke-internet-di-mac-os-x-vsebs1co/>Bolehkah port kerberos-sec terbuka ke Internet di Mac OS X?</a></div></li><li class=list-group-item><div><a href=/apakah-windows-7-notepad-memahami-perbedaan-akhiran-baris-unix-mac-dan-windows-lu7seix7/>Apakah Windows 7 Notepad memahami perbedaan akhiran baris Unix, Mac dan Windows?</a></div></li><li class=list-group-item><div><a href=/apakah-mungkin-bagi-klien-bittorrent-untuk-memberikan-preferensi-seeding-hanya-kepada-leecher-yang-juga-melakukan-seeding-yqbumpte/>Apakah mungkin bagi klien BitTorrent untuk memberikan preferensi seeding hanya kepada leecher yang juga melakukan seeding?</a></div></li><li class=list-group-item><div><a href=/tolong-bantu-menginstal-qt-centos-7-jbdxf7tn/>Tolong Bantu menginstal Qt centos 7</a></div></li><li class=list-group-item><div><a href=/gnu-parallel-variabel-dan-fungsi-global-7xjgbn9u/>GNU Parallel - variabel dan fungsi global</a></div></li><li class=list-group-item><div><a href=/tambahkan-unix-executable-ke-mac-os-x-dock-01bq0uf0/>Tambahkan Unix Executable ke Mac OS X Dock</a></div></li><li class=list-group-item><div><a href=/apakah-ada-cara-untuk-mengubah-kata-sandi-windows-7-menggunakan-command-prompt-flooygq9/>Apakah ada cara untuk mengubah kata sandi Windows 7 menggunakan command prompt?</a></div></li><li class=list-group-item><div><a href=/bagaimana-mengkonversi-video-ke-format-3d-sehingga-saya-dapat-menontonnya-dengan-kacamata-3d-emt93pax/>Bagaimana mengkonversi video ke format 3D sehingga saya dapat menontonnya dengan kacamata 3D</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membuat-lingkungan-mesin-virtual-nuwqnpju/>Bagaimana cara membuat lingkungan mesin virtual?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>