<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Bagaimana cara membuat lebar panel tmux diperbaiki?</title><meta name=description content="Katakanlah saya membagi jendela menjadi 2 panel, yang kanan memiliki lebar 20 sel. Tetapi ketika saya mengubah ukuran emulator terminal luar, lebar panel berubah.  Apakah ada cara untuk memperbaikinya? Karena saya ingin..."><link rel=canonical href=https://www.idxstack.com/bagaimana-cara-membuat-lebar-panel-tmux-diperbaiki-dvv7afks/><meta property="og:title" content="Bagaimana cara membuat lebar panel tmux diperbaiki?"><meta property="og:description" content="Katakanlah saya membagi jendela menjadi 2 panel, yang kanan memiliki lebar 20 sel. Tetapi ketika saya mengubah ukuran emulator terminal luar, lebar panel berubah.  Apakah ada cara untuk memperbaikinya? Karena saya ingin..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/bagaimana-cara-membuat-lebar-panel-tmux-diperbaiki-dvv7afks/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bagaimana cara membuat lebar panel tmux diperbaiki?"><meta name=twitter:description content="Katakanlah saya membagi jendela menjadi 2 panel, yang kanan memiliki lebar 20 sel. Tetapi ketika saya mengubah ukuran emulator terminal luar, lebar panel berubah.  Apakah ada cara untuk memperbaikinya? Karena saya ingin..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Bagaimana cara membuat lebar panel tmux diperbaiki?</h1><div itemprop=text><p>Katakanlah saya membagi jendela menjadi 2 panel, yang kanan memiliki lebar 20 sel. Tetapi ketika saya mengubah ukuran emulator terminal luar, lebar panel berubah.</p><p>Apakah ada cara untuk memperbaikinya? Karena saya ingin menampilkan info yang diformat agar muat untuk 20 sel</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/21134/haohaolee target=_blank rel="nofollow noopener"><span itemprop=name>haohaolee</span></a>
—
<a href=https://superuser.com/questions/322609/how-to-make-a-pane-width-of-tmux-fixed target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Sejauh yang saya tahu, tmux tidak memiliki pengaturan untuk memperbaiki lebar ke nilai minimum, hanya ke nilai maksimal. Ini karena jendela terminal dapat diubah ukurannya menjadi lebih kecil dari nilai min tmux dan tmux mungkin tidak memiliki cara yang sesuai untuk menangani ini.</p><p>Karena itu, jika Anda memiliki panel tmux lain yang terbuka, Anda dapat menambahkan skrip kecil ke PS1 (<code>PS1='$(resizePane $id)other-stuff'</code>) atau PROMPT_COMMAND untuk terus mengubah ukuran panel info yang ingin Anda pertahankan pada lebar 20c saat Anda menggunakan panel lain dalam tmux. Pada dasarnya, 1) Anda dapat membuka program, 2) mengubah ukuran terminal, 3) pindah ke panel lain, 4) ketik <code>Enter</code> dan blam, panel diubah ukurannya.</p><p>Anda harus melihat halaman manual untuk</p><pre><code>resize-pane [-DLRU] [-t target-pane] [adjustment]
</code></pre><p>Jika Anda berada di panel yang diinginkan, semua yang harus dilakukan adalah mengecilkan lebar dari kiri -L atau dari kanan -R sebanyak karakter x yang diperlukan untuk mencapai 20. Intinya, jika panel menghadap dinding yang lebih tinggi daripada panel, gunakan arahnya untuk menyusut dan sebaliknya untuk memperbesar. Jika panel saya berada di sebelah kanan dinding, gunakan -R untuk memperkecil lebar dan -L untuk memperbesarnya.</p><p>Untuk mendapatkan jumlah karakter yang tepat, Anda perlu mengetahui lebar panel saat ini, yang dapat ditemukan bersama dengan id panel jika Anda mengetik</p><pre><code>tmux list-panes
</code></pre><p>Saya belum yakin bagaimana cara mengetahui nomor panel mana Anda saat ini kecuali dengan <code>Prefix+q</code> atau mengetik</p><pre><code>tmux display-panes
</code></pre><p>Ini akan memberi kita nomor id dari semua panel di jendela saat ini. Jika kita mengetahui id # ($ id) dengan asumsi itu menempel di dinding kanan, kita dapat mengubah ukuran panel menjadi lebar 20 karakter dengan:</p><pre><code>paneWidths=$(tmux list-panes | awk '{print $2}' | cut -c 2- | cut -f 1 -d'x')
currentWidth=$(echo $paneWidths | sed $id'q;d')
resizeNum=$(expr $currentWidth - 20)

tmux resize-pane -R -t $id $resizeNum
</code></pre><p>Perhatikan bahwa resizeNum tidak boleh negatif. Jika negatif, gunakan sisi lain untuk mengubah ukuran ke nilai absolut resizeNum (ini dapat diotomatiskan, tetapi saya akan menyerahkannya kepada Anda). Juga, jika Anda memasukkan ini ke dalam kode program Anda, Anda dapat mengabaikan bagian "-t $ id", tetapi saya tidak tahu cara untuk mengotomatiskan pencarian $ id dari dalam program Anda.</p><p>Mungkin juga berguna bagi Anda untuk melihat <code>tmux setw main-pane-width</code> <code>tmux setw other-pane-width</code>, yang akan menyetel lebar panel tertentu jika Anda memuat ulang format ubin baru. Untuk memutar format, gunakan <code>Prefix+space</code></p><p>Semoga ini membantu!</p><p><strong><em>--- diedit untuk menambahkan info lebih lanjut tentang otomatisasi ---</em></strong></p><p>Pikiran saya sebelumnya, adalah Anda membuka panel baru dan menjalankan <code>PS1="$(resizePane $id)${PS1}"</code> lalu tekan <code>ENTER</code> dalam panel lain sehingga Anda dapat terus bekerja di panel ubah ukuran yang baru, tetapi saya telah mempertimbangkan opsi baru yang mungkin berhasil untuk Anda .. .</p><p>Saya telah memikirkan kembali ide ini sejak awalnya memposting dan saya pikir ini cukup dapat diotomatiskan jika program yang berjalan memiliki loop yang dapat mengirim perintah shell. Ini karena kita dapat menjalankan program dengan memisahkan jendela. Ini adalah contoh yang saya maksud. Kode berikut</p><ol><li>Pengguna menjalankan <code>runCodeSplit.sh</code>, yang</li><li>membagi panel baru secara horizontal (lebar 20c) di sebelah kanan panel terakhir dan menjalankan <code>test.sh</code></li><li>Masuk Loop</li><li>memeriksa ukuran panel saat ini dan mencoba mengubah ukuran</li><li>Tidur selama 10 detik (tetapi Anda dapat mengubahnya untuk melakukan apa pun yang Anda inginkan)</li><li>mengulangi 3 & 4 10 kali, lalu keluar</li></ol><p>runCodeSplit.sh:</p><pre><code>#!/bin/bash
# runCodeSplit.sh

paneID=$(tmux list-panes | wc -l)
echo "pane: $paneID"
echo $(expr $paneID - 1)

# now, open a new pane and run the func
tmux split-window -h -l 20 -t $(expr $paneID - 1 ) "~/test.sh $paneID"
</code></pre><p>test.sh:</p><pre><code>#!/bin/bash
# test.sh
if [[ $# -lt 1 ]] ; then 
    echo "please provide the pane-number" 
    exit 
fi
paneID=$1
i=0
while [[ i -lt 10 ]] ; do
    # find the current width and resize it at every loop
    width=$(tmux list-panes | awk '{print $2}' | cut -c 2- | cut -f 1 -d'x' | sed $(expr $paneID + 1)'q;d')
    resizeNum=$(expr $width - 20)
    echo "$paneID : w $width     r $resizeNum"

    if [[ $resizeNum -gt 0 ]] ; then
        tmux resize-pane -R -t $paneID $resizeNum
    elif [[ $resizeNum -lt 0 ]] ; then
        tmux resize-pane -L -t $paneID $(expr 0 - $resizeNum)
    fi 

    #now, we can do stuff ... 
    let i++
    echo "i= $i / 10"
    sleep 10
done
read -p "Press any key to close this pane ... " -n1 -s
</code></pre><p><strong>CATATAN:</strong> Sayangnya, cara saya menerapkannya di atas, Anda seharusnya hanya menjalankannya sekali per jendela tmux. Masalahnya adalah setiap kali Anda menjalankannya, mereka akan berkumpul di samping satu sama lain, yang pada gilirannya akan membuat mereka bersaing untuk mendapatkan ruang (yang satu akan menyusut yang lain untuk mengembang dan sebaliknya). Anda mungkin dapat mengatasi masalah ini, tetapi saya serahkan kepada Anda untuk mencari tahu.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-membuat-lebar-panel-tmux-diperbaiki-dvv7afks/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/93719/scicalculator target=_blank rel="nofollow noopener"><span itemprop=name>scicalculator</span></a>
—
<a href=https://superuser.com/a/322913 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Terima kasih atas jawaban rinci. Anda mengatakan gunakan perintah PS atau Prompt untuk mengubah ukuran panel, apakah ini berarti saya harus beralih ke panel itu dan menekan Enter untuk menyesuaikan ukurannya? Apakah ada cara untuk mengetahui peristiwa pergantian terminal? sehingga dapat mengubah ukuran secara otomatis. Karena tmux sendiri dapat merespons perubahan ukuran terminal.</div><div>— <a href=https://superuser.com/users/21134/haohaolee target=_blank rel="nofollow noopener">haohaolee</a></div></li><li class=list-group-item><div>Maaf jawaban saya sebelumnya kurang membantu Anda. Saya memikirkan kembali dan menambahkan bagian baru di atas yang memungkinkan Anda mengotomatiskan proses pengubahan ukuran. FYI ini berguna untuk saya juga :)</div><div>— <a href=https://superuser.com/users/93719/scicalculator target=_blank rel="nofollow noopener">scicalculator</a></div></li><li class=list-group-item><div>tandai sebagai jawaban. btw, akhirnya saya tidak mengikuti pendekatan ini, karena saya menemukan shell yang saya gunakan - zsh - memiliki kemampuan untuk memanggil kembali ketika ukuran berubah, jadi saya dapat menggunakan tmux resize tepat waktu.</div><div>— <a href=https://superuser.com/users/21134/haohaolee target=_blank rel="nofollow noopener">haohaolee</a></div></li><li class=list-group-item><div>FYI: Nomor panel saat ini dapat ditemukan dengan <code>tmux display-message -p '#P'</code></div><div>— <a href=https://superuser.com/users/111814/peter-v-m%c3%b8rch target=_blank rel="nofollow noopener">Peter V. M&#248;rch</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>2</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>2</div><div class=card-body><div itemprop=text><p>Saya akan memposting varietas saya karena tidak akan menyakiti siapa pun, dan mungkin lebih cocok untuk seseorang apa adanya.</p><p>Saya menggunakannya untuk mengubah ukuran panel dalam sesi irssi di dalam tmux yang membaca keluaran dari <a href=http://wouter.coekaerts.be/irssi/nicklist rel="nofollow noopener" target=_blank><code>nicklist.pl</code></a> naskah. Panel sering diubah ukurannya ketika saya memasang terminal yang berbeda, dan harus> 20 kolom lebar agar FIFO berfungsi dengan benar (dan tidak perlu membuatnya lebih lebar, mencuri ruang layar saya).</p><p>Abaikan kalkulasi <code>CURRENT_PANE_WIDTH</code> yang berbelit-belit dan gunakan grep + sed satu jika Anda mau. Yang saat ini sebagian besar adalah eksperimen untuk menyimpan skrip sepenuhnya di shell (kecuali panggilan tmux, tentu saja). Ini kemungkinan besar lebih cepat, yang mungkin menarik untuk otomatisasi di mana skrip sering berjalan (saat ini saya menjalankannya sebagai panggilan khusus).</p><pre><code>#!/bin/sh
TMUX="/usr/bin/tmux"
TMUX_SESSION="irssi"
TMUX_WINDOW="0"
TMUX_WINDOW_PANE="1"
DESIRED_PANE_WIDTH="20"

error()
{
    printf '%s: error: %s\n' "${0##*/}" "${1}" 1&gt;&amp;2
    exit ${2}
}

# Find with grep and sed. More readable and easier to modify.
#CURRENT_PANE_WIDTH="$(${TMUX} list-panes -t "${TMUX_SESSION}:0 | grep "^${TMUX_WINDOW_PANE}: " | sed 's/^'"${TMUX_WINDOW_PANE}"': \[\([^x]\+\).*/\1/')"

# Find with shell expansion. Because it can be done!
CURRENT_PANE_WIDTH=$(${TMUX} list-panes -t "${TMUX_SESSION}:${TMUX_WINDOW}" |\
while read line; do
    PANE_MATCH="${line#${TMUX_WINDOW_PANE}:\ \[}"
    if [ "${line}" != "${PANE_MATCH}" ]; then
        CURRENT_PANE_WIDTH="${PANE_MATCH%%x*}"
        printf "${PANE_MATCH%%x*}"
        break;
    fi
done)

if [ -z "${CURRENT_PANE_WIDTH}" ]; then
    error 'no matching pane found.' 1
fi

if ! [ "${CURRENT_PANE_WIDTH}" -eq "${CURRENT_PANE_WIDTH}" ]; then
    error 'could not get integer width.' 1
elif ! [ "${CURRENT_PANE_WIDTH}" -eq "${DESIRED_PANE_WIDTH}" ]; then
    RESIZE_NUMBER=$((${CURRENT_PANE_WIDTH} - ${DESIRED_PANE_WIDTH}))
    if [ ${RESIZE_NUMBER} -ge 0 ]; then
        DIRECTION="R"
    else
        DIRECTION="L"
        RESIZE_NUMBER=$((-${RESIZE_NUMBER}))
    fi

    ${TMUX} resize-pane -t "${TMUX_SESSION}:${TMUX_WINDOW}" -${DIRECTION} ${RESIZE_NUMBER}
fi
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-membuat-lebar-panel-tmux-diperbaiki-dvv7afks/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/49184/daniel-andersson target=_blank rel="nofollow noopener"><span itemprop=name>Daniel Andersson</span></a>
—
<a href=https://superuser.com/a/389001 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Terima kasih. Situasi yang saya hadapi persis sama dengan situasi Anda, saya juga menggunakan irssi dan tmux. Tapi siapa yang harus memanggil skrip ini? Haruskah saya memanggil ini di panel 1?</div><div>— <a href=https://superuser.com/users/21134/haohaolee target=_blank rel="nofollow noopener">haohaolee</a></div></li><li class=list-group-item><div>Anda dapat memanggilnya dari mana saja, karena berisi nama sesi tmux, dll. Secara pribadi, saya menulis ulang di atas sebagai plugin irssi - lihat bagian "Perbarui otomatis ukuran panel tmux untuk nicklist.pl" di <a href=http://510x.se/notes/posts/Install_and_setup_BitlBee/ rel="nofollow noopener" target=_blank>510x.se/notes/posts/Install_and_setup_BitlBee</a> . Saya telah menggunakan plugin setidaknya selama beberapa minggu, dan itu berfungsi dengan baik di sini.</div><div>— <a href=https://superuser.com/users/49184/daniel-andersson target=_blank rel="nofollow noopener">Daniel Andersson</a></div></li><li class=list-group-item><div>Terima kasih banyak. Saya akan memilih jawaban Anda ketika saya memiliki reputasi yang cukup</div><div>— <a href=https://superuser.com/users/21134/haohaolee target=_blank rel="nofollow noopener">haohaolee</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/pembuatan-kunci-publik-ecdsa-dengan-openssl-hex-vrwjxzmr/>Pembuatan kunci publik ECDSA dengan openssl (HEX)</a></div></li><li class=list-group-item><div><a href=/menginstal-command-t-merusak-macvim-semtdl2z/>Menginstal Command-T merusak MacVim</a></div></li><li class=list-group-item><div><a href=/definisikan-ulang-asosiasi-ekstensi-file-di-sublime-text-2-ul6envxu/>Definisikan ulang asosiasi ekstensi file di Sublime text 2</a></div></li><li class=list-group-item><div><a href=/paksa-bookmark-firefox-untuk-memuat-di-tab-baru-7wvqbo3i/>Paksa bookmark Firefox untuk memuat di tab baru</a></div></li><li class=list-group-item><div><a href=/ie8-menolak-untuk-menjalankan-javascript-dari-hard-drive-lokal-vminmzam/>IE8 Menolak untuk menjalankan Javascript dari Hard Drive Lokal</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-memperbaiki-lebar-teks-vim-selama-pengeditan-rz3lmipy/>Bagaimana cara memperbaiki lebar teks vim selama pengeditan?</a></div></li><li class=list-group-item><div><a href=/ubah-urutan-pencarian-dns-di-mac-el-capitan-nv2qg7jl/>Ubah urutan pencarian DNS di Mac El Capitan</a></div></li><li class=list-group-item><div><a href=/mengapa-monitor-ini-masuk-mode-tidur-tetapi-tidak-mau-bangun-meskipun-semua-opsi-daya-terkait-dimatikan-vbe0qqo5/>Mengapa monitor ini masuk mode tidur tetapi tidak mau bangun, meskipun semua opsi daya terkait dimatikan?</a></div></li><li class=list-group-item><div><a href=/salin-layer-teks-pdf-ke-pdf-lain-pspjaqpq/>Salin layer teks pdf ke pdf lain</a></div></li><li class=list-group-item><div><a href=/excel-2003-bagaimana-cara-mengunci-seluruh-template-kecuali-beberapa-sel-pvjvxcws/>Excel 2003: Bagaimana cara mengunci seluruh template kecuali beberapa sel?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>