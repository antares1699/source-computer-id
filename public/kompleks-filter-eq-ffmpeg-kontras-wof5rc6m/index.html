<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Kompleks filter eq FFmpeg: Kontras</title><meta name=description content="Saya bermain dengan filter eq di FFmpeg:  https://ffmpeg.org/ffmpeg-filters.html#eq  Menggunakan perintah seperti:  ffmpeg -y -loop 1 -i input.jpg -filter_complex &#34;[0:v]eq=1:0:1:1:1:1:1:1[outv]&#34; -map [outv] -c:v libx264 -t 3 -pix_fmt yuv420p out.mp4 # does nothing  Dokumentasi..."><link rel=canonical href=https://www.idxstack.com/kompleks-filter-eq-ffmpeg-kontras-wof5rc6m/><meta property="og:title" content="Kompleks filter eq FFmpeg: Kontras"><meta property="og:description" content="Saya bermain dengan filter eq di FFmpeg:  https://ffmpeg.org/ffmpeg-filters.html#eq  Menggunakan perintah seperti:  ffmpeg -y -loop 1 -i input.jpg -filter_complex &#34;[0:v]eq=1:0:1:1:1:1:1:1[outv]&#34; -map [outv] -c:v libx264 -t 3 -pix_fmt yuv420p out.mp4 # does nothing  Dokumentasi..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/kompleks-filter-eq-ffmpeg-kontras-wof5rc6m/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kompleks filter eq FFmpeg: Kontras"><meta name=twitter:description content="Saya bermain dengan filter eq di FFmpeg:  https://ffmpeg.org/ffmpeg-filters.html#eq  Menggunakan perintah seperti:  ffmpeg -y -loop 1 -i input.jpg -filter_complex &#34;[0:v]eq=1:0:1:1:1:1:1:1[outv]&#34; -map [outv] -c:v libx264 -t 3 -pix_fmt yuv420p out.mp4 # does nothing  Dokumentasi..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Kompleks filter eq FFmpeg: Kontras</h1><div itemprop=text><p>Saya bermain dengan filter eq di FFmpeg:</p><p><a href=https://ffmpeg.org/ffmpeg-filters.html#eq rel="nofollow noopener" target=_blank>https://ffmpeg.org/ffmpeg-filters.html#eq</a></p><p>Menggunakan perintah seperti:</p><pre><code>ffmpeg -y -loop 1 -i input.jpg -filter_complex "[0:v]eq=1:0:1:1:1:1:1:1[outv]" -map [outv] -c:v libx264 -t 3 -pix_fmt yuv420p out.mp4 # does nothing
</code></pre><p>Dokumentasi menunjukkan bahwa komponen pertama dari filter adalah kontras:</p><blockquote><p>Atur ekspresi kontras. Nilainya harus berupa nilai float dalam rentang -2.0 hingga 2.0. Nilai defaultnya adalah "0".</p></blockquote><p>Namun, saya menemukan bahwa agar tidak terjadi perubahan kontras, nilainya harus "1". Bukankah ini harus menjadi default?</p><p>Pokoknya saya bingung kalau nilai pertama ini malah kontras. Itu tidak berperilaku seperti yang saya harapkan kontras. Saya membandingkannya dengan mis. css <code>-webkit-filter: contrast(x)</code>. Dalam CSS, <code>contrast(0)</code> membuat seluruh gambar menjadi abu-abu. Namun demikian, di FFmpeg, gambar tampak sebagian kuning dan sebagian abu-abu (mungkin tergantung pada gambar saya:</p><p><a href=https://i.stack.imgur.com/ruzYZ.jpg rel="nofollow noopener" target=_blank><img src=https://i.stack.imgur.com/ruzYZ.jpg alt="enter image description here" class="img-fluid d-block my-2" loading=lazy></a></p><p>CSS <code>contrast(-1)</code> tidak valid. Namun, di FFmpeg, kontras -1 hampir merupakan kontras terbalik. Saya memahami bahwa kedua hal tersebut diterapkan sepenuhnya secara terpisah, tetapi saya mengharapkan perkiraan hubungan. Apakah saya salah memahami nilai kontras filter eq?</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/448541/jon-g target=_blank rel="nofollow noopener"><span itemprop=name>Jon G</span></a>
—
<a href=https://superuser.com/questions/928151/ffmpeg-eq-filter-complex-contrast target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>Mungkin ini membantu? <a href=https://github.com/FFmpeg/FFmpeg/blob/master/libavfilter/vf_eq.c#L77 rel="nofollow noopener" target=_blank>github.com/FFmpeg/FFmpeg/blob/master/libavfilter/vf_eq.c#L77</a></div><div>— <a href=https://superuser.com/users/48078/slhck target=_blank rel="nofollow noopener">slhck</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Anda perlu menentukan opsi di filter berdasarkan nama, jadi setelan filter asli Anda perlu diubah menjadi ...</p><pre><code>-filter_complex "[0:v]eq=contrast=1:brightness=0:saturation=1:gamma=1:
gamma_r=1:gamma_g=1:gamma_b=1:gamma_weight=1[outv]"
</code></pre><p>... jika Anda ingin mengatur semua parameter itu. Jika tidak, filter akan mengabaikan pengaturan Anda dan menerapkan nilai default, atau mungkin bisa salah menafsirkan nilai opsi yang dimaksudkan untuk yang lain (itu <em>seharusnya tidak</em> , tetapi hal-hal aneh telah terjadi dengan filter FFmpeg).</p><p>Sejauh nilai yang dipilih vs. hasil akhir berjalan, kode slhck menunjukkan bahwa nilai yang ditetapkan per opsi dijalankan melalui serangkaian kalkulasi internal, kemudian hasilnya digunakan untuk mengevaluasi dan membuat penyesuaian tingkat piksel. Tampaknya penghitungan "dasar" untuk <code>contrast</code> adalah ...</p><pre><code>(param-&gt;contrast * 256 * 16)
</code></pre><p>... jadi nilai default <code>0</code> akan menghasilkan 0, nilai yang ditentukan <code>1</code> akan menghasilkan 4096, nilai <code>-0.00275</code> akan menghasilkan -11.264, dll, dan nilai dasar ini digunakan dalam penghitungan selanjutnya. Dengan kata lain, penanganan filter terhadap parameter ini adalah yang terbaik, jadi luangkan waktu untuk bermain-main dengannya untuk melihat cara kerjanya. Untuk mendapatkan gambaran yang benar tentang efeknya, Anda dapat men-tweak dan mensurvei output dari pengaturan <code>eq</code> menggunakan FFplay, mis .:</p><pre><code>ffplay -i input.jpg -vf "eq=contrast=1.5:brightness=-0.05:saturation=0.75"
</code></pre><p>Sejauh skrip asli Anda berjalan, karena Anda hanya menggunakan satu input (jpeg Anda), satu filter (eq), dan semua opsi kecuali <code>contrast</code> membawa nilai default, Anda dapat mengurangi skrip ke yang berikut untuk mendapatkan 3- MP4 kedua, asalkan <code>eq=contrast=1</code> memberikan hasil yang diinginkan:</p><pre><code>ffmpeg -y -loop 1 -i input.jpg -vf "eq=contrast=1" -c:v libx264 \
-pix_fmt yuv420p -t 3 out.mp4
</code></pre><p>pengungkapan penuh: posting diedit 2016/06/19 untuk klarifikasi lebih lanjut dan info diperpanjang</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kompleks-filter-eq-ffmpeg-kontras-wof5rc6m/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/459654/mr-what target=_blank rel="nofollow noopener"><span itemprop=name>Mr. What</span></a>
—
<a href=https://superuser.com/a/929836 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>3</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>3</div><div class=card-body><div itemprop=text><p>Untuk menjawab pertanyaan asli Anda tentang kontras dalam FFmpeg vs. CSS, file <a href=https://github.com/FFmpeg/FFmpeg/blob/be37a669714094b9321f9f6f2947a296fe020483/libavfilter/vf_eq.c#L107-L155 rel="nofollow noopener" target=_blank>fragmen kode</a> di bawah ini sepertinya menyarankan bahwa <code>contrast</code> dalam FFmpeg hanya berlaku untuk luminansi / luma (kecerahan), sedangkan <code>saturation</code> hanya berlaku untuk chrominance / chroma (warna).</p><pre class="lang-c prettyprint-override"><code>static void set_contrast(EQContext *eq)
{
    eq-&gt;contrast = av_clipf(av_expr_eval(eq-&gt;contrast_pexpr, eq-&gt;var_values, eq), -1000.0, 1000.0);
    eq-&gt;param[0].contrast = eq-&gt;contrast;
    eq-&gt;param[0].lut_clean = 0;
    check_values(&amp;eq-&gt;param[0], eq);
}

// ...

static void set_saturation(EQContext *eq)
{
    int i;

    eq-&gt;saturation = av_clipf(av_expr_eval(eq-&gt;saturation_pexpr, eq-&gt;var_values, eq), 0.0, 3.0);

    for (i = 1; i &lt; 3; i++) {
        eq-&gt;param[i].contrast = eq-&gt;saturation;
        eq-&gt;param[i].lut_clean = 0;
        check_values(&amp;eq-&gt;param[i], eq);
    }
}
</code></pre><p>Perhatikan bagaimana pada <code>set_contrast</code>, hanya <code>param[0]</code> (menunjukkan komponen warna pertama, yang dalam YUV adalah Y, luma) diubah, sedangkan pada <code>set_saturation</code> hanya <code>param[1]</code> dan <code>param[2]</code> (menunjukkan kuning dan magenta, kroma) yang diubah. Ini harus menjelaskan fakta bahwa Anda melihat kuning dan magenta, dua <em>chroma</em> komponen warna, saat Anda mengurangi kontras ke 0 di FFmpeg. Saat Anda menyetel saturasi ke 0 juga, saya melihat gambar abu-abu polos yang mirip dengan yang dihasilkan oleh CSS.</p><p>Hubungan antara CSS <code>contrast</code> dan <code>saturate</code> versus FFmpeg <code>contrast</code> dan <code>saturation</code> dapat ditetapkan sebagai:</p><blockquote><p><code>filter: contrast(<i>c</i>) saturate(<i>s</i>);</code></p><p>setara dengan</p><p><code>eq=contrast=<i>c</i>:saturation=<i>c</i>*<i>s</i></code></p></blockquote><p>Tangkapan layar wajib ditampilkan <em>c</em> = 0,6 dan <em>s</em> = 1,3:</p><p><a href=https://i.stack.imgur.com/XyMX1.jpg rel="nofollow noopener" target=_blank><img src=https://i.stack.imgur.com/XyMX1.jpg alt="CSS filter" class="img-fluid d-block my-2" loading=lazy></a>
<a href=https://i.stack.imgur.com/QwDbL.jpg rel="nofollow noopener" target=_blank><img src=https://i.stack.imgur.com/QwDbL.jpg alt="FFmpeg eq" class="img-fluid d-block my-2" loading=lazy></a></p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kompleks-filter-eq-ffmpeg-kontras-wof5rc6m/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/232127/timothy-gu target=_blank rel="nofollow noopener"><span itemprop=name>Timothy Gu</span></a>
—
<a href=https://superuser.com/a/1131989 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Anehnya, setelah bermain dengan ini lebih lama, ketika kontras diatur ke 0 dengan FFMPEG, warna abu-abu yang saya dapatkan berbeda dari abu-abu yang saya dapatkan dengan CSS. Di CSS, saya mendapatkan # 808080 (abu-abu murni). Tetapi dengan ffmpeg, saya mendapatkan video dengan latar belakang # 898B89 saat kontras 0. Tahukah Anda mengapa ini mungkin terjadi?</div><div>— <a href=https://superuser.com/users/863762/justswim target=_blank rel="nofollow noopener">justswim</a></div></li><li class=list-group-item><div>Pada tangkapan layar Anda di atas, warna gambar sebenarnya sedikit hilang. Anda bisa melihatnya jika Anda melihat ke langit dan awan. Tampaknya ada hal lain yang berperan di sini .. apakah Anda punya ide untuk menyesuaikannya?</div><div>— <a href=https://superuser.com/users/863762/justswim target=_blank rel="nofollow noopener">justswim</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Catatan: ada kesalahan dalam dokumen di sana <a href=https://ffmpeg.org/ffmpeg-filters.html#eq rel="nofollow noopener" target=_blank>https://ffmpeg.org/ffmpeg-filters.html#eq</a></p><p>Yang benar adalah:
Atur ekspresi kontras. Nilainya harus berupa nilai float dalam rentang -1000.0 hingga 1000.0. Nilai defaultnya adalah "1".</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kompleks-filter-eq-ffmpeg-kontras-wof5rc6m/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1033761/%d0%92%d0%b0%d0%bb%d0%b5%d1%80%d0%b8%d0%b9-%d0%97%d0%b0%d0%bf%d0%be%d0%b4%d0%be%d0%b2%d0%bd%d0%b8%d0%ba%d0%be%d0%b2 target=_blank rel="nofollow noopener"><span itemprop=name>Валерий Заподовников</span></a>
—
<a href=https://superuser.com/a/1480222 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/apa-keuntungan-menggunakan-koneksi-hdmi-melalui-dvi-2lidvri3/>Apa keuntungan menggunakan koneksi HDMI melalui DVI</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membuat-tampilan-vista-seperti-xp-vghn4ij3/>Bagaimana cara membuat tampilan Vista seperti XP?</a></div></li><li class=list-group-item><div><a href=/menggunakan-variabel-sistem-dengan-spasi-tanpa-memotong-sebelum-waktunya-4bkrsv94/>Menggunakan variabel sistem dengan spasi tanpa memotong sebelum waktunya</a></div></li><li class=list-group-item><div><a href=/di-mana-navicat-menyimpan-file-lisensinya-di-mac-goov6ryk/>Di mana Navicat menyimpan file lisensinya di mac?</a></div></li><li class=list-group-item><div><a href=/letakkan-gambar-dengan-tanda-tangan-thunderbird-i1d2ajte/>letakkan gambar dengan tanda tangan thunderbird</a></div></li><li class=list-group-item><div><a href=/jadikan-pandoc-mengabaikan-kelas-gaya-css-tausz5rg/>Jadikan pandoc mengabaikan kelas gaya css</a></div></li><li class=list-group-item><div><a href=/dapatkah-saya-memaksa-keluaran-nohup-ke-layar-alih-alih-ke-file-8ukrmvck/>Dapatkah saya memaksa keluaran nohup ke layar alih-alih ke file?</a></div></li><li class=list-group-item><div><a href=/bagaimana-mengkalibrasi-baterai-laptop-vxzhldc9/>Bagaimana mengkalibrasi baterai laptop</a></div></li><li class=list-group-item><div><a href=/pembaruan-mse-gagal-tidak-ada-peringatan-atau-pesan-kesalahan-wzmknela/>Pembaruan MSE gagal, tidak ada peringatan atau pesan kesalahan</a></div></li><li class=list-group-item><div><a href=/ram-tidak-membersihkan-selalu-dalam-keadaan-siaga-lissckor/>RAM tidak membersihkan, selalu dalam keadaan siaga</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>