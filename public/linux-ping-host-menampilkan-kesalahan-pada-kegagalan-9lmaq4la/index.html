<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>LINUX Ping host, Menampilkan kesalahan pada kegagalan</title><meta name=description content="Saya sedang menulis skrip bash untuk melakukan ping ke nama host yang diberikan, dan menampilkan apakah host tersebut aktif atau tidak (menampilkan pesan sederhana.) Seharusnya mudah, tetapi malah memusingkan.Inilah yang saya..."><link rel=canonical href=https://www.idxstack.com/linux-ping-host-menampilkan-kesalahan-pada-kegagalan-9lmaq4la/><meta property="og:title" content="LINUX Ping host, Menampilkan kesalahan pada kegagalan"><meta property="og:description" content="Saya sedang menulis skrip bash untuk melakukan ping ke nama host yang diberikan, dan menampilkan apakah host tersebut aktif atau tidak (menampilkan pesan sederhana.) Seharusnya mudah, tetapi malah memusingkan.Inilah yang saya..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/linux-ping-host-menampilkan-kesalahan-pada-kegagalan-9lmaq4la/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="LINUX Ping host, Menampilkan kesalahan pada kegagalan"><meta name=twitter:description content="Saya sedang menulis skrip bash untuk melakukan ping ke nama host yang diberikan, dan menampilkan apakah host tersebut aktif atau tidak (menampilkan pesan sederhana.) Seharusnya mudah, tetapi malah memusingkan.Inilah yang saya..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>LINUX Ping host, Menampilkan kesalahan pada kegagalan</h1><div itemprop=text><p>Saya sedang menulis skrip bash untuk melakukan ping ke nama host yang diberikan, dan menampilkan apakah host tersebut aktif atau tidak (menampilkan pesan sederhana.) Seharusnya mudah, tetapi malah memusingkan.
Inilah yang saya miliki sejauh ini:</p><pre><code>    echo &amp; echo "DOI (Domain):" &amp;&amp;read input 
    ip=$(ping -c 1 $input | gawk -F'[()]' '/PING/{print $2}') 
    if [ $? -eq 0 ]; then  
        echo "$ip is up";  
    else   
        echo "host is down";  
    fi  
    sleep 60  
</code></pre><p>Inilah hasilnya:<br>Ping berhasil (& balasan), itu merespon:</p><pre><code>    74.125.226.119 is up
</code></pre><p>Namun, jika gagal menerima balasan, ia masih menanggapi:</p><pre><code>    ping: unknown host google.ccccaa 
    is up
</code></pre><p>daripada gema "host sedang down"</p><p>Jelas, saya telah melewatkan sesuatu. Saya benci mengajukan pertanyaan seperti ini, dan saya yakin jawabannya sudah tersembunyi di sini, tetapi sekali lagi saya terhenti dan tidak dapat menemukan apa yang saya cari. Saya bahkan tidak begitu yakin apa yang saya cari.</p><p>EDIT: Selesai! Terima kasih atas saran yang membantu!</p><p>Ini finalnya:</p><pre><code>    echo &amp; echo "DOI (Domain):" &amp;&amp;read input    
    output=$(ping -c 1 "$input" 2&gt;/dev/null)  
    if [ $? -eq 0 ]; then  
       ip=$(printf '%s' "$output" | gawk -F'[()]' '/PING/{print $2}'  2&gt;/dev/null )  
       echo "$input ($ip) is up";  
    else  
       echo "Host not found";  
    fi  
    sleep 60  
</code></pre></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/228430/ice target=_blank rel="nofollow noopener"><span itemprop=name>ICE</span></a>
—
<a href=https://superuser.com/questions/602776/linux-ping-host-display-error-on-failure target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div><code>$?</code> mengembalikan status keluar dari perintah terakhir, dalam kasus Anda yaitu <code>gawk</code> yang akan keluar dengan sukses bahkan jika <code>ping</code> mengembalikan kesalahan.</div><div>— <a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener">mpy</a></div></li><li class=list-group-item><div><code>ip=$(ping...</code> pertama tidak diperlukan.</div><div>— <a href=https://superuser.com/users/58777/sergey-vlasov target=_blank rel="nofollow noopener">Sergey Vlasov</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>5</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>5</div><div class=card-body><div itemprop=text><p>Pertama, Anda harus menambahkan <code>2>/dev/null</code> ke permintaan <code>ping</code>, sehingga pesan kesalahan dari <code>ping</code> tidak akan dicetak ke kesalahan standar.</p><p>Kedua, <code>$?</code> dalam kode Anda tidak akan berisi hasil yang Anda harapkan, karena status kembalian pipa adalah status keluar dari <strong>terakhir</strong> perintah, yaitu <code>gawk</code> dalam kasus Anda, dan status keluar dari <code>ping</code> diabaikan begitu saja. Anda dapat menulis ulang kode tersebut, misalnya seperti ini:</p><pre><code>output=$(ping -c 1 "$input" 2&gt;/dev/null)
if [ $? -eq 0 ]; then
    ip=$(printf '%s' "$output" | gawk -F'[()]' '/PING/{print $2}')  
    echo "$ip is up";
else
    echo "host is down";
fi
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/linux-ping-host-menampilkan-kesalahan-pada-kegagalan-9lmaq4la/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/58777/sergey-vlasov target=_blank rel="nofollow noopener"><span itemprop=name>Sergey Vlasov</span></a>
—
<a href=https://superuser.com/a/602779 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Saya pikir <code>awk</code> tidak perlu. Kecuali saya melewatkan sesuatu, kode itu harus melakukan trik:</p><pre><code>#!/bin/bash

host=$1
ping -c1 $host &gt; /dev/null 2&gt; /dev/null
[[ $? == 0 ]] &amp;&amp; echo "$host is up" || echo "$host is down/not reachable"
</code></pre><p>Berikut contohnya:</p><pre><code>$ ./checkping www.google.com
www.google.com is up
$ ./checkping www.google.utld
www.google.utld is down/not reachable
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/linux-ping-host-menampilkan-kesalahan-pada-kegagalan-9lmaq4la/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener"><span itemprop=name>mpy</span></a>
—
<a href=https://superuser.com/a/602778 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div><code>awk</code> di sini digunakan untuk mendapatkan alamat IP dari keluaran <code>ping</code> dan mencetaknya sebagai ganti nama host.</div><div>— <a href=https://superuser.com/users/58777/sergey-vlasov target=_blank rel="nofollow noopener">Sergey Vlasov</a></div></li><li class=list-group-item><div>@SergeyVlasov: Tentu, tetapi saya tidak menyadari bahwa mengembalikan IP adalah persyaratan sampai saya membaca pertanyaan OP sebelumnya ( <a href=http://superuser.com/q/602674/195224 target=_blank rel="nofollow noopener">superuser.com/q/602674/195224</a> ). Btw. pendekatan yang bagus dalam jawaban Anda (+1)!</div><div>— <a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener">mpy</a></div></li><li class=list-group-item><div>Terima kasih atas nasehatnya! semuanya bekerja seperti pesona sekarang XD</div><div>— <a href=https://superuser.com/users/228430/ice target=_blank rel="nofollow noopener">ICE</a></div></li><li class=list-group-item><div>@ Michael: Baik. Tapi saya pikir (menilai dari 'pertanyaan Anda yang terakhir') jawaban Sergey layak, diterima '. Jika Anda juga menyukai jawaban saya, Anda dapat kembali dan memberi suara positif, setelah Anda memiliki cukup perwakilan <code>;)</code></div><div>— <a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener">mpy</a></div></li><li class=list-group-item><div>Itu tidak akan membiarkan saya memberikan suara positif untuk jawaban apa pun: S sayangnya, saya hanya dapat menerima (beberapa), dan mengomentari yang lain. Jadi saya pasti mengucapkan terima kasih kepada semua orang untuk saat ini. 15 rep?</div><div>— <a href=https://superuser.com/users/228430/ice target=_blank rel="nofollow noopener">ICE</a></div></li><li class=list-group-item><div>@ Michael: Anda hanya bisa menerima <i>satu</i> jawaban yang merupakan solusi untuk masalah Anda atau (jika itu tidak berlaku) paling membantu Anda. Upvoting memerlukan setidaknya 15 reputasi (tetapi saat menulis itu, Anda sudah mencapai 10 karena s / b memberi suara positif pada pertanyaan ini;) dan kami tahu itu dan tidak marah ketika pengguna baru tidak mau memberi suara positif <code>;)</code></div><div>— <a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener">mpy</a></div></li><li class=list-group-item><div>versi pendek ... <code>ping -c1 google.com > /dev/null 2> /dev/null && echo "host alive" || echo "host dead"</code></div><div>— <a href=https://superuser.com/users/498348/lenny target=_blank rel="nofollow noopener">Lenny</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/cara-menentukan-nomor-indeks-ikon-oa0t1zmg/>Cara menentukan nomor Indeks ikon</a></div></li><li class=list-group-item><div><a href=/memindahkan-direktori-programdata-di-windows-10-saat-menginstal-cdah6ieq/>Memindahkan direktori ProgramData di Windows 10 saat menginstal</a></div></li><li class=list-group-item><div><a href=/apakah-ada-pendengar-syslog-baris-perintah-untuk-linux-ptiw5l8g/>Apakah ada pendengar syslog baris perintah untuk Linux?</a></div></li><li class=list-group-item><div><a href=/ubuntu-tidak-dapat-meningkatkan-kemampuan-apt-get-tkxihdyu/>Ubuntu tidak dapat meningkatkan kemampuan apt-get</a></div></li><li class=list-group-item><div><a href=/menggunakan-vim-sebagai-filter-untuk-mewarnai-keluaran-baris-perintah-scvtylcw/>Menggunakan vim sebagai filter untuk mewarnai keluaran baris perintah</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mendapatkan-garis-horizontal-di-kiri-dan-kanan-judul-di-microsoft-word-cn6cdeqf/>Bagaimana cara mendapatkan garis horizontal di kiri dan kanan judul di Microsoft Word?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menyimpan-dan-mengumpulkan-riwayat-pesta-di-beberapa-mesin-ssmmkckj/>Bagaimana cara menyimpan dan mengumpulkan riwayat pesta di beberapa mesin?</a></div></li><li class=list-group-item><div><a href=/program-baris-perintah-windows-untuk-mengubah-volume-file-mp3-4hazhazj/>program baris perintah windows untuk mengubah volume file mp3</a></div></li><li class=list-group-item><div><a href=/alternatif-linux-yang-bagus-untuk-ubuntu-untuk-lingkungan-kerja-swn6jxwp/>Alternatif Linux yang bagus untuk Ubuntu untuk lingkungan kerja</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mencapai-kecepatan-gigabit-lan-tanpa-kabel-gtzkg6h1/>Bagaimana cara mencapai kecepatan Gigabit LAN tanpa kabel?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>