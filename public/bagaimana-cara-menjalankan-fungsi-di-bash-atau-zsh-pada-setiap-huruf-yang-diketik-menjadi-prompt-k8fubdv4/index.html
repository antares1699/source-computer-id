<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Bagaimana cara menjalankan fungsi di bash atau zsh pada setiap huruf yang diketik menjadi prompt?</title><meta name=description content="Saya tahu tentang  preexec ()  kait untuk zsh dan cara ini bisa dicapai dalam bash. (  tautan  )  Tapi bisakah saya mendapatkan  masukan saat ini  saat masih mengetik?  Ide di balik pertanyaan..."><link rel=canonical href=https://www.idxstack.com/bagaimana-cara-menjalankan-fungsi-di-bash-atau-zsh-pada-setiap-huruf-yang-diketik-menjadi-prompt-k8fubdv4/><meta property="og:title" content="Bagaimana cara menjalankan fungsi di bash atau zsh pada setiap huruf yang diketik menjadi prompt?"><meta property="og:description" content="Saya tahu tentang  preexec ()  kait untuk zsh dan cara ini bisa dicapai dalam bash. (  tautan  )  Tapi bisakah saya mendapatkan  masukan saat ini  saat masih mengetik?  Ide di balik pertanyaan..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/bagaimana-cara-menjalankan-fungsi-di-bash-atau-zsh-pada-setiap-huruf-yang-diketik-menjadi-prompt-k8fubdv4/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bagaimana cara menjalankan fungsi di bash atau zsh pada setiap huruf yang diketik menjadi prompt?"><meta name=twitter:description content="Saya tahu tentang  preexec ()  kait untuk zsh dan cara ini bisa dicapai dalam bash. (  tautan  )  Tapi bisakah saya mendapatkan  masukan saat ini  saat masih mengetik?  Ide di balik pertanyaan..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Bagaimana cara menjalankan fungsi di bash atau zsh pada setiap huruf yang diketik menjadi prompt?</h1><div itemprop=text><p>Saya tahu tentang <strong>preexec ()</strong> kait untuk zsh dan cara ini bisa dicapai dalam bash. ( <a href=https://superuser.com/questions/175799/does-bash-have-a-hook-that-is-run-before-executing-a-command target=_blank rel="nofollow noopener">tautan</a> )</p><p>Tapi bisakah saya mendapatkan <strong>masukan saat ini</strong> saat masih mengetik?</p><p>Ide di balik pertanyaan ini adalah sebagai berikut:</p><p>untuk memungkinkan belajar lebih cepat tentang perintah, argumen, dan pintasan, saya ingin mencari perintah yang sedang diketik dalam "database" yang menyediakan petunjuk "help / good-to-know / shortcut" dan menunjukkannya di sesi lain dengan screen / tmux saat mengetik di sisi lain.</p><p>Apakah mungkin untuk memeriksa perintah saat ini yang sedang diketik? Jika tidak berhasil pada setiap penekanan tombol, loop timer mungkin juga berfungsi.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/226207/nicolai-fr%c3%b6hlich target=_blank rel="nofollow noopener"><span itemprop=name>Nicolai Fr&#246;hlich</span></a>
—
<a href=https://superuser.com/questions/604812/how-to-execute-a-function-in-bash-or-zsh-on-every-letter-being-typed-into-prompt target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Saya hanya bisa menjawab untuk <code>zsh</code>, di mana ini bisa dilakukan, ya.</p><p>Pertama, sudah ada beberapa widget untuk <em>penyelesaian bertahap</em> . Yang pertama rupanya oleh Y. Fujii. Meskipun <a href=http://mimosa-pudica.net/zsh-incremental.html rel="nofollow noopener" target=_blank>situsnya</a> dalam bahasa Jepang, Anda dapat dengan mudah mengetahuinya tanpa perlu berbicara bahasa itu, cara kerjanya, dan cara menggunakannya. <a href=https://github.com/hchbaw/auto-fu.zsh rel="nofollow noopener" target=_blank>Fu-otomatis</a> merupakan perpanjangan dari skrip asli.</p><p>Sejauh ini referensinya. Pada <code>zsh</code> itu <em>editor garis zsh</em> (<code>zle</code>) bertanggung jawab atas penggunaan interaktif baris perintah. Terlepas dari banyak variabel lain yang disediakan untuk widget (lihat <code>man zshzle</code>), ini menarik bagi Anda karena Anda ingin menangkap <em>baris perintah saat ini</em> :</p><blockquote><p><strong>$ BUFFER</strong> :
Seluruh konten buffer edit.</p><p><strong>$ LBUFFER</strong> :
Bagian buffer yang terletak di sebelah kiri posisi kursor.</p><p><strong>$ RBUFFER</strong> :
Bagian buffer yang terletak di sebelah kanan posisi kursor.</p></blockquote><p>Variabel ini dapat ditulis, apa yang akan mengubah baris perintah saat ini!</p><p>Untuk menangkap setiap penekanan tombol, Anda dapat memodifikasi widget <code>self-insert</code> yang dijalankan (secara default) untuk setiap penekanan tombol kecuali <code>LF</code> atau <code>CR</code>. Berikut adalah contoh, yang tidak berguna, tetapi menambahkan titik untuk setiap penekanan tombol ke <code>$RBUFFER</code> - hanya untuk menggambarkan bagaimana ini bekerja:</p><pre><code>function self-insert() {
  RBUFFER+="."
  # execute some other command, but ensure they don't produce any output.
  zle .self-insert
  }
zle -N self-insert
</code></pre><p><code>.self-insert</code> adalah widget bawaan, jadi kami tidak mengalami infinity loop.</p><p>Jadi, Anda dapat memulai dari awal atau mulai dari skrip Fujii dan memodifikasinya. Salah satu manfaat yang terakhir adalah, bahwa ia juga melakukan beberapa penanganan untuk menghapus penekanan tombol yang saya abaikan di sini.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-menjalankan-fungsi-di-bash-atau-zsh-pada-setiap-huruf-yang-diketik-menjadi-prompt-k8fubdv4/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener"><span itemprop=name>mpy</span></a>
—
<a href=https://superuser.com/a/604846 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>terima kasih atas jawaban Anda yang luar biasa - inilah yang saya cari. sekarang saya dapat memeriksa $ BUFFER pada keystroke dan memutuskan file bantuan mana yang akan ditampilkan di terminal kedua saya. ya! :)</div><div>— <a href=https://superuser.com/users/226207/nicolai-fr%c3%b6hlich target=_blank rel="nofollow noopener">Nicolai Fr&#246;hlich</a></div></li><li class=list-group-item><div>@nifr: Sama-sama ... btw. nya <i>zsh</i> itu luar biasa <code>;)</code></div><div>— <a href=https://superuser.com/users/195224/mpy target=_blank rel="nofollow noopener">mpy</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>2</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>2</div><div class=card-body><div itemprop=text><p>Untuk Bash Anda dapat membuat skrip <code>test.sh</code> berikut:</p><pre><code>#!/usr/bin/env bash

ARRAY=('1' '2' '3' '4' '5' '6' '7' '8' '9' '0' '-' '=' 'BACKSPACE' ''
'q' 'w' 'e' 'r' 't' 'y' 'u' 'i' 'o' 'p' '[' ']' 'NEWLINE' '' 
'a' 's' 'd' 'f' 'g' 'h' 'j' 'k' 'l' ';' "'" '' '' '' 'z' 'x' 'c' 
'v' 'b' 'n' 'm' '0' ',' '.' '/' '' '' 'SPACE')

while read row 
do
    if [[ "$row" == *press* ]]
    then
        index=$((${row/key press   /}-10))
        if [[ "${ARRAY[$index]}" == 'NEWLINE' ]] 
        then
                printf "\n"
        elif [[ "${ARRAY[$index]}" == 'BACKSPACE' ]] 
        then
            echo  -ne "\b \b"
        elif [[ "${ARRAY[$index]}" == 'SPACE' ]] 
        then
            printf " "
        else
            printf "%s" "${ARRAY[$index]}"
        fi
    fi
done
</code></pre><p>Ini adalah skrip sederhana yang menerima beberapa kode keyboard dan mencetaknya di layar. Sekarang berikan kode keyboard untuk itu:</p><pre><code>$ stdbuf -o0 xinput test 'AT Translated Set 2 keyboard' | bash test.sh
</code></pre><p>Sekarang jika Anda mengetik di terminal lain, itu akan menerima nilai kunci. Saya tidak tahu apakah ada cara cerdas untuk memetakan kode kunci ke nilai ASCII mereka, jadi saya hanya melakukan pemetaan sederhana. Anda juga dapat meningkatkan kode ini untuk bereaksi terhadap kunci lain. Namun perlu dicatat bahwa skrip akan menerima semua input keyboard, tidak hanya diteruskan ke satu terminal yang diberikan.</p><p>Adapun tugas itu sendiri (memeriksa perintah saat ini sedang diketik) Anda dapat menggunakan <code>compgen -c</code> untuk menghasilkan daftar penyelesaian yang mungkin berdasarkan argumen yang diteruskan:</p><pre><code> $ compgen -c 'ls' | head -1
 ls
 $ compgen -c 'lsp' | head -1
 lspci
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-menjalankan-fungsi-di-bash-atau-zsh-pada-setiap-huruf-yang-diketik-menjadi-prompt-k8fubdv4/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/185478/nykakin target=_blank rel="nofollow noopener"><span itemprop=name>Nykakin</span></a>
—
<a href=https://superuser.com/a/604973 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>terima kasih atas jawaban rinci Anda :) sayangnya saya tidak dapat memverifikasi itu berfungsi karena tampaknya tidak ada stdbuf di cygwin (yang saya terpaksa gunakan di tempat kerja saat ini). Pasti akan mencobanya akhir pekan ini.</div><div>— <a href=https://superuser.com/users/226207/nicolai-fr%c3%b6hlich target=_blank rel="nofollow noopener">Nicolai Fr&#246;hlich</a></div></li><li class=list-group-item><div>@nifr: apakah Anda mencobanya? dapatkah Anda memposting apakah itu berhasil?</div><div>— <a href=https://superuser.com/users/23135/iconoclast target=_blank rel="nofollow noopener">iconoclast</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/windows-rdp-remote-desktop-dapatkah-saya-memaksa-untuk-mengabaikan-gpu-6wexrjb5/>Windows RDP (Remote Desktop) dapatkah saya memaksa untuk mengabaikan GPU?</a></div></li><li class=list-group-item><div><a href=/tidak-dapat-menghapus-disk-fisik-yang-tidak-digunakan-dari-kumpulan-storage-spaces-gisu5oys/>Tidak dapat menghapus disk fisik yang tidak digunakan dari kumpulan Storage Spaces</a></div></li><li class=list-group-item><div><a href=/jenis-kabel-sata-apa-yang-harus-saya-beli-riown8u8/>Jenis kabel SATA apa yang harus saya beli?</a></div></li><li class=list-group-item><div><a href=/linux-pengguna-izin-grup-telah-membaca-dan-menulis-tetapi-tidak-dapat-menghapus-file-satu-sama-lain-jvadox6b/>Linux: Pengguna izin grup telah membaca dan menulis tetapi tidak dapat menghapus file satu sama lain</a></div></li><li class=list-group-item><div><a href=/enkripsi-profil-thunderbird-nirukjiv/>Enkripsi Profil Thunderbird</a></div></li><li class=list-group-item><div><a href=/tidak-ada-internet-melalui-browser-web-tetapi-skype-masih-berfungsi-qiy9gro1/>Tidak ada internet melalui browser web tetapi Skype masih berfungsi</a></div></li><li class=list-group-item><div><a href=/mendownload-semua-url-yang-dapat-diakses-di-bawah-domain-tertentu-dengan-wget-tanpa-menyimpan-halaman-sebenarnya-mgrcslob/>Mendownload semua Url yang dapat diakses di bawah domain tertentu dengan wget tanpa menyimpan halaman sebenarnya?</a></div></li><li class=list-group-item><div><a href=/akankah-pc-saya-berfungsi-dengan-windows-7-meskipun-saya-tidak-dapat-menemukan-driver-windows-7-di-situs-web-produsen-brati190/>Akankah PC saya berfungsi dengan Windows 7 meskipun saya tidak dapat menemukan driver Windows 7 di situs web produsen?</a></div></li><li class=list-group-item><div><a href=/cara-mensimulasikan-jaringan-wan-uqcpgvox/>Cara mensimulasikan jaringan WAN</a></div></li><li class=list-group-item><div><a href=/memasang-ram-masalah-h4pt0nvb/>Memasang RAM (Masalah)</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>