<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Kirim pesan kernel ke proses lain saat terjadi</title><meta name=description content="Saya memiliki layar OLED di laptop saya yang telah saya konfigurasikan untuk menampilkan informasi status. Driver saat ini yang telah saya instal di Linux untuk itu dapat menampilkan pesan dengan mengirimkannya ke..."><link rel=canonical href=https://www.idxstack.com/kirim-pesan-kernel-ke-proses-lain-saat-terjadi-mrygbjwd/><meta property="og:title" content="Kirim pesan kernel ke proses lain saat terjadi"><meta property="og:description" content="Saya memiliki layar OLED di laptop saya yang telah saya konfigurasikan untuk menampilkan informasi status. Driver saat ini yang telah saya instal di Linux untuk itu dapat menampilkan pesan dengan mengirimkannya ke..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/kirim-pesan-kernel-ke-proses-lain-saat-terjadi-mrygbjwd/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kirim pesan kernel ke proses lain saat terjadi"><meta name=twitter:description content="Saya memiliki layar OLED di laptop saya yang telah saya konfigurasikan untuk menampilkan informasi status. Driver saat ini yang telah saya instal di Linux untuk itu dapat menampilkan pesan dengan mengirimkannya ke..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Kirim pesan kernel ke proses lain saat terjadi</h1><div itemprop=text><p>Saya memiliki layar OLED di laptop saya yang telah saya konfigurasikan untuk menampilkan informasi status. Driver saat ini yang telah saya instal di Linux untuk itu dapat menampilkan pesan dengan mengirimkannya ke skrip sebagai argumen yang dipisahkan oleh spasi.</p><p>Contoh: perintah <code>/opt/asusg50oled/utils/notify.sh Hi Everybody "Hello World"</code> ditampilkan di layar OLED:</p><pre><code>Hi
Everybody
Hello World
</code></pre><p>Jika pesan lain dikirim sebelum pesan lama menghilang dan kembali ke info status, pesan teratas akan terdorong. Contoh: kurang dari 30 detik setelah contoh sebelumnya, <code>/opt/asusg50oled/utils/notify.sh "Bananas have potassium"</code> dijalankan:</p><pre><code>Everybody
Hello World
Bananas have potassium
</code></pre><p>Yang ingin saya lakukan adalah memiliki pesan kernel (jenis yang Anda lihat dengan menjalankan <code>dmesg</code>) diteruskan ke skrip ini. Misalnya, ketika saya memasukkan drive USB, informasi berikut akan ditampilkan di layar OLED saat mereka masuk:</p><pre><code>[ 1283.200150] usb 2-4: new high speed USB device using ehci_hcd and address 4
[ 1283.353322] scsi9 : usb-storage 2-4:1.0
[ 1284.351366] scsi 9:0:0:0: Direct-Access     SanDisk  Cruzer           1.03 PQ: 0 ANSI: 2
[ 1284.352697] sd 9:0:0:0: Attached scsi generic sg4 type 0
[ 1284.355669] sd 9:0:0:0: [sdd] 31266816 512-byte logical blocks: (16.0 GB/14.9 GiB)
[ 1284.357032] sd 9:0:0:0: [sdd] Write Protect is off
[ 1284.357041] sd 9:0:0:0: [sdd] Mode Sense: 03 00 00 00
[ 1284.357047] sd 9:0:0:0: [sdd] Assuming drive cache: write through
[ 1284.364356] sd 9:0:0:0: [sdd] Assuming drive cache: write through
[ 1284.364371]  sdd: sdd1
[ 1284.371656] sd 9:0:0:0: [sdd] Assuming drive cache: write through
[ 1284.371666] sd 9:0:0:0: [sdd] Attached SCSI removable disk
</code></pre><p>Perhatikan bahwa karena lebar layar yang terbatas, menghapus stempel waktu juga akan berguna. Jadi di akhir pencatatan, layar akan muncul sekitar 30 detik:</p><pre><code>  sdd: sdd1
 sd 9:0:0:0: [sdd] Assuming drive cache: write through
 sd 9:0:0:0: [sdd] Attached SCSI removable disk
</code></pre><p>Jadi, untuk memperjelas, saya ingin pesan kernel dikirim secara langsung dengan menjalankan <code>/opt/asusg50oled/utils/notify.sh "$MESSAGE"</code></p><p>Saya dapat memasukkan filter untuk menyingkirkan apa pun yang tidak ingin saya lihat nanti, saya hanya ingin tahu cara melakukan bagian-bagian yang disebutkan di atas. Bagaimana saya bisa melakukan ini?</p><h3 class=h5>Sunting</h3><p>Seperti yang disarankan Ciclamino, saya menambahkan baris berikut ke file /etc/rsyslog.conf saya:</p><pre><code>kern.*  ^/opt/asusg50oled/utils/notify.sh
</code></pre><p>Ini hampir berhasil, tetapi pemformatan menghasilkan OLED hanya menampilkan tanggal, nama host, dan kata 'kernel' sebelum kehabisan ruang. Setelah sedikit menggali, saya menemukan yang berikut:</p><pre><code>$template OLEDformat,"%msg%0
kern.*  ^/opt/asusg50oled/utils/notify.sh;OLEDformat
</code></pre><p>Ini hampir sampai, tetapi sekali lagi, saya kehabisan ruangan karena semacam stempel waktu .. contoh tampilan:</p><pre><code>[ 4477.993774] sd 11:0:0:0: [sdb] At
</code></pre><p>Saya ingin menghilangkan angka dalam tanda kurung jadi saya pergi</p><pre><code>sd 11:0:0:0: [sdb] Attached SCSI rem
</code></pre><p>Masih belum sempurna tapi yang terbaik akan saya dapatkan dengan ukuran layarnya. Akan lebih baik jika itu akan membaginya menjadi 36 karakter sehingga saya dapat memiliki sesuatu seperti berikut:</p><pre><code>sd 11:0:0:0: [sdb] Attached SCSI rem
ovable disk
</code></pre><h1 class=h3>TERPECAHKAN</h1><p>Saya menerima jawaban Ciclamino, karena itu membawa saya ke tempat yang saya inginkan. Inilah yang akhirnya saya lakukan:</p><p>Saya membuat dan menambahkan bit eksekusi ke skrip shell <code>/opt/asusg50oled/utils/notify-kern.sh</code> yang berisi</p><pre><code>#!/bin/bash
cd `dirname $0`
stringA=$1
stringB=${stringA#\[*\]}
stringC=${stringB:0:36}
stringD=${stringB:36}
./notify.sh "$stringC" "$stringD"
</code></pre><p>Lalu saya menambahkan ke /etc/rsyslog.conf</p><pre><code>## output kernel messages to OLED
$template OLEDformat,"%msg%"
kern.*  ^/opt/asusg50oled/utils/notify-kern.sh;OLEDformat
</code></pre><p>Akhirnya, saya memulai ulang rsyslog dengan <code>sudo service rsyslog restart</code>.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener"><span itemprop=name>TuxRug</span></a>
—
<a href=https://superuser.com/questions/270507/pipe-kernel-messages-to-another-process-as-they-occur target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>3</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>3</div><div class=card-body><div itemprop=text><p>Anda dapat menggunakan syslog untuk menangkap pesan kernel dan menyalurkannya ke sebuah perintah. Sintaksnya akan sedikit berbeda untuk berbagai implementasi syslogd yang berbeda. Berikut adalah contoh bagaimana melakukannya dengan rsyslog (di /etc/rsyslog.conf):</p><pre><code>kern.*  ^/opt/asusg50oled/utils/notify.sh
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kirim-pesan-kernel-ke-proses-lain-saat-terjadi-mrygbjwd/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/76394/ciclamino target=_blank rel="nofollow noopener"><span itemprop=name>Ciclamino</span></a>
—
<a href=https://superuser.com/a/270546 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Ini persis seperti yang ingin saya lakukan. Saya akan memeriksa untuk melihat apakah itu berfungsi dengan baik saat saya menggunakan Linux.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li><li class=list-group-item><div>Ini SANGAT dekat ... Sekarang saya mendapatkan tanggal, nama host, kata kernel, titik dua, dan kemudian OLED kehabisan ruang ... Saya akan melihat apakah saya bisa mencari cara untuk menghilangkannya ... Saya yakin saya bisa menulis skrip perantara untuk mengeluarkan: dan semua yang sebelumnya.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li><li class=list-group-item><div>Sepertinya saya butuh sedikit bantuan lagi ... bagaimana cara membuatnya memangkas semuanya dan termasuk yang pertama ':'? Saat ini saya mendapatkan <code>Apr 14 11:36:35 TuxTop-III-LM kernel:</code> dan kemudian saya kehabisan ruang.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li><li class=list-group-item><div>Oke, saya menemukan sesuatu yang membuat saya semakin dekat ... Saya menggunakan template (lihat edit pertanyaan) .. Masih belum cukup.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>3</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>3</div><div class=card-body><div itemprop=text><p>berikut adalah solusi cepat dan kotor:</p><pre><code>tail -n 0 -f /var/log/messages | while read -r MESSAGE; do
  /opt/asusg50oled/utils/notify.sh "$MESSAGE"
done
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kirim-pesan-kernel-ke-proses-lain-saat-terjadi-mrygbjwd/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/39401/lesmana target=_blank rel="nofollow noopener"><span itemprop=name>lesmana</span></a>
—
<a href=https://superuser.com/a/270519 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Ini tidak mendorong mereka saat terjadi, dan saya hanya ingin yang baru saja ditembakkan untuk ditampilkan. Saya ingin sesuatu yang menangkap pesan saat diproduksi.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li><li class=list-group-item><div>@TuxRug Saya mengacaukannya. Seharusnya <code>/var/log/messages</code> bukannya <code>/var/log/dmesg</code>. Saya memperbarui jawaban saya. Selain itu, dengan <code>tail -n 0</code> Anda hanya mendapatkan pesan terbaru setelah pemanggilan perintah.</div><div>— <a href=https://superuser.com/users/39401/lesmana target=_blank rel="nofollow noopener">lesmana</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Anda dapat membaca keluaran <code>/proc/kmsg</code> berulang kali menggunakan <code>tail</code> atau metode apa pun yang Anda inginkan.</p><p>saya <em>berpikir</em> Anda harus menjadi root untuk melakukannya.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/kirim-pesan-kernel-ke-proses-lain-saat-terjadi-mrygbjwd/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/53304/new123456 target=_blank rel="nofollow noopener"><span itemprop=name>new123456</span></a>
—
<a href=https://superuser.com/a/270513 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=2>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=2><ul class="list-group list-group-flush"><li class=list-group-item><div>Sayangnya, ini akan mencetak pesan secara terus menerus. Saya ingin perintah diaktifkan sekali per pesan sehingga pesan akan muncul selama 30 detik. Setelah 30 detik berlalu tanpa pesan baru, itu akan kembali ke tampilan status normal.</div><div>— <a href=https://superuser.com/users/40564/tuxrug target=_blank rel="nofollow noopener">TuxRug</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/aplikasi-gtd-untuk-mac-dan-windows-3fw9w94j/>Aplikasi GTD untuk Mac dan Windows</a></div></li><li class=list-group-item><div><a href=/bisakah-saya-merusak-cpu-tnxd4icx/>Bisakah saya merusak CPU?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menyimpan-posisi-di-dokumen-agar-mudah-dikembalikan-duplikat-ghyuymyo/>Bagaimana cara menyimpan posisi di dokumen agar mudah dikembalikan? [duplikat]</a></div></li><li class=list-group-item><div><a href=/hasilkan-kombinasi-di-excel-0iwilwqn/>Hasilkan Kombinasi di Excel</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menghapus-menu-atau-mengubah-timeout-untuk-memilih-os-windows-7-di-grub-boot-manager-bootloader-3fma8xgu/>Bagaimana cara menghapus menu atau mengubah TIMEOUT untuk memilih OS (Windows 7) di grub boot manager / bootloader?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengelabui-situs-web-agar-menampilkan-versi-ipad-mereka-di-chrome-yang-berjalan-di-windows-6pp1o3af/>Bagaimana cara mengelabui situs web agar menampilkan versi iPad mereka di chrome yang berjalan di windows?</a></div></li><li class=list-group-item><div><a href=/aplikasi-linux-untuk-menyesuaikan-beberapa-file-log-seperti-os-x-consoleapp-e5l9q6g1/>Aplikasi Linux untuk menyesuaikan beberapa file log (seperti OS X Console.app)</a></div></li><li class=list-group-item><div><a href=/samba-tidak-ditemukan-di-mana-biner-samba-vnfl4v54/>Samba tidak ditemukan, di mana biner samba?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengingat-akun-ftp-di-cyberduck-mac-ftp-client-1si8kvcv/>Bagaimana cara mengingat akun FTP di Cyberduck Mac FTP Client?</a></div></li><li class=list-group-item><div><a href=/membuat-keluaran-ls-seperti-dir-b-s-uxcothoa/>Membuat keluaran ls seperti dir / b / s</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>