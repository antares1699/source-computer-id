<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Menyalurkan perintah ke nc</title><meta name=description content="Sepertinya saya telah mencari banyak pertanyaan yang sangat mirip tetapi tidak pernah menemukan sesuatu yang berhasil. Saya mencoba menggunakan raspberry pi (generasi ke-2) untuk berkomunikasi dengan sensor Wifi OBDII. Saya dapat menggunakan..."><link rel=canonical href=https://www.idxstack.com/menyalurkan-perintah-ke-nc-8ekmipqf/><meta property="og:title" content="Menyalurkan perintah ke nc"><meta property="og:description" content="Sepertinya saya telah mencari banyak pertanyaan yang sangat mirip tetapi tidak pernah menemukan sesuatu yang berhasil. Saya mencoba menggunakan raspberry pi (generasi ke-2) untuk berkomunikasi dengan sensor Wifi OBDII. Saya dapat menggunakan..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/menyalurkan-perintah-ke-nc-8ekmipqf/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Menyalurkan perintah ke nc"><meta name=twitter:description content="Sepertinya saya telah mencari banyak pertanyaan yang sangat mirip tetapi tidak pernah menemukan sesuatu yang berhasil. Saya mencoba menggunakan raspberry pi (generasi ke-2) untuk berkomunikasi dengan sensor Wifi OBDII. Saya dapat menggunakan..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Menyalurkan perintah ke nc</h1><div itemprop=text><p>Sepertinya saya telah mencari banyak pertanyaan yang sangat mirip tetapi tidak pernah menemukan sesuatu yang berhasil. Saya mencoba menggunakan raspberry pi (generasi ke-2) untuk berkomunikasi dengan sensor Wifi OBDII. Saya dapat menggunakan perintah berikut</p><pre><code>nc -C 192.168.0.10 35000
</code></pre><p>192.168.0.10 adalah sensor mobil dan 35000 port. Itu tidak relevan karena menghubungkan tampaknya baik-baik saja. Bagaimanapun, saya dapat membuka instance nc dan kemudian mengetik, misalnya "0145" (kode sensor), dan sebagai gantinya saya mendapatkan nilai untuk sensor itu kembali pada output sesi nc (misalnya, RPM mesin saya ). Itu bekerja dengan baik. Apa yang ingin saya lakukan adalah perintah pipa dari file teks ke sesi nc untuk tujuan perencanaan. Jadi hasil ideal saya adalah aliran konstan nilai RPM dan waktu terkait dibuang ke file teks. Saya bisa bekerja dari sana. Namun, saya tidak tahu persis bagaimana melakukan itu. Saya telah menyiapkan sebuah commands.txt yang terdiri dari ribuan baris "0145" dan saya ingin membaca file itu dan meneruskannya baris demi baris ke nc (saya mungkin dapat mengontrol interval pengambilan sampel dengan tidur), lalu membaca output dan menyimpannya ke dalam file teks. Saya tahu masalah ini ada hubungannya dengan stdin dan stdout dan piping, tetapi untuk alasan apa pun, saya belum bisa mendapatkannya. Saya sama sekali bukan master dalam semua itu. Saya juga ingin membuat skrip seluruh proses.</p><p>Sekarang, jika saya lari</p><pre><code>cat &lt;(echo 0145) - | nc -C 192.168.0.10 35000
</code></pre><p>yang memberi saya output di terminal yang saya inginkan, tetapi hanya berfungsi untuk satu nilai. Tetapi segera setelah saya mencoba memasukkannya ke dalam satu lingkaran, di mana saya membuat 0145 itu menjadi $ perintah dalam skrip dan mendapatkan $ perintah baris demi baris dari file txt, itu berhenti bekerja. Faktanya, ia berhenti bekerja di dalam loop mana pun atau jika blok bahkan jika saya membiarkannya sebagai 0145 dan tidak menggunakan variabel.</p><p>Jadi, singkatnya, saya ingin skrip mengirimkan file txt baris demi baris ke koneksi nc, dan kemudian saya ingin mengekstrak setiap respons ke file lain. Jika itu tidak ditulis, saya dapat membuka koneksi nc itu dan mengirim 0145 setiap 1 detik dan mendapatkan tanggapan tersebut (masih tidak tahu cara meneruskannya ke file), tetapi itu hampir tidak efisien. Saya merasa harus ada cara yang lebih mudah untuk melakukan ini. Saya agak noob tapi pikir id mencobanya di sini. Bantuan apa pun sangat dihargai</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener"><span itemprop=name>Markysm</span></a>
—
<a href=https://superuser.com/questions/1122117/piping-commands-into-nc target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Mungkin ada banyak cara untuk melakukan ini.</p><p><strong>Dengan netcat</strong></p><p>Masalah dengan <em>netcat</em> adalah menutup koneksi segera setelah mendeteksi akhir file. Implementasi GNU dari <em>netcat</em> memang memiliki beberapa opsi ( <em>-k</em> atau <em>-w -1</em> ) agar instance mendengarkan tetap terbuka tanpa batas waktu, tetapi tidak ada yang berfungsi. Apa pekerjaan itu <em>nmap</em> versi <em>netcat</em> , dipanggil <strong>ncat</strong> .</p><p>Di komputer Anda, instal <em>nmap</em> paket, lalu terbitkan:</p><pre><code>mkfifo return_pipe
ncat -k -l 12345 0&lt;return_pipe| ncat -C 192.168.0.10 35000 1&gt;return_pipe &amp;
</code></pre><p>Sekarang Anda dapat mentransfer semua yang Anda suka, dalam banyak kelompok berbeda, melalui</p><pre><code>echo Ciao | ncat localhost 12345
cat somefile.txt | ncat localhost 12345 
</code></pre><p>tanpa koneksi terputus, asalkan pendengar Anda bekerja sama ( <em>yaitu</em> , itu tidak berhenti mendengarkan setelah akhir file pertama). Atau Anda dapat membuat bagian ini lebih sederhana dengan menggunakan file <em>bernama pipa</em> : dari terminal yang berbeda dari terminal tempat Anda mengeluarkan perintah pertama,</p><pre><code>mkfifo mypipe
tail -f mypipe | ncat localhost 12345 &amp;
echo Ciao &gt; mypipe
cat somefile.txt &gt; mypipe
</code></pre><p>Itu <strong>pesan balasan</strong> dari perangkat Anda sekarang dalam pipa bernama <em>return_pipe</em> . Perintah</p><pre><code>tail -f return_pipe &gt;&gt; responses
</code></pre><p>menambahkan respons perangkat ke file yang disebut <em>tanggapan</em> .</p><p><strong>Tanpa netcat</strong></p><p>Ini telah ditunjukkan oleh <em>Ipor Sircer</em> (bagus !, +1 dari saya). Tapi saya akan melakukannya sedikit berbeda,</p><pre><code>exec 3&gt;/dev/tcp/192.168.0.10/35000
exec 4&lt;/dev/tcp/192.168.0.10/35000
exec 4&gt;&gt;somefile.out
echo "Ciao" &gt;&amp;3 
cat somefile.txt &gt;&amp;3
</code></pre><p>jika Anda juga ingin melacak perintah Anda,</p><pre><code>echo Ciao | tee  -a file_with_my_commands 1&gt;&amp;3
cat somefile.txt | tee -a file_with_my_commands 1&gt;&amp;3
</code></pre><p>dan, setelah Anda selesai dengan komunikasi ini,</p><pre><code>exec 3&gt;&amp;-
exec 4&gt;&amp;-
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/menyalurkan-perintah-ke-nc-8ekmipqf/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/255732/mariusmatutiae target=_blank rel="nofollow noopener"><span itemprop=name>MariusMatutiae</span></a>
—
<a href=https://superuser.com/a/1122897 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>4</div><div class=card-body><div itemprop=text><p>Mengapa Anda menggunakan <code>netcat</code>? <code>Bash</code> dapat menangani soket tcp dengan alias bawaan.</p><pre><code>n=0
while read -r line;do
 ((n++))
 exec 3&lt;&gt;/dev/tcp/192.168.0.10/35000
 echo -e "$line" &gt;&amp;3
 cat &lt;&amp;3 &gt; response.$n
 exec 3&lt;&amp;-
 exec 3&gt;&amp;-
done &lt; data.txt
</code></pre></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/menyalurkan-perintah-ke-nc-8ekmipqf/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/607525/ipor-sircer target=_blank rel="nofollow noopener"><span itemprop=name>Ipor Sircer</span></a>
—
<a href=https://superuser.com/a/1122119 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Saya mencobanya, tetapi saya belum cukup berhasil melakukan apa yang saya butuhkan. Hanya untuk memahami dengan benar: $ line akan menjadi baris yang diberikan dari data.txt?</div><div>— <a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener">Markysm</a></div></li><li class=list-group-item><div>Iya. setiap baris akan disalurkan ke soket tcp, dan setiap respons akan disimpan di file respone. &lt;linenumber></div><div>— <a href=https://superuser.com/users/607525/ipor-sircer target=_blank rel="nofollow noopener">Ipor Sircer</a></div></li><li class=list-group-item><div>Oh tunggu, sepertinya saya tidak memiliki / dev / tcp ketika saya ls di / dev</div><div>— <a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener">Markysm</a></div></li><li class=list-group-item><div>Karena ini adalah alias bash bawaan.</div><div>— <a href=https://superuser.com/users/607525/ipor-sircer target=_blank rel="nofollow noopener">Ipor Sircer</a></div></li><li class=list-group-item><div>Ini tidak tepat di tempat yang saya inginkan karena alasan tertentu, tetapi ini adalah langkah besar ke arah yang benar. Saya telah memotong file data.txt saya menjadi hanya 5 baris untuk kesederhanaan (dan jadi saya tidak mendapatkan 1000 file respon), tetapi sejauh ini saya hanya dapat menghasilkan satu respon. 1 file (sepertinya tidak menjadi perulangan)</div><div>— <a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener">Markysm</a></div></li><li class=list-group-item><div>jawaban yang diperbarui dengan soket penutup. tetapi daemon di rpi harus melakukannya, atau Anda dapat mengirim perintah untuk menutup soket. tidak terlalu sehat untuk menutup paksa soket.</div><div>— <a href=https://superuser.com/users/607525/ipor-sircer target=_blank rel="nofollow noopener">Ipor Sircer</a></div></li><li class=list-group-item><div>Ada sesuatu yang masih kurang beres, jika saya mendapatkan kode baris demi baris, itu adalah 1. membaca baris dari data.txt (tidak yakin apa yang -r lakukan), 2. menambah n 3. membuka soket 4. echoing $ baris ke soket (perhatikan bahwa perintah harus diikuti oleh carriage return atau baris baru atau sesuatu yang menyebabkan register), 5. membaca dari soket TCP 6/7 tutup soket dan loop. Namun itu tidak tetap perulangan dan di terminal ketika saya menjalankan skrip itu hang sampai saya membunuhnya</div><div>— <a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener">Markysm</a></div></li><li class=list-group-item><div>juga, itu hanya menulis apa yang saya masukkan (baris dari data.txt) tetapi bukan respons dari perangkat (tidak yakin apakah tidak mendapatkannya atau tidak menulisnya). NVM, ketika saya menambahkan \ r ke dalam gema maka ia mendapat respons. Tapi tetap tidak perulangan</div><div>— <a href=https://superuser.com/users/638849/markysm target=_blank rel="nofollow noopener">Markysm</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/hapus-semua-data-pribadi-di-windows-7-bghxqgcv/>Hapus semua data pribadi di Windows 7</a></div></li><li class=list-group-item><div><a href=/kegagalan-hard-drive-tidak-dapat-menjalankan-chkdsk-pemulihan-v1qhijya/>Kegagalan Hard Drive? Tidak dapat menjalankan CHKDSK. Pemulihan?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-kerja-ssl-apakah-tidak-ada-lubang-3udjuiyj/>Bagaimana cara kerja SSL? Apakah tidak ada lubang?</a></div></li><li class=list-group-item><div><a href=/merakit-pc-baru-jalur-pci-e-dan-cara-kerjanya-z9l7uazr/>Merakit PC baru - jalur PCI-E dan cara kerjanya</a></div></li><li class=list-group-item><div><a href=/tingkat-kebisingan-harddisk-1039000-rpm-minq6g7i/>Tingkat kebisingan harddisk 10'000 rpm</a></div></li><li class=list-group-item><div><a href=/apakah-mungkin-untuk-mengedit-tag-dengan-cmus-sw9ckvlo/>Apakah mungkin untuk mengedit tag dengan cmus?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-meluncurkan-aplikasi-dalam-32-bit-dari-terminal-di-snow-leopard-sva7arhg/>Bagaimana cara meluncurkan aplikasi dalam 32 bit dari Terminal di Snow Leopard?</a></div></li><li class=list-group-item><div><a href=/beralih-tag-secara-bersamaan-sebagai-satu-layar-dalam-pengaturan-multi-monitor-di-35-rwupysrz/>Beralih tag secara bersamaan sebagai satu layar dalam pengaturan multi monitor di 3,5?</a></div></li><li class=list-group-item><div><a href=/bisakah-kualitas-teks-dalam-gambar-ditingkatkan-z2gunwzn/>Bisakah kualitas teks dalam gambar ditingkatkan?</a></div></li><li class=list-group-item><div><a href=/haruskah-saya-mematikan-komputer-saya-saat-memperbarui-kpxmtek0/>Haruskah saya mematikan komputer saya saat memperbarui?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>