<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Tidak dapat terhubung melalui SSH dan publickey dan pengguna B (pengguna A dapat)</title><meta name=description content="TERPECAHKAN.  Itu adalah bit grup yang dapat ditulis pada direktori home user_B, yang menipu saya.  Saya kehabisan ide untuk yang satu ini. Setiap petunjuk akan sangat dihargai.  Pertimbangkan pengaturan ini:  Server S..."><link rel=canonical href=https://www.idxstack.com/tidak-dapat-terhubung-melalui-ssh-dan-publickey-dan-pengguna-b-pengguna-a-dapat-cxwplosc/><meta property="og:title" content="Tidak dapat terhubung melalui SSH dan publickey dan pengguna B (pengguna A dapat)"><meta property="og:description" content="TERPECAHKAN.  Itu adalah bit grup yang dapat ditulis pada direktori home user_B, yang menipu saya.  Saya kehabisan ide untuk yang satu ini. Setiap petunjuk akan sangat dihargai.  Pertimbangkan pengaturan ini:  Server S..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/tidak-dapat-terhubung-melalui-ssh-dan-publickey-dan-pengguna-b-pengguna-a-dapat-cxwplosc/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tidak dapat terhubung melalui SSH dan publickey dan pengguna B (pengguna A dapat)"><meta name=twitter:description content="TERPECAHKAN.  Itu adalah bit grup yang dapat ditulis pada direktori home user_B, yang menipu saya.  Saya kehabisan ide untuk yang satu ini. Setiap petunjuk akan sangat dihargai.  Pertimbangkan pengaturan ini:  Server S..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Tidak dapat terhubung melalui SSH dan publickey dan pengguna B (pengguna A dapat)</h1><div itemprop=text><p><strong>TERPECAHKAN.</strong> Itu adalah bit grup yang dapat ditulis pada direktori home <code>user_B</code>, yang menipu saya.</p><p>Saya kehabisan ide untuk yang satu ini. Setiap petunjuk akan sangat dihargai.</p><p>Pertimbangkan pengaturan ini:</p><ul><li>Server <code>S</code> yang menjalankan Ubuntu, pengguna <code>boldewyn</code>, <code>user_A</code> dan <code>user_B</code></li><li>Dua laptop <code>user_B</code> dan <code>B</code>, masing-masing dengan pengguna lokal <code>boldewyn</code> (memiliki kunci <code>id_rsa</code> untuk masuk <code>S</code>) dan kunci kedua <code>id_rsa_A</code> / <code>id_rsa_B</code>. Semua kunci disimpan di <code>/home/boldewyn/.ssh</code>. Keduanya menjalankan Ubuntu.</li><li><p><code>user_A</code> dan <code>user_B</code> pada <code>S</code> memiliki kata sandi kosong, login hanya dapat dilakukan melalui publickey dan SSH.</p><pre><code>+--------+            +-------------------+            +--------+
| laptop |            |       server      |            | laptop |
|   A    |            |         S         |            |   B    |
|        |            |                   |            |        |
+--------+    SSH     +-------------------+    SSH     +--------+
|id_rsa_A|------------|&lt; user_A   user_B &gt;|------------|id_rsa_B|
+--------+            +-------------------+            +--------+
|id_rsa  |------------|&lt;    boldewyn     &gt;|------------|id_rsa  |
+--------+            +-------------------+            +--------+
</code></pre></li></ul><p><strong>Pekerjaan apa:</strong></p><ul><li><p>Masuk dari laptop mana pun sebagai <code>boldewyn</code> (menggunakan <code>id_rsa</code> dan <code>S:/home/boldewyn/.ssh/authorized_keys</code></p></li><li><p>Masuk dari laptop <code>A</code> sebagai pengguna <code>user_A</code> (menggunakan <code>id_rsa_A</code> dan <code>S:/home/user_A/.ssh/authorized_keys</code>: <code>ssh -i id_rsa_A user_A@S</code>)</p></li></ul><p><strong>Masalahku:</strong> Pada laptop <code>B</code> penyetelan yang persis sama gagal untuk <code>user_B</code>. Saya tidak dapat masuk ke <code>S</code>, karena untuk alasan apa pun kunci tidak diterima dan prompt kata sandi muncul (<code>user_B</code> tidak memiliki kata sandi, itu bukan pilihan).</p><p><strong>Apa yang telah saya periksa:</strong></p><ul><li><p>Di laptop <code>B</code>:</p><ul><li>Memeriksa hak <code>~/.ssh</code> dan semua isinya</li><li>letakkan bagian publik dari <code>id_rsa_B</code> di <code>boldewyn</code>s <code>.authorized_keys</code> dan <code>ssh -i id_rsa_B boldewyn@S</code>: berfungsi (kuncinya tidak rusak atau lebih)</li><li><code>ssh -vvv</code>: Yah, tidak terlalu membantu: Katakan saja pada satu titik, bahwa metode <code>publickey</code> sekarang dilewati. Tidak ada alasan yang diberikan.</li></ul></li><li><p>Di server <code>S</code>:</p><ul><li>File <code>user_B</code>s <code>.authorized_keys</code> diperiksa tiga kali</li><li>Memeriksa hak-hak <code>/home/*/.ssh</code> dan semua isinya (terutama dibandingkan <code>user_A</code> dan <code>user_B</code>)</li><li>Memeriksa bahwa <code>$HOME</code> diatur (melalui <code>ssh -i id_rsa_B boldewyn@S</code>)</li><li>Dicentang, bahwa semua pengguna di <code>/etc/ssh/sshd_config</code>s <code>AllowUsers</code> (dan <code>AllowGroups</code>, omong-omong)</li></ul></li></ul><p><strong>Barang lain:</strong></p><p>Satu-satunya perbedaan yang dapat saya temukan antara <code>user_A</code> dan <code>user_B</code> adalah, bahwa saya membuat yang terakhir dengan <code>adduser -M</code> (jangan buat direktori home; itu sudah ada sebelumnya). Namun, saya memeriksa tiga kali, bahwa <code>/home/user_B</code> dan semua anak yang relevan dimiliki oleh <code>user_B</code> dan kelompok utamanya.</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/2280/boldewyn target=_blank rel="nofollow noopener"><span itemprop=name>Boldewyn</span></a>
—
<a href=https://superuser.com/questions/222741/cant-connect-via-ssh-and-publickey-and-user-b-user-a-can target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>Jalankan <code>sshd</code> di S dalam mode debug: <code>sudo sshd -rdp 1234</code> - sering membantu. (<code>-p 1234</code> adalah port sementara yang akan Anda gunakan untuk SSH.)</div><div>— <a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener">user1686</a></div></li><li class=list-group-item><div>Apakah Anda memeriksa tiga kali bahwa <code>/home/user_B</code> (serta <code>/home/user_B/.ssh</code> dan <code>/home/user_B/.ssh/authorized_keys</code>) memiliki izin yang sesuai yang tidak dapat ditulis kecuali untuk pengguna, yaitu, mode 755 atau lebih ketat?</div><div>— <a href=https://superuser.com/users/42315/gilles-so-stop-being-evil target=_blank rel="nofollow noopener">Gilles 'SO- stop being evil'</a></div></li><li class=list-group-item><div>@grawity: Terima kasih atas petunjuknya. Saya akan mencobanya segera hari ini di malam hari, saat penyiapan telah tersedia.</div><div>— <a href=https://superuser.com/users/2280/boldewyn target=_blank rel="nofollow noopener">Boldewyn</a></div></li><li class=list-group-item><div>@ Gilles: Ya, saya lakukan. Bahkan, saya membandingkan file demi file dan dir oleh dir izin yang ditetapkan dalam kasus <code>user_A</code> s (berfungsi) dengan yang untuk <code>user_B</code> (tidak berfungsi). Mereka persis sama (selain kepemilikan file, tentunya).</div><div>— <a href=https://superuser.com/users/2280/boldewyn target=_blank rel="nofollow noopener">Boldewyn</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>8</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>8</div><div class=card-body><div itemprop=text><p>Apakah Anda sudah memeriksa tiga kali itu <strong><code>/home/user_B</code></strong> (serta <code>/home/user_B/.ssh</code> dan <code>/home/user_B/.ssh/authorized_keys</code>) memiliki izin yang sesuai: <strong>tidak dapat ditulis kecuali untuk pengguna</strong> , mis., mode 755 atau lebih ketat?</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/tidak-dapat-terhubung-melalui-ssh-dan-publickey-dan-pengguna-b-pengguna-a-dapat-cxwplosc/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/42315/gilles-so-stop-being-evil target=_blank rel="nofollow noopener"><span itemprop=name>Gilles 'SO- stop being evil'</span></a>
—
<a href=https://superuser.com/a/223416 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Memecahkan masalah saya!</div><div>— <a href=https://superuser.com/users/208216/mingjiang-shi target=_blank rel="nofollow noopener">Mingjiang Shi</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Saya pikir ini mungkin terkait dengan cara Anda membuat kunci tersebut. Saya akan mencoba lagi. Kunci dibuat dengan fasilitas ssh-keygen. Mungkin ketika satu set kunci dibuat, frasa sandi digunakan dalam proses pembuatan. Anda dapat mencoba menekan tombol enter saat Anda diminta memasukkan frasa sandi. Salin bagian pub dari kunci itu ke ubuntu. Pastikan Anda menghapus entri yang melanggar di file .ssh / authorized_keys. Pemikiran kedua: jika cat file pub pastikan Anda menggunakan >> (tambahkan) daripada> (ganti_ saat Anda menyalin file pub ke file authorized_keys. (Cat id_rsa.pub >> .ssh / authorized_keys).</p><p>Saya sedikit terkejut. Saya telah menggunakan metode saya di tempat kerja, menggunakan Solaris dan Cygwin, dan di rumah di Linux Lan saya terdiri dari Centos, Slackware, Debian, dan Ubuntu. Mungkinkah kunci pribadi Anda tidak cocok dengan kunci publik? Ketika Anda membuat kunci Anda, Anda mendapatkan pasangan, kunci publik akan disalin secara tradisional ke file kunci .ssh / berotorisasi di bawah direktori home mesin target. Jika Anda membuat ulang kunci, file .pub baru harus disalin. Kunci pribadi baru tidak akan dipasangkan dengan kunci publik lama. Saya perhatikan bahwa Anda tampaknya memiliki folder .authorized_keys di direktori home. Saya belum pernah mencobanya. Saya pikir penempatan normal ada di folder /home/user_name/.ssh/authorized_keys. Saya tidak pernah mengalami masalah dalam menggunakan versi Solaris dari sekitar 6 ke atas, Freebsd, dan berbagai iterasi dan rasa Linux. Semoga berhasil</p><p>Alan</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/tidak-dapat-terhubung-melalui-ssh-dan-publickey-dan-pengguna-b-pengguna-a-dapat-cxwplosc/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/58932/apolinsky target=_blank rel="nofollow noopener"><span itemprop=name>apolinsky</span></a>
—
<a href=https://superuser.com/a/222783 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Kuncinya sepertinya baik-baik saja: <i>letakkan bagian publik dari id_rsa_B di boldewyns .authorized_keys dan ssh -i id_rsa_B boldewyn @ S: works (kuncinya tidak rusak atau lebih)</i></div><div>— <a href=https://superuser.com/users/482/arjan target=_blank rel="nofollow noopener">Arjan</a></div></li><li class=list-group-item><div>Terima kasih sudah mencobanya, apolinsky, tapi, ya, seperti yang dikatakan Arjan, saya sudah memeriksa kunci dengan menggunakannya dengan akun <code>boldewyn</code>s.</div><div>— <a href=https://superuser.com/users/2280/boldewyn target=_blank rel="nofollow noopener">Boldewyn</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/firefox-50-bilah-status-menghilang-meskipun-ekstensi-quotstatus-4-evarquot-fdwacweu/>firefox 5.0: bilah status menghilang meskipun ekstensi "status 4 evar"</a></div></li><li class=list-group-item><div><a href=/pemindaian-jaringan-hp-laserjet-2840-amp-windows-7-linux-tzzdjq2g/>Pemindaian Jaringan: HP Laserjet 2840 & Windows 7 (+ Linux?)</a></div></li><li class=list-group-item><div><a href=/mengapa-path-saya-berbeda-dalam-skrip-yang-dieksekusi-frtmbwkl/>Mengapa $ PATH saya berbeda dalam skrip yang dieksekusi?</a></div></li><li class=list-group-item><div><a href=/tidak-seperti-virtual-pc-2007-mengapa-quotundoquot-disk-pada-virtual-pc-windows-7-tidak-pernah-digabungkan-ke-hard-drive-virtual-utama-vhd-jytu3gdc/>Tidak seperti Virtual PC 2007, mengapa "Undo" disk pada Virtual PC Windows 7 tidak pernah digabungkan ke hard drive virtual utama (.vhd)?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-memeriksa-apakah-dns-berfungsi-melalui-browser-afychtnb/>Bagaimana cara memeriksa apakah DNS berfungsi melalui browser?</a></div></li><li class=list-group-item><div><a href=/server-dns-pilihan-router-atau-isp-ld1zkbgr/>Server DNS pilihan: Router atau ISP</a></div></li><li class=list-group-item><div><a href=/mengisi-ponsel-melalui-laptop-ada-efek-buruk-jriobzrb/>Mengisi Ponsel melalui Laptop? Ada efek buruk?</a></div></li><li class=list-group-item><div><a href=/mongodb-tidak-bisa-dimatikan-melalui-perintah-shutdown-bypkumkk/>Mongodb tidak bisa dimatikan melalui perintah --shutdown</a></div></li><li class=list-group-item><div><a href=/mematikan-menghidupkan-monitor-mengurangi-ukuran-jendela-yang-tidak-dimaksimalkan-frimq96f/>Mematikan / menghidupkan monitor mengurangi ukuran jendela yang tidak dimaksimalkan?</a></div></li><li class=list-group-item><div><a href=/cara-tercepat-untuk-membuka-quotpc-iniquot-pgdmk4la/>Cara tercepat untuk membuka "PC Ini"</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>