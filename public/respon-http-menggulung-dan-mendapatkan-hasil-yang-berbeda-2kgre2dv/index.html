<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Respon HTTP menggulung dan mendapatkan hasil yang berbeda</title><meta name=description content="Untuk memeriksa header respons HTTP untuk satu set url yang saya kirim dengan curl header permintaan berikut  foreach ( $urls as $url ){    // Setup headers - I used the same..."><link rel=canonical href=https://www.idxstack.com/respon-http-menggulung-dan-mendapatkan-hasil-yang-berbeda-2kgre2dv/><meta property="og:title" content="Respon HTTP menggulung dan mendapatkan hasil yang berbeda"><meta property="og:description" content="Untuk memeriksa header respons HTTP untuk satu set url yang saya kirim dengan curl header permintaan berikut  foreach ( $urls as $url ){    // Setup headers - I used the same..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/respon-http-menggulung-dan-mendapatkan-hasil-yang-berbeda-2kgre2dv/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Respon HTTP menggulung dan mendapatkan hasil yang berbeda"><meta name=twitter:description content="Untuk memeriksa header respons HTTP untuk satu set url yang saya kirim dengan curl header permintaan berikut  foreach ( $urls as $url ){    // Setup headers - I used the same..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Respon HTTP menggulung dan mendapatkan hasil yang berbeda</h1><div itemprop=text><p>Untuk memeriksa header respons HTTP untuk satu set url yang saya kirim dengan curl header permintaan berikut</p><pre><code>foreach ( $urls as $url )
{
    // Setup headers - I used the same headers from Firefox version 2.0.0.6
    $header[ ] = "Accept: text/xml,application/xml,application/xhtml+xml,";
    $header[ ] = "text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5";
    $header[ ] = "Cache-Control: max-age=0";
    $header[ ] = "Connection: keep-alive";
    $header[ ] = "Keep-Alive: 300";
    $header[ ] = "Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7";
    $header[ ] = "Accept-Language: en-us,en;q=0.5";
    $header[ ] = "Pragma: "; // browsers keep this blank.

    curl_setopt( $ch, CURLOPT_URL, $url );
    curl_setopt( $ch, CURLOPT_USERAGENT, 'Googlebot/2.1 (+http://www.google.com/bot.html)');
    curl_setopt( $ch, CURLOPT_HTTPHEADER, $header);
    curl_setopt( $ch, CURLOPT_REFERER, 'http://www.google.com');
    curl_setopt( $ch, CURLOPT_HEADER, true );
    curl_setopt( $ch, CURLOPT_NOBODY, true );
    curl_setopt( $ch, CURLOPT_RETURNTRANSFER, true );
    curl_setopt( $ch, CURLOPT_FOLLOWLOCATION, true );
    curl_setopt( $ch, CURLOPT_HTTPAUTH, CURLAUTH_ANY );
    curl_setopt( $ch, CURLOPT_TIMEOUT, 10 ); //timeout 10 seconds
}
</code></pre><p>Kadang-kadang saya menerima 200 OK yang bagus di waktu lain 301, 302, 307 yang saya anggap bagus juga, tetapi di lain waktu saya menerima status aneh sebagai 406, 500, 504 yang seharusnya mengidentifikasi url yang tidak valid tetapi ketika saya membukanya di browser mereka baik-baik saja</p><p>misalnya skrip kembali</p><pre><code>http://www.awe.co.uk/ =&gt; HTTP/1.1 406 Not Acceptable
</code></pre><p>dan wget kembali</p><pre><code>wget http://www.awe.co.uk/
--2011-06-23 15:26:26--  http://www.awe.co.uk/
Resolving www.awe.co.uk... 77.73.123.140
Connecting to www.awe.co.uk|77.73.123.140|:80... connected.
HTTP request sent, awaiting response... 200 OK
</code></pre><p>Apakah ada yang tahu header permintaan mana yang saya lewatkan atau tambahkan secara berlebihan?</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/87209/fab target=_blank rel="nofollow noopener"><span itemprop=name>Fab</span></a>
—
<a href=https://superuser.com/questions/301126/http-responses-curl-and-wget-different-results target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>3</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Anda menyertakan header HTTP yang tidak valid dalam permintaan Anda:</p><pre><code>$header[ ] = "Accept: text/xml,application/xml,application/xhtml+xml,";
$header[ ] = "text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5";
</code></pre><p>Pada baris pertama, daftar diakhiri dengan <code>,</code> - yaitu, tipe konten kosong - yang merupakan penyebab 406 <em>Tidak dapat diterima</em> kesalahan. Baris kedua bahkan bukan header HTTP.</p><p>Jika Anda melihat percakapan HTTP Firefox dengan packet sniffer, Anda mungkin melihat sesuatu seperti ini:</p><pre><code>Accept: text/xml,application/xml,application/xhtml+xml,
    text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5
</code></pre><p>Karena baris kedua dimulai dengan spasi, baris kedua diperlakukan sebagai header tunggal oleh server. Mereka juga harus diteruskan sebagai satu tajuk ke curl:</p><pre><code>$header[] = "Accept: text/xml,application/xml,application/xhtml+xml,text/html;q=0.9,text/plain;q=0.8,image/png,*/*;q=0.5";
</code></pre><hr><p>Kamu bisa gunakan <a href=http://echo.opera.com rel="nofollow noopener" target=_blank>http://echo.opera.com</a> untuk membandingkan permintaan yang dikirim.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/respon-http-menggulung-dan-mendapatkan-hasil-yang-berbeda-2kgre2dv/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener"><span itemprop=name>user1686</span></a>
—
<a href=https://superuser.com/a/301231 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>1</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>1</div><div class=card-body><div itemprop=text><p>Anda tidak memberikan tajuk <code>Host:</code> dalam larik <code>header[]</code> Anda. Dalam permintaan HTTP 1.1 ke server konten, header <code>Host:</code> bersifat wajib. Respons non-4xx adalah saat Anda kebetulan mengenai server HTTP konten seseorang yang memaafkan ketika datang ke kesalahan protokol ini.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/respon-http-menggulung-dan-mendapatkan-hasil-yang-berbeda-2kgre2dv/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/38062/jdebp target=_blank rel="nofollow noopener"><span itemprop=name>JdeBP</span></a>
—
<a href=https://superuser.com/a/301196 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Karena tajuk itu wajib, <i>keriting</i> menyertakannya secara otomatis (dan jika tidak, responsnya akan 400 <i>Permintaan yang buruk</i> ).</div><div>— <a href=https://superuser.com/users/1686/user1686 target=_blank rel="nofollow noopener">user1686</a></div></li><li class=list-group-item><div>Tidak benar dalam prakteknya. Itu saja <i>terkadang</i> menciptakan satu jika seseorang belum menyediakannya, tergantung dari apa yang diteruskan ke opsi lain dan ke <code>curl_init()</code>, yang belum diberitahukan kepada kami. Dan, seperti seharusnya jelas dari data dalam pertanyaan bahkan jika seseorang tidak pernah menemukannya dalam praktiknya, tidak semua orang mendapatkan respons kesalahan untuk protokol yang salah.</div><div>— <a href=https://superuser.com/users/38062/jdebp target=_blank rel="nofollow noopener">JdeBP</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>0</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-2><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>0</div><div class=card-body><div itemprop=text><p>Menurut pendapat saya, skrip Anda terlihat baik-baik saja, dan karena terkadang Anda mendapatkan hasil yang benar, seharusnya itu berfungsi.</p><p>Apakah Anda pemilik <code>http://www.awe.co.uk/</code>?<br>Mungkin ada skrip yang berjalan yang memutuskan apa yang harus dilakukan tergantung pada beberapa env. Misalnya dalam skrip Anda mengakses situs ini sebagai agen-pengguna "googlebot" sedangkan agen-pengguna wget Anda akan menjadi "wget". Skrip di server web mungkin memeriksa apakah itu Google dan memberikan beberapa konten yang sama sekali berbeda dari yang mungkin dilihat browser Anda. Dengan cara yang sama server web dapat mengirimkan kode pengembalian yang berbeda.<br>Untuk menguji masalah ini, Anda mungkin ingin mengurangi skrip Anda, atau memperluas perintah <code>wget</code> untuk mengirim permintaan yang sama dan membandingkan hasilnya.</p><p>Hal lain yang dapat saya bayangkan: Seberapa sering Anda menjalankan skrip Anda? Mungkin server web memperhatikan lalu lintas besar dari skrip Anda dan mengirim 406 (atau beberapa hal lainnya) jika Anda melebih-lebihkan ;-)</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/respon-http-menggulung-dan-mendapatkan-hasil-yang-berbeda-2kgre2dv/#answer-2 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/78107/binfalse target=_blank rel="nofollow noopener"><span itemprop=name>binfalse</span></a>
—
<a href=https://superuser.com/a/301160 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/mungkin-untuk-memiliki-dua-sumbu-y-dan-dua-sumbu-x-pada-bagan-yang-sama-atqutudg/>mungkin untuk memiliki dua sumbu Y dan dua sumbu X pada bagan yang sama</a></div></li><li class=list-group-item><div><a href=/apa-sebenarnya-kartu-pci-isa-itu-lfejgeew/>Apa sebenarnya kartu PCI-ISA itu?</a></div></li><li class=list-group-item><div><a href=/mengganti-nama-volume-di-linux-yld5rjlx/>Mengganti nama volume di Linux</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengubah-izin-untuk-folder-termasuk-subfolder-s6shim6b/>Bagaimana cara mengubah izin untuk folder termasuk subfolder?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-melakukan-jailbreak-pada-apple-time-capsule-tutup-qjzk5s10/>Bagaimana cara melakukan jailbreak pada Apple Time Capsule? [Tutup]</a></div></li><li class=list-group-item><div><a href=/buat-daftar-kontak-dengan-mengekstrak-penerima-dari-email-tdcyzavk/>Buat daftar kontak dengan mengekstrak penerima dari email</a></div></li><li class=list-group-item><div><a href=/apa-risiko-jika-ada-dari-menginstal-versi-linux-yang-lebih-lama-0apld7bj/>Apa risiko (jika ada) dari menginstal versi Linux yang lebih lama</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membatalkan-tautan-semua-symlink-di-bawah-direktori-uopiuzo7/>Bagaimana cara membatalkan tautan semua symlink di bawah direktori?</a></div></li><li class=list-group-item><div><a href=/instal-internet-protocol-version-4-tcp-ipv4-di-windows-7-jqgz8efd/>Instal Internet Protocol Version 4 (TCP / IPv4) di Windows 7</a></div></li><li class=list-group-item><div><a href=/bagian-mana-dari-komputer-yang-membuat-huruf-2nnosiau/>Bagian mana dari komputer yang membuat huruf?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>