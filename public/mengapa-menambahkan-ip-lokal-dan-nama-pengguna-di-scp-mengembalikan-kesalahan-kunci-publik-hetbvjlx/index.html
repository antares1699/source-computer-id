<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Mengapa menambahkan IP lokal dan nama pengguna di scp mengembalikan kesalahan kunci publik?</title><meta name=description content="Saya memiliki dua server jarak jauh yang memiliki kunci pengguna dan id yang sama. Saya dapat dengan bebas SSH ke salah satu dari mereka dari mesin lokal, atau dari satu ke yang..."><link rel=canonical href=https://www.idxstack.com/mengapa-menambahkan-ip-lokal-dan-nama-pengguna-di-scp-mengembalikan-kesalahan-kunci-publik-hetbvjlx/><meta property="og:title" content="Mengapa menambahkan IP lokal dan nama pengguna di scp mengembalikan kesalahan kunci publik?"><meta property="og:description" content="Saya memiliki dua server jarak jauh yang memiliki kunci pengguna dan id yang sama. Saya dapat dengan bebas SSH ke salah satu dari mereka dari mesin lokal, atau dari satu ke yang..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/mengapa-menambahkan-ip-lokal-dan-nama-pengguna-di-scp-mengembalikan-kesalahan-kunci-publik-hetbvjlx/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Mengapa menambahkan IP lokal dan nama pengguna di scp mengembalikan kesalahan kunci publik?"><meta name=twitter:description content="Saya memiliki dua server jarak jauh yang memiliki kunci pengguna dan id yang sama. Saya dapat dengan bebas SSH ke salah satu dari mereka dari mesin lokal, atau dari satu ke yang..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Mengapa menambahkan IP lokal dan nama pengguna di scp mengembalikan kesalahan kunci publik?</h1><div itemprop=text><p>Saya memiliki dua server jarak jauh yang memiliki kunci pengguna dan id yang sama. Saya dapat dengan bebas SSH ke salah satu dari mereka dari mesin lokal, atau dari satu ke yang lain. Saya <code>ssh</code>-ed ke <code>100.100.100.1</code> dan saya mencoba menjalankan:</p><pre><code>scp -i ~/keyfile -r ognjen@100.100.100.1:/path/1/ ognjen@100.100.100.2:/path/2/
</code></pre><p>Ini mengembalikan kesalahan publik dari jarak jauh tujuan dan koneksi yang hilang.</p><p>Saya tidak sengaja menyadari bahwa ini berfungsi:</p><pre><code>scp -i ~/keyfile -r /path/1/ ognjen@100.100.100.2:/path/2/
</code></pre><p>Mengapa yang pertama gagal?</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1031727/cindy-almighty target=_blank rel="nofollow noopener"><span itemprop=name>Cindy Almighty</span></a>
—
<a href=https://superuser.com/questions/1586920/why-does-adding-local-ip-and-username-in-scp-return-public-key-error target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>2</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>8</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>8</div><div class=card-body><div itemprop=text><p>Catatan penting: Mesin yang Anda sebut "mesin lokal" sama sekali tidak relevan. Kisah sebenarnya dimulai ketika Anda sudah berada di <code>100.100.100.1</code>. Dalam konteks <code>scp</code> dan dalam konteks jawaban ini "lokal" adalah mesin di mana <code>scp</code> dipanggil oleh Anda.</p><blockquote><p>Mengapa [perintah] pertama gagal?</p></blockquote><p>Anda mencoba menyalin antara dua host jarak jauh (secara resmi). <code>scp</code> mengenali <code>ognjen@100.100.100.1:/path/1/</code> sebagai jalur non-lokal. Tidak masalah <code>ognjen@100.100.100.1</code> menunjuk ke mesin lokal. Alat tidak (dan tidak seharusnya) memeriksa apakah alamat yang terlihat mengarah jauh ke mesin lokal. Hanya dengan merujuk ke sumber seolah-olah itu jauh, Anda membuat <code>scp</code> memperlakukannya sebagai jarak jauh. Juga tujuannya jauh.</p><p>Menyalin antara dua host jarak jauh dapat dilakukan dengan atau tanpa opsi <code>-3</code>:</p><blockquote><p><code>-3</code><br>Salinan antara dua host jarak jauh ditransfer melalui host lokal. <strong>Tanpa opsi ini, data akan disalin langsung antara dua host jarak jauh.</strong> […]</p></blockquote><p><sup>(penekanan milikku, <a href=https://man.openbsd.org/scp#3 rel="nofollow noopener" target=_blank>sumber</a> )</sup></p><p>Fragmen tebal berlaku untuk casing Anda (meskipun <code>scp</code> Anda tidak mendukung <code>-3</code>).</p><p>Jika Anda menggunakan <code>-v</code> dengan perintah pertama Anda</p><pre><code>scp -v -i ~/keyfile -r ognjen@100.100.100.1:/path/1/ ognjen@100.100.100.2:/path/2/
</code></pre><p>Anda akan melihat <code>scp</code> menghubungkan dari host lokal ke host sumber ("kebetulan" adalah host yang sama) menggunakan kunci yang ditentukan dengan <code>-i</code>. (Rupanya host dikonfigurasi untuk menerima kunci ini, mungkin karena server lain menggunakan kunci yang identik untuk Menghubung.)</p><p>Kemudian Anda akan melihat <code>scp</code> lain dipanggil pada host sumber. Perintahnya adalah:</p><pre><code>scp -v -r /path/1/ ognjen@100.100.100.2:/path/2/
</code></pre><p><code>-v</code> dan <code>-r</code> ada di sana karena mereka ada di perintah lokal Anda. Jalur sumber diterjemahkan ke jalur lokal; tujuan tidak berubah. Jika perintah ini berhasil dijalankan, data akan "disalin langsung antara dua host jarak jauh".</p><p>Perhatikan bahwa tidak ada <code>-i</code>. Haruskah <code>-i ~/keyfile</code> ada di sana? Atau lebih tepatnya <code>-i /home/cindy/keyfile</code> atau lebih? (karena lokal <code>scp</code> mendapatkan sesuatu seperti ini setelah shell lokal memperluas tilde).</p><p>Tidak. Secara umum, host sumber jarak jauh mungkin (dan biasanya) berbeda dari host lokal. Path yang valid untuk host lokal dapat menunjuk ke apapun atau tidak sama sekali pada host jarak jauh. Jika <code>scp</code> pada host sumber dipanggil dengan <code>-i</code>, itu akan menyebabkan lebih banyak masalah daripada yang bisa dipecahkannya. Untung saja <code>-i</code> tidak menyebar ke perintah yang dipanggil pada host sumber. Tetapi kemudian tuan rumah terhubung ke tujuan menggunakan kunci defaultnya atau apa pun konfigurasi yang diperintahkan untuk digunakan.</p><p>Dalam kasus Anda, tampaknya perlu <code>~/keyfile</code> lokal untuk terhubung ke host tujuan. Host sumber memegang file yang benar (karena dalam kasus khusus ini lokal dan sumber adalah mesin yang sama), tetapi perintah <code>scp</code> yang benar-benar terhubung ke tujuan tidak memiliki <code>-i</code> (sebagaimana mestinya secara umum) dan oleh karena itu kuncinya tidak digunakan .</p><p>Perintah kedua Anda menggunakan jalur lokal sebagai sumber, hanya tujuannya yang jauh. Dalam hal ini kunci yang ditentukan dengan <code>-i</code> digunakan untuk menghubungkan dari host lokal ke host tujuan, persis seperti yang Anda rencanakan. Oleh karena itu, itu berhasil.</p><p>Catatan jika Anda mengkonfigurasi mesin lokal untuk secara otomatis menggunakan <code>~/keyfile</code> untuk menyambung ke server lain (<code>IdentityFile</code> di <code>~/.ssh/config</code>), maka perintah pertama akan berfungsi. Host lokal tidak perlu terhubung ke dirinya sendiri, hanya untuk memberitahu dirinya sendiri untuk terhubung ke tujuan, tetapi tetap akan berfungsi. Sambungan pertama akan menggunakan <code>~/keyfile</code> karena <code>-i</code>, sambungan kedua akan menggunakan <code>~/keyfile</code> karena konfigurasinya.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/mengapa-menambahkan-ip-lokal-dan-nama-pengguna-di-scp-mengembalikan-kesalahan-kunci-publik-hetbvjlx/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/432690/kamil-maciorowski target=_blank rel="nofollow noopener"><span itemprop=name>Kamil Maciorowski</span></a>
—
<a href=https://superuser.com/a/1586932 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Penerusan agen SSH dapat membantu, bukan? Misalnya, jika Anda tidak ingin meninggalkan keyfile di 100.100.100.1 untuk terhubung ke 100.100.100.2, sambil tetap dapat memindai file di antara kedua server secara langsung.</div><div>— <a href=https://superuser.com/users/665295/eric-duminil target=_blank rel="nofollow noopener">Eric Duminil</a></div></li></ul></div></div></div></div></div><div class=form-row itemprop=suggestedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>2</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-1><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>2</div><div class=card-body><div itemprop=text><p>Dari manual scp, deskripsi opsi -3: Salinan antara dua host jarak jauh ditransfer melalui host lokal. Tanpa opsi ini, data akan disalin langsung antara dua host jarak jauh. Perhatikan bahwa opsi ini menonaktifkan pengukur kemajuan dan memilih mode batch untuk host kedua, karena scp tidak dapat meminta kata sandi atau frasa sandi untuk kedua host.</p><p>Menurut deskripsi pertama gagal karena 2 server jarak jauh akan berkomunikasi secara langsung (dalam server 100.100.100.1 nyata akan berkomunikasi dengan server 100.100.100.2 melalui ssh) oleh karena itu Anda harus opsi:</p><ol><li>Gunakan opsi -3.</li><li>Konfigurasikan 2 server jarak jauh agar dapat mengautentikasi dengan kunci ssh keyfile. Jika Anda dapat masuk dari server 100.100.100.1 hingga 100.100.100.2 dengan kunci ssh, perintah asli Anda akan berfungsi.</li></ol></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/mengapa-menambahkan-ip-lokal-dan-nama-pengguna-di-scp-mengembalikan-kesalahan-kunci-publik-hetbvjlx/#answer-1 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/1168319/gubo target=_blank rel="nofollow noopener"><span itemprop=name>GuBo</span></a>
—
<a href=https://superuser.com/a/1586924 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=1>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=1><ul class="list-group list-group-flush"><li class=list-group-item><div>Terima kasih, tetapi ketika saya menulis "Saya dapat dengan bebas melakukan SSH ke salah satu dari mereka dari mesin lokal". Saya mengetahui opsi -3 tetapi itu bukan opsi bagi saya untuk masalah kinerja. Tetapi mengingat jawaban Anda, mengapa perintah kedua saya berfungsi?</div><div>— <a href=https://superuser.com/users/1031727/cindy-almighty target=_blank rel="nofollow noopener">Cindy Almighty</a></div></li><li class=list-group-item><div>Jawaban saya memberikan diagnosis yang sama, sedang dalam perbaikan saat Anda memposting. Saya memutuskan untuk tetap menerbitkannya karena kurang ringkas. Tampaknya OP tidak yakin, mungkin jawaban saya akan membantu. Bagaimanapun juga, +1 untuk Anda, karena Anda yang pertama dan berada di jalur yang benar.</div><div>— <a href=https://superuser.com/users/432690/kamil-maciorowski target=_blank rel="nofollow noopener">Kamil Maciorowski</a></div></li><li class=list-group-item><div>@CindyAlmighty Anda harus SSH dari satu server ke server lain (karena mereka akan berkomunikasi secara langsung bukan melalui mesin lokal), bukan dari mesin lokal.</div><div>— <a href=https://superuser.com/users/1168319/gubo target=_blank rel="nofollow noopener">GuBo</a></div></li><li class=list-group-item><div>@KamilMiorowski Anda benar, jawaban Anda memang membantu, tetapi saya tidak setuju bahwa jawaban ini adalah "diagnosis yang sama". Segmen -3 membingungkan di kedua jawaban Anda dan menjauh dari poin utama, dan poin kedua tidak tepat.</div><div>— <a href=https://superuser.com/users/1031727/cindy-almighty target=_blank rel="nofollow noopener">Cindy Almighty</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/menyetel-opsi-tampilan-folder-tunggal-vs-menyetel-opsi-tampilan-default-untuk-semua-folder-di-mac-os-x-106-7lkiyy0s/>Menyetel opsi tampilan folder tunggal vs. menyetel opsi tampilan default untuk semua folder di Mac OS X 10.6</a></div></li><li class=list-group-item><div><a href=/pembersihan-file-temp-emasc-un0gs9st/>pembersihan file temp emasc</a></div></li><li class=list-group-item><div><a href=/akses-powershell-ditolak-ke-sertifikat-currentuser-my-j53fmydl/>Akses PowerShell ditolak ke sertifikat: \ CurrentUser \ My</a></div></li><li class=list-group-item><div><a href=/apache-melayani-file-dari-cabang-git-repo-an4ljpne/>Apache melayani file dari cabang git repo</a></div></li><li class=list-group-item><div><a href=/apakah-https-juga-mencegah-perantara-melacak-riwayat-penjelajahan-saya-selain-dari-domain-mana-yang-saya-kunjungi-gplvy2vw/>Apakah HTTPS juga mencegah perantara melacak riwayat penjelajahan saya selain dari domain mana yang saya kunjungi?</a></div></li><li class=list-group-item><div><a href=/izin-folder-log-iis-tidak-diwariskan-hd7hihjp/>Izin folder log IIS tidak diwariskan</a></div></li><li class=list-group-item><div><a href=/format-excel-dari-hh-bb-tttt-hingga-hh-bb-tttt-nyp2alg5/>Format Excel dari hh / bb / tttt hingga hh-bb-tttt</a></div></li><li class=list-group-item><div><a href=/terjadi-kesalahan-saat-melepaskan-hard-disk-eksternal-usb-bagaimana-cara-memperbaikinya-tanpa-memulai-ulang-komputer-ngydblfz/>Terjadi kesalahan saat melepaskan Hard disk eksternal USB, bagaimana cara memperbaikinya tanpa memulai ulang komputer?</a></div></li><li class=list-group-item><div><a href=/mengisi-warna-secara-otomatis-sesuai-nilai-dalam-sel-di-spreadsheet-vnroh7kt/>Mengisi warna secara otomatis sesuai nilai dalam sel di spreadsheet</a></div></li><li class=list-group-item><div><a href=/mengapa-speaker-saya-berderak-oxuwuqgh/>Mengapa speaker saya berderak?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>