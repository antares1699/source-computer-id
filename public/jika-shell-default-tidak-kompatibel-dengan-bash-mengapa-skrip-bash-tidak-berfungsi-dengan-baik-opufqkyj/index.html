<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Jika shell default tidak kompatibel dengan bash, mengapa skrip bash tidak berfungsi dengan baik?</title><meta name=description content="Kerang default saya adalah ikan, karena jauh lebih enak. Tetapi seringkali ketika saya menjalankan skrip, saya mendapatkan kesalahan yang sepertinya berasal dari skrip bash yang sedang diproses oleh ikan. Saya pikir ini..."><link rel=canonical href=https://www.idxstack.com/jika-shell-default-tidak-kompatibel-dengan-bash-mengapa-skrip-bash-tidak-berfungsi-dengan-baik-opufqkyj/><meta property="og:title" content="Jika shell default tidak kompatibel dengan bash, mengapa skrip bash tidak berfungsi dengan baik?"><meta property="og:description" content="Kerang default saya adalah ikan, karena jauh lebih enak. Tetapi seringkali ketika saya menjalankan skrip, saya mendapatkan kesalahan yang sepertinya berasal dari skrip bash yang sedang diproses oleh ikan. Saya pikir ini..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/jika-shell-default-tidak-kompatibel-dengan-bash-mengapa-skrip-bash-tidak-berfungsi-dengan-baik-opufqkyj/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Jika shell default tidak kompatibel dengan bash, mengapa skrip bash tidak berfungsi dengan baik?"><meta name=twitter:description content="Kerang default saya adalah ikan, karena jauh lebih enak. Tetapi seringkali ketika saya menjalankan skrip, saya mendapatkan kesalahan yang sepertinya berasal dari skrip bash yang sedang diproses oleh ikan. Saya pikir ini..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Jika shell default tidak kompatibel dengan bash, mengapa skrip bash tidak berfungsi dengan baik?</h1><div itemprop=text><p>Kerang default saya adalah ikan, karena jauh lebih enak. Tetapi seringkali ketika saya menjalankan skrip, saya mendapatkan kesalahan yang sepertinya berasal dari skrip bash yang sedang diproses oleh ikan. Saya pikir ini karena penulis skrip berasumsi bahwa shell default adalah bash, tetapi saya tidak memahami mekanismenya.</p><p>Misalnya, skrip install.sh CrashPlan dimulai dengan bash shebang:</p><pre><code>~/CrashPlan-install&gt; head install.sh
#!/bin/bash

#############################################################
# Linux Client Installer Script
#############################################################
</code></pre><p>Jadi ketika saya menjalankan <code>./install.sh</code> itu harus diproses oleh bash, bukan? Shell terminal default seharusnya tidak relevan. Namun, ketika shell default saya adalah fish, menjalankan skrip seperti ini menyebabkan fish mengembalikan kesalahan, seolah memproses skrip:</p><pre><code>fish: Expected a command name, got token of type “Run job in background”. Did you mean
 “COMMAND; and COMMAND”? See the help section for the “and” builtin command by typing “help and”.
Standard input: sed -imod "s|Exec=.*|Exec=/usr/local/crashplan/bin/CrashPlanDesktop|" 
 /home/username/Desktop/CrashPlan.desktop &amp;&amp; rm -rf /home/username/Desktop/CrashPlan.desktopmod 
</code></pre><p>Apakah ini karena kesalahan konfigurasi komputer saya atau karena skrip ditulis dengan cara yang tidak portabel?</p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/13889/endolith target=_blank rel="nofollow noopener"><span itemprop=name>endolith</span></a>
—
<a href=https://superuser.com/questions/506613/when-default-shell-is-not-bash-compatible-why-do-bash-scripts-not-work-well target=_blank rel="nofollow noopener">Sumber</a></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><blockquote><p>Jadi ketika saya menjalankan <code>./install.sh</code> itu harus diproses oleh bash, bukan?</p></blockquote><p>Memang. Itulah gunanya shebang.</p><h3 class=h5>Penyelesaian masalah</h3><ul><li><p>Simpan yang berikut ini sebagai <code>test.sh</code> dan coba jalankan dari ikan.</p><pre><code>#!/bin/bash

true &amp;&amp; true
</code></pre><p>Ini berfungsi di komputer saya, dan seharusnya di komputer Anda.</p></li><li><p>Periksa apakah baris pertama <code>install.sh</code> hanya berisi karakter <code>#!/bin/bash</code>.</p><p>Karakter yang tidak terlihat (seperti pemecah baris CR) dapat membingungkan ikan.</p></li><li><p>Lari</p><pre><code>/bin/bash --version
</code></pre><p>untuk memeriksa bahwa bash sebenarnya adalah bash dan belum diganti / dimodifikasi secara diam-diam dari waktu ke waktu.</p></li></ul><h3 class=h5>install.sh</h3><p><code>$SRC_USER</code> hanyalah sinonim yang dibuat skrip untuk <code>$SUDO_USER</code>.</p><p>Akibatnya, ketika skrip dijalankan dengan hak akses root, perintah tersebut</p><pre><code>su ${SRC_USER} -c "sed -imod \"s|Exec=.*|Exec=${GUISCRIPT}|\" ${DESKTOP_LAUNCHER} &amp;&amp; rm -rf ${DESKTOP_LAUNCHER}mod"
</code></pre><p>secara otomatis menggunakan shell default pengguna sudo, yaitu ikan.</p><p>Untuk mengesampingkan default ini, tambahkan instruksi <code>-s /bin/bash</code> ke perintah <code>su</code>.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/jika-shell-default-tidak-kompatibel-dengan-bash-mengapa-skrip-bash-tidak-berfungsi-dengan-baik-opufqkyj/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener"><span itemprop=name>Dennis</span></a>
—
<a href=https://superuser.com/a/506646 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div><code>./test.sh</code> berjalan dengan baik, tidak menghasilkan kesalahan, dan hex dump test.sh dan install.sh identik untuk 13 byte pertama. Dan ya, ini <code>GNU bash, version 4.2.24(1)-release</code>. Ada hubungannya dengan bagian <code>Exec=</code> dari skrip install.sh?</div><div>— <a href=https://superuser.com/users/13889/endolith target=_blank rel="nofollow noopener">endolith</a></div></li><li class=list-group-item><div>Mungkin, tapi sulit untuk membedakannya di luar konteks. Bisakah Anda memposting <code>install.sh</code> di sini atau, jika terlalu panjang, di Pastebin?</div><div>— <a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener">Dennis</a></div></li><li class=list-group-item><div><a href=http://pastebin.com/xAZM1BgF rel="nofollow noopener" target=_blank>pastebin.com/xAZM1BgF</a> Oh tidak, sekarang saya melihat "Exec" adalah bagian dari file <code>.desktop</code> yang dibuat oleh skrip, bukan bagian dari skrip itu sendiri.</div><div>— <a href=https://superuser.com/users/13889/endolith target=_blank rel="nofollow noopener">endolith</a></div></li><li class=list-group-item><div>Sejujurnya saya tidak mengerti: ikan tidak dapat menangani salah satu dari perintah if, jadi mengapa menunggu sampai garis sed tersedak? Apa yang terjadi jika Anda menjalankan <code>bash install.sh</code>?</div><div>— <a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener">Dennis</a></div></li><li class=list-group-item><div>hal yang sama terjadi dengan <code>sudo install.sh</code> atau <code>bash install.sh</code>. Ada hubungannya dengan <code>su ${SRC_USER}</code>? Tapi shell default root adalah bash.</div><div>— <a href=https://superuser.com/users/13889/endolith target=_blank rel="nofollow noopener">endolith</a></div></li><li class=list-group-item><div>Saya pikir Anda mengerti. <code>su</code> menjalankan perintah menggunakan shell <code>SRC_USER</code>, yang jika saya benar, tepatnya bukan <code>root</code>. Coba ganti <code>su</code> dengan <code>su -s /bin/bash</code>.</div><div>— <a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener">Dennis</a></div></li><li class=list-group-item><div>Ya, saya pikir itu adalah perintah <code>su</code>. Saya telah membuat pengguna <code>fishy</code> dengan ikan sebagai cangkang defaultnya. Dari bash, <code>su fishy "true && true"</code> menghasilkan error. <code>su fishy -s /bin/bash -c "true && true"</code> berfungsi dengan baik.</div><div>— <a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener">Dennis</a></div></li><li class=list-group-item><div>mengagumkan, sepertinya sudah memperbaikinya. dapatkah Anda memasukkannya ke dalam jawaban Anda sebelum saya menerimanya?</div><div>— <a href=https://superuser.com/users/13889/endolith target=_blank rel="nofollow noopener">endolith</a></div></li><li class=list-group-item><div>Senang untuk itu. Saya telah memperbarui jawaban saya.</div><div>— <a href=https://superuser.com/users/101836/dennis target=_blank rel="nofollow noopener">Dennis</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/apakah-memasang-memori-di-laser-hitam-putih-samsung-ml-2851nd-saya-membuatnya-mencetak-pdf-lebih-cepat-o4ap6stg/>Apakah memasang memori di laser Hitam Putih Samsung ML-2851ND saya membuatnya mencetak PDF lebih cepat?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-mengatur-server-web-yang-dapat-diakses-dari-jaringan-dalam-iognfzbq/>Bagaimana cara mengatur server web yang dapat diakses dari jaringan dalam?</a></div></li><li class=list-group-item><div><a href=/di-mana-saya-dapat-menemukan-video-2160p-7dxilgjc/>Di mana saya dapat menemukan video 2160p?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-memutus-koneksi-windows-explorer-antara-file-html-dan-direktorinya-8uz3lkaj/>Bagaimana cara memutus koneksi Windows Explorer antara file HTML dan direktorinya?</a></div></li><li class=list-group-item><div><a href=/dapatkah-saya-mengubah-ukuran-memadatkan-video-dan-menghamparkan-gambar-dalam-satu-langkah-dengan-ffmpeg-s59j015v/>Dapatkah saya mengubah ukuran, memadatkan video, dan menghamparkan gambar dalam satu langkah dengan FFMPEG?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-rsync-melalui-gateway-ssh-17dqkk8d/>Bagaimana cara rsync melalui gateway ssh?</a></div></li><li class=list-group-item><div><a href=/pengaya-firefox-yang-mencantumkan-semua-url-tab-yang-terbuka-dalam-satu-tab-sebagai-tautan-teks-ditutup-ijkywsso/>Pengaya Firefox yang mencantumkan semua url tab yang terbuka dalam satu tab sebagai tautan teks [ditutup]</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menginstal-ffmpeg-di-os-x-duplikat-tz6uevxs/>Bagaimana cara menginstal ffmpeg di OS X? [duplikat]</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menyalin-kata-yang-saya-ketik-tanpa-sakelar-mode-qe0echzu/>Bagaimana cara menyalin kata yang saya ketik? (tanpa sakelar mode…)</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-kerja-autorecover-dvlzdmiw/>Bagaimana cara kerja AutoRecover?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>