<!doctype html><html lang=id><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><title>Bagaimana cara menjalankan perintah pembersihan pada keluar dari server / sesi tmux?</title><meta name=description content="Untuk sedikit meningkatkan alur kerja saya, saya telah menulis beberapa skrip pembungkus untuk secara otomatis memulai beberapa perintah ketika saya ingin mengerjakan sebuah proyek. Namun setelah saya selesai, dan bersihkan semua tab..."><link rel=canonical href=https://www.idxstack.com/bagaimana-cara-menjalankan-perintah-pembersihan-pada-keluar-dari-server-sesi-tmux-oqhsohdc/><meta property="og:title" content="Bagaimana cara menjalankan perintah pembersihan pada keluar dari server / sesi tmux?"><meta property="og:description" content="Untuk sedikit meningkatkan alur kerja saya, saya telah menulis beberapa skrip pembungkus untuk secara otomatis memulai beberapa perintah ketika saya ingin mengerjakan sebuah proyek. Namun setelah saya selesai, dan bersihkan semua tab..."><meta property="og:type" content="website"><meta property="og:url" content="https://www.idxstack.com/bagaimana-cara-menjalankan-perintah-pembersihan-pada-keluar-dari-server-sesi-tmux-oqhsohdc/"><meta property="og:site_name" content="IDXStack"><meta property="og:locale" content="id_ID"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bagaimana cara menjalankan perintah pembersihan pada keluar dari server / sesi tmux?"><meta name=twitter:description content="Untuk sedikit meningkatkan alur kerja saya, saya telah menulis beberapa skrip pembungkus untuk secara otomatis memulai beberapa perintah ketika saya ingin mengerjakan sebuah proyek. Namun setelah saya selesai, dan bersihkan semua tab..."><link rel=stylesheet href=/css/style.min.c181a38d9857323db0ab0ad950bbd049d24d2f1d58d7566522f92aae4e1057df.css><link rel=stylesheet href=/vendor/fontawesome/css/all.min.css></head><body itemscope itemtype=https://schema.org/QAPage><nav class="navbar navbar-expand-lg navbar-dark bg-dark"><div class=container><a href=/ class=navbar-brand>IDXStack</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav mr-auto"><li class=nav-item><a href=/ class=nav-link>Beranda</a></li></ul><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a href=# class="nav-link dropdown-toggle" id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu aria-labelledby=navbarDropdown><a href=/about-us class=dropdown-item>About</a>
<a href=/contact class=dropdown-item>Contact</a>
<a href=/disclaimer class=dropdown-item>Disclaimer</a></div></li></ul></div></div></nav><div class="container my-2" itemprop=mainEntity itemscope itemtype=https://schema.org/Question><div class="card shadow-sm mb-2"><div class=card-body><div class=mb-2><span class="badge badge-dark">Komputer</span></div><h1 class=h3 itemprop=name>Bagaimana cara menjalankan perintah pembersihan pada keluar dari server / sesi tmux?</h1><div itemprop=text><p>Untuk sedikit meningkatkan alur kerja saya, saya telah menulis beberapa skrip pembungkus untuk secara otomatis memulai beberapa perintah ketika saya ingin mengerjakan sebuah proyek. Namun setelah saya selesai, dan bersihkan semua tab tmux untuk sesi khusus ini, saya ingin menghentikan beberapa proses dan membersihkan beberapa file.</p><p>Apakah ada cara untuk menjalankan perintah secara otomatis saat keluar dari server tmux?</p><p>Alur kerja yang diinginkan:</p><ul><li>jalankan perintah untuk membuat server tmux baru, buka beberapa file, mulai beberapa aplikasi</li><li>bekerja di sesi tersebut</li><li>lepaskan untuk mengerjakannya nanti</li><li>pasang kembali</li><li>ketika semua tab di server tmux ditutup dan server dihancurkan, jalankan perintah pembersihan</li></ul><p>[edit] Skrip yang saat ini saya gunakan: <a href=https://github.com/WoLpH/dotfiles/blob/master/bin/tmx rel="nofollow noopener" target=_blank>https://github.com/WoLpH/dotfiles/blob/master/bin/tmx</a></p></div></div><div class="card-footer bg-white d-flex justify-content-between"><div><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>4</span></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/44671/wolph target=_blank rel="nofollow noopener"><span itemprop=name>Wolph</span></a>
—
<a href=https://superuser.com/questions/592063/how-to-execute-a-cleanup-command-on-tmux-server-session-exit target=_blank rel="nofollow noopener">Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm" id=showQuestionReplies>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 d-none" id=questionRepliesContainer><ul class="list-group list-group-flush"><li class=list-group-item><div>dengan "perintah pembersihan" yang Anda maksud adalah perintah khusus server? Misalnya, Anda memiliki sesi terbuka untuk proyek A dan sesi lain untuk proyek B. Jadi Anda ingin menjalankan pembersihan_A ketika session_A ditutup? Atau apakah maksud Anda sesuatu yang berbeda?</div><div>— <a href=https://superuser.com/users/93719/scicalculator target=_blank rel="nofollow noopener">scicalculator</a></div></li><li class=list-group-item><div>Ya, itulah yang saya maksud. Tetapi perintah pembersihan umum juga dapat berfungsi, saya dapat dengan mudah menyimpulkan proyek yang dibuka sebelumnya dari file yang tersisa. Saya hanya perlu pemicu keluar dari server apa pun sehingga saya dapat melepas beberapa hal.</div><div>— <a href=https://superuser.com/users/44671/wolph target=_blank rel="nofollow noopener">Wolph</a></div></li><li class=list-group-item><div>Saya telah menulis utilitas baris perintah untuk membuat skrip pengaturan / pembongkaran sesi tmux: <a href=https://github.com/tarruda/tmuxer rel="nofollow noopener" target=_blank>github.com/tarruda/tmuxer</a> . Bahkan termasuk pengganti 'sesi pilih' yang akan membiarkan Anda memilih sesi 'tertutup'</div><div>— <a href=https://superuser.com/users/51771/thiago-de-arruda target=_blank rel="nofollow noopener">Thiago de Arruda</a></div></li><li class=list-group-item><div>@ThiadodeArruda: sepertinya keren, saya akan segera mengujinya. Saat ini saya menggunakan skrip ini: <a href=https://github.com/WoLpH/dotfiles/blob/master/bin/tmx rel="nofollow noopener" target=_blank>github.com/WoLpH/dotfiles/blob/master/bin/tmx</a></div><div>— <a href=https://superuser.com/users/44671/wolph target=_blank rel="nofollow noopener">Wolph</a></div></li><li class=list-group-item><div>@Wolph: Saya juga telah mengintegrasikan solusi saya ke dalam skrip dotfiles-zsh, baru-baru ini saya mengekstrak ke dalam satu set skrip shell yang kompatibel dengan posix yang dapat digunakan kembali untuk portabilitas yang lebih baik dan lebih mudah digunakan kembali oleh orang lain</div><div>— <a href=https://superuser.com/users/51771/thiago-de-arruda target=_blank rel="nofollow noopener">Thiago de Arruda</a></div></li><li class=list-group-item><div>btw, jika Anda menggunakan tmuxinator, Anda cukup menambahkan perintah <code>post</code> di file konfigurasi Anda.</div><div>— <a href=https://superuser.com/users/508119/valentin-waeselynck target=_blank rel="nofollow noopener">Valentin Waeselynck</a></div></li><li class=list-group-item><div>@ValentinWaeselynck: itu akan menjadi alternatif yang bagus. Bagi saya itu tidak terlalu cocok karena saya secara teratur bekerja di server (usang) di mana saya memiliki dukungan perangkat lunak yang sangat sedikit dan tmuxinator memiliki terlalu banyak deps untuk diinstal.</div><div>— <a href=https://superuser.com/users/44671/wolph target=_blank rel="nofollow noopener">Wolph</a></div></li></ul></div></div></div><hr><h2 class=h4><span itemprop=answerCount>1</span> Jawaban</h2><div class=form-row itemprop=acceptedAnswer itemscope itemtype=https://schema.org/Answer><div class="col-12 col-md-2 col-lg-1"><div class="card shadow-sm mb-2 d-none d-md-block"><div class="card-body text-center px-1 py-3"><i class="far fa-heart fa-fw text-danger"></i><span itemprop=upvoteCount>6</span></div></div></div><div class="col-12 col-md-10 col-lg-11"><div class="card mb-2 shadow-sm" id=answer-0><div class="card-header d-block d-md-none"><i class="far fa-heart fa-fw text-danger"></i>6</div><div class=card-body><div itemprop=text><p>Untuk saat ini, tidak ada cara khusus agar tmux secara otomatis menjalankan perintah yang dipicu oleh <code>detach</code> atau menutup semua jendela dalam sesi tersebut. Namun, karena Anda sudah memiliki skrip pembungkus (saya akan menyebutnya <code>tmux_wrapper</code>) yang membuka sesi khusus yang Anda inginkan, Anda dapat dengan mudah mengonversi skrip ini untuk mengotomatiskan pembersihan. Saya melakukan sesuatu yang sangat mirip dengan ini sendiri <a href=https://github.com/scicalculator/tmux-tmx/blob/master/bin/tmx rel="nofollow noopener" target=_blank>sini</a> , di mana saya ingin mengizinkan sesi tmux bersarang jika saya melampirkan melalui ssh.</p><p>Karena Anda memiliki pengalaman khusus dalam pikiran, Anda tidak lagi memerlukan <code>tmux attach ....</code> atau perintah serupa, jadi saya akan menganggap Anda selalu memulai sesi untuk proyek A dengan sesuatu seperti <code>tmux_wrapper A</code>. Dalam pembungkus Anda, Anda mungkin memiliki baris yang mirip dengan <code>tmux new-session -s A</code>. Di sini kita bisa manfaatkan nama sesi <code>A</code>. Kemudian, di akhir pembungkus Anda, Anda dapat memiliki sakelar pembersihan yang hanya aktif jika sesi tidak lagi aktif (yaitu jendela / panel tidak lagi dapat dipasang).</p><p>Contoh sederhana <code>tmux_wrapper</code> akan terlihat seperti ini:</p><pre><code>#!/bin/sh

sess=$1

# test if the session has windows
is_closed(){ 
    n=$(tmux ls 2&gt; /dev/null | grep "^$sess" | wc -l)
    [[ $n -eq 0 ]]
}

# either create it or attach to it
if is_closed ; then
  tmux new -s $sess
else
  tmux attach -t $sess
fi

# the session is now either closed or detatched
if is_closed ; then
    # perform cleanup here ...
fi
</code></pre><p>Jalankan seperti <code>tmux_wrapper A</code>. Sekarang, pembersihan akan secara otomatis terjadi untuk sesi A jika dan hanya jika sesi telah ditutup sepenuhnya.</p></div></div><div class="card-footer text-right bg-white d-flex justify-content-between"><div><a href=https://www.idxstack.com/bagaimana-cara-menjalankan-perintah-pembersihan-pada-keluar-dari-server-sesi-tmux-oqhsohdc/#answer-0 itemprop=url>Bagikan</a></div><div itemprop=author itemscope itemtype=https://schema.org/Person><a href=https://superuser.com/users/93719/scicalculator target=_blank rel="nofollow noopener"><span itemprop=name>scicalculator</span></a>
—
<a href=https://superuser.com/a/593370 rel="nofollow noopener" target=_blank>Sumber</a></div></div></div><div class=form-row><div class="col-2 col-lg-1"></div><div class="col-10 col-lg-11"><div class=mb-2><button class="btn btn-secondary btn-sm show-answer-replies" data-id=0>Tampilkan Balasan</button></div><div class="card shadow-sm mb-2 answer-replies-container d-none" data-id=0><ul class="list-group list-group-flush"><li class=list-group-item><div>Bukan solusi tercantik tetapi harus berhasil :) Terima kasih! Saya memang punya skrip yang mirip, Anda bisa menemukannya di sini jika Anda tertarik: <a href=https://gist.github.com/WoLpH/3163775 rel="nofollow noopener" target=_blank>gist.github.com/WoLpH/3163775</a></div><div>— <a href=https://superuser.com/users/44671/wolph target=_blank rel="nofollow noopener">Wolph</a></div></li></ul></div></div></div></div></div><div class="card shadow-sm my-2"><div class=card-header>Pertanyaan Serupa</div><ul class="list-group list-group-flush"><li class=list-group-item><div><a href=/penggantian-baterai-cr-48-eqeuypn9/>Penggantian Baterai Cr-48</a></div></li><li class=list-group-item><div><a href=/wine-dan-virus-windows-kcppnjok/>WINE dan virus Windows</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-menambahkan-pemetaan-ex-mode-di-vim-ko5aj7nr/>Bagaimana cara menambahkan pemetaan ex-mode di Vim?</a></div></li><li class=list-group-item><div><a href=/windows-8-adaptor-wifi-tidak-menemukan-jaringan-nirkabel-berakhir-dengan-quottidak-ada-jaringan-yang-ditemukanquot-cobeodop/>Windows 8 - Adaptor WiFi tidak menemukan jaringan nirkabel! berakhir dengan "Tidak ada jaringan yang ditemukan"</a></div></li><li class=list-group-item><div><a href=/plugin-chrome-apa-pun-untuk-melindungi-sandi-yang-disimpan-194wmndd/>plugin chrome apa pun untuk melindungi sandi yang disimpan</a></div></li><li class=list-group-item><div><a href=/hard-drive-yang-diformat-lupa-membuat-cadangan-file-teks-bagaimana-cara-mendapatkannya-kembali-xvb3cqck/>Hard drive yang diformat, lupa membuat cadangan file teks. Bagaimana cara mendapatkannya kembali?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-membuat-file-dengan-cap-waktu-windows-yang-tidak-valid-zn7hp3mf/>Bagaimana cara membuat file dengan cap waktu Windows yang tidak valid?</a></div></li><li class=list-group-item><div><a href=/dapatkah-saya-membuat-profil-pencarian-dns-di-osx-inpgji16/>Dapatkah saya membuat profil pencarian DNS di OSX?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-berbagi-koneksi-ethernet-di-ubuntu-lela-sqgqoly5/>Bagaimana cara berbagi koneksi ethernet di Ubuntu (Lela)?</a></div></li><li class=list-group-item><div><a href=/bagaimana-cara-memilih-laptop-dengan-perangkat-keras-yang-didukung-oleh-linux-e1wvocyb/>Bagaimana cara memilih laptop dengan perangkat keras yang didukung oleh Linux?</a></div></li></ul></div></div><div class="mt-5 bg-light"><div class=container><div class="py-4 d-flex justify-content-between small text-muted"><div>By using our site, you agree to our <a href=/terms-of-service>Terms of Service</a>, <a href=/privacy-policy>Privacy Policy</a>, and <a href=/cookie-policy>Cookie Policy</a></div><div>Berlisensi di bawah <a href=https://creativecommons.org/licenses/by-sa/4.0/ target=_blank rel="nofollow noopener">CC BY-SA 4.0</a> dengan attribusi</div></div></div></div><script src=/js/jquery-3.5.1.min.js></script><script src=/js/bootstrap.bundle.min.js></script><script>$(document).ready(function(){$("#showQuestionReplies").click(function(){$("#questionRepliesContainer").toggleClass("d-none")}),$(".show-answer-replies").click(function(){var a=$(this).data("id");$(".answer-replies-container[data-id='"+a+"']").toggleClass("d-none")})})</script></body></html>