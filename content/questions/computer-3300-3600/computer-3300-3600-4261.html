{"title":"Bagaimana saya bisa tahu jika file tertentu telah selesai diunggah dari lokasi lain?","draft":false,"url":"/bagaimana-saya-bisa-tahu-jika-file-tertentu-telah-selesai-diunggah-dari-lokasi-lain-pdpj6m1k","votes":"4","answers_count":"6","categories":["Komputer"],"tags":["linux","ubuntu","scp","upload"],"snippet":"Katakanlah kita punya  mesin 1  dan  mesin 2  .  Mesin 2  , yang berbasis linux, menerima file (katakanlah  cat.jpg  dikirim melalui SCP dari  mesin 1  (tidak masalah sistem operasi yang mana ..)....","body":"<p> Katakanlah kita punya <strong> mesin 1 </strong> dan <strong> mesin 2 </strong> . <br>\n<strong> Mesin 2 </strong> , yang berbasis linux, menerima file (katakanlah <strong> cat.jpg </strong> dikirim melalui SCP dari <strong> mesin 1 </strong> (tidak masalah sistem operasi yang mana ..). </p>\n\n<p> Bagaimana saya bisa tahu <strong> mesin 2 </strong> , bahwa file telah selesai diunggah <strong> mesin 1 </strong> ? <br> Harap dicatat bahwa dengan &quot;mengetahui&quot; yang saya maksud dengan menjalankan perintah (melalui cron yang berjalan setiap menit), dan bukan dengan cara yang digerakkan oleh peristiwa (&quot;buat scp mengeluarkan perintah setelah selesai mengupload&quot;). </p>\n\n<p> Batasan lain yang saya miliki adalah saya tidak dapat mengubah apa pun <strong> mesin 1 </strong> atau dengan cara itu file SCP. </p>\n\n<p> Jika itu benar-benar penting: </p>\n\n<ul>\n<li> file yang ditransfer adalah file video, ekstensi MP4. </li>\n<li><strong> mesin 2 </strong> adalah ubuntu 10.10 </li>\n</ul>","source":"https://superuser.com/questions/293097/how-can-i-know-if-a-given-file-has-finished-uploading-from-another-location","author":"<a href=\"https://superuser.com/users/26210/doron\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Doron</span></a>","replies":[{"reply":"Periksa apakah proses penerimaan masih ada.","author":"<a href=\"https://superuser.com/users/14763/mpez0\" target=\"_blank\" rel=\"nofollow noopener\">mpez0</a>"}],"answers":[{"answer":"<p> Anda harus bisa menggunakan <a href=\"http://www.manpagez.com/man/8/lsof/\" rel=\"nofollow noopener\" target=\"_blank\"> lsof </a> perintah untuk memeriksa apakah file tersebut terbuka di program lain. </p> <pre><code>lsof | grep filename\n</code></pre> <p> jika Anda mendapatkan hasil, file tersebut terbuka dalam proses lain dan mungkin masih diunggah. Jika hasilnya kosong, file selesai diunggah atau mungkin transfer gagal karena beberapa alasan. </p>","votes":"4","source":"https://superuser.com/a/293136","author":"<a href=\"https://superuser.com/users/4397/paxxi\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Paxxi</span></a>","replies":[]},{"answer":"<p> Mungkin ada cara yang lebih cerdas untuk melakukannya, tetapi dalam situasi ini saya hanya menggunakan <code>ls</code> untuk menunjukkan ukuran file dan kemudian menunggu hingga berhenti berubah untuk jangka waktu yang wajar (10-20 detik) -misalnya: </p> <pre><code>watch ls -l *.mp4\n</code></pre>","votes":"1","source":"https://superuser.com/a/293112","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Linker3000</span></a>","replies":[{"reply":"Ini mungkin tidak aman. Misalnya. jika kamu <i> menggantikan </i> file yang ada dengan ukuran yang sama atau lebih besar","author":"<a href=\"https://superuser.com/users/382011/mitrakov-artem\" target=\"_blank\" rel=\"nofollow noopener\">Mitrakov Artem</a>"}]},{"answer":"<pre><code>fuser -mv / 2&gt;&amp;1 | grep F\n</code></pre> <p> Itu akan mencantumkan semua pengguna, pid dan file yang terbuka dan tertulis di mount-point tertentu. </p>","votes":"1","source":"https://superuser.com/a/295549","author":"<a href=\"https://superuser.com/users/83905/dvd\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">dvd</span></a>","replies":[]},{"answer":"<p> sebagai root: </p> <pre><code>fuser filename\n</code></pre> <p> Jika ada sesuatu yang dicetak, maka file tersebut sedang digunakan oleh beberapa proses. </p>","votes":"0","source":"https://superuser.com/a/307238","author":"<a href=\"https://superuser.com/users/23417/samk\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">SamK</span></a>","replies":[]},{"answer":"<p> Ini bekerja untuk saya: </p> <pre><code>while [ true ]; do\n    SAMPLE1=`ls -l --full-time $FILE`\n    sleep 5\n    SAMPLE2=`ls -l --full-time $FILE`\n    if [ \"$SAMPLE1\" == \"$SAMPLE2\" ]; then\n      echo done!\n      break\n    fi\ndone\n</code></pre>","votes":"0","source":"https://superuser.com/a/1472321","author":"<a href=\"https://superuser.com/users/382011/mitrakov-artem\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mitrakov Artem</span></a>","replies":[]},{"answer":"<p> Salah satu cara untuk mengasumsikan dengan aman bahwa perintah <code>scp</code> telah berakhir, adalah dengan membuat daftar file yang telah dimodifikasi lebih dari 30-an yang lalu: </p> <pre><code>find /tmp/*mp4 -mmin +0.5\n</code></pre> <p> Sekarang, Anda dapat menurunkan / meningkatkan nilai <code>mtime</code> untuk membuat pemrosesan file lebih cepat / aman. </p>","votes":"0","source":"https://superuser.com/a/1483169","author":"<a href=\"https://superuser.com/users/666772/gohu\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gohu</span></a>","replies":[]}]}
