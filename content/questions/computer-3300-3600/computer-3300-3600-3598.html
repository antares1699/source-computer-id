{"title":"Mengapa cronjob tidak menjalankan perintah feh","draft":false,"url":"/mengapa-cronjob-tidak-menjalankan-perintah-feh-nqhy6xzc","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","shell","cron"],"snippet":"Saya membuat cronjob untuk mendownload gambar baru dari sumber setiap sepuluh menit dan mengaturnya sebagai wallpaper menggunakan feh. File diunduh tetapi wallpaper tidak berubah. Dimana masalahnya? crontab -e menjalankan perintah sebagai pengguna...","body":"<p> Saya membuat cronjob untuk mendownload gambar baru dari sumber setiap sepuluh menit dan mengaturnya sebagai wallpaper menggunakan feh. File diunduh tetapi wallpaper tidak berubah. Dimana masalahnya? <code>crontab -e</code> menjalankan perintah sebagai pengguna sehingga harus seperti saya menjalankan baris - yang berfungsi btw. </p>\n\n<p> ini skripnya </p> <pre><code>#!/bin/sh\n\n#Filename\nfile=\"space-\"$(date +%x_%H:%M:%S)\n\n#save it \nwget http://rammb.cira.colostate.edu/ramsdis/online/images/latest_hi_res/himawari-8/full_disk_ahi_true_color.jpg -O /home/tim/Bilder/Wallpaper/$file -o /dev/null\n\n#set background\nfeh --bg-max /home/tim/Bilder/Wallpaper/$file\n</code></pre> <p> Ini <code>crontab -e</code> untuk pengguna yang latar belakangnya harus diubah (alias saya) </p> <pre><code>*/10 * * * * /bin/sh /home/tim/Dokumente/Scripts/wallpaper.sh\n</code></pre> <p> Dalam syslog saya, saya menemukan baris-baris ini </p> <pre><code>Jan 31 21:40:01 LinuxMint CRON[18209]: (tim) CMD (/bin/sh /home/tim/Dokumente/Scripts/wallpaper.sh)\nJan 31 21:40:11 LinuxMint CRON[18204]: (CRON) info (No MTA installed, discarding output) \n</code></pre>","source":"https://superuser.com/questions/1033903/why-doesnt-cronjob-execute-feh-command","author":"<a href=\"https://superuser.com/users/353698/globus243\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">globus243</span></a>","replies":[],"answers":[{"answer":"<p> Sayangnya, tidak cukup ditekankan bahwa proses lingkungan yang dimulai oleh cron get adalah <em> sangat </em> sederhana, ini hanya berisi variabel dan nilai paling vital.\nAnda dapat memeriksanya dengan menjalankan skrip shell yang hanya berisi </p> <pre><code>#!/bin/bash\n\nset &gt; /tmp/myset.txt\n</code></pre> <p> Anda akan melihat bahwa tidak ada set variabel DISPLAY yang diperlukan untuk menjalankan aplikasi berbasis X (dan terlepas dari pengecualian yang jarang terjadi, yang kami gunakan hanya semacam itu). </p>\n\n<p> Anda harus meletakkan sesuatu seperti </p> <pre><code>export DISPLAY=:0.0\n</code></pre> <p> ke dalam naskah Anda dan memiliki peluang yang lebih baik. </p>","votes":"4","source":"https://superuser.com/a/1038538","author":"<a href=\"https://superuser.com/users/556625/gombai-s%c3%a1ndor\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gombai S&#225;ndor</span></a>","replies":[]},{"answer":"<p> Untuk melengkapi jawaban Gombai dengan instruksi: </p>\n\n<p> Jalankan <code>env | grep -i display</code> dan periksa nilai <code>DISPLAY</code>. Kemungkinannya adalah <code>:0.0</code>, atau <code>:0</code>. </p>\n\n<p> Ubah crontab Anda sesuai: </p> <pre><code>*/10 * * * * DISPLAY=:0 /bin/sh /home/tim/Dokumente/Scripts/wallpaper.sh\n</code></pre>","votes":"2","source":"https://superuser.com/a/1122245","author":"<a href=\"https://superuser.com/users/28302/gauthier\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gauthier</span></a>","replies":[]}]}
