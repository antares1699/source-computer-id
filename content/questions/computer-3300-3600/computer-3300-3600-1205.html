{"title":"Bagaimana melakukan SCP sebagai pengguna Sudo [duplikat]","draft":false,"url":"/bagaimana-melakukan-scp-sebagai-pengguna-sudo-duplikat-4f7wy5el","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["sudo","scp"],"snippet":"Kemungkinan Duplikat:    scp ke server jarak jauh dengan sudo    Apa cara terbaik untuk melakukan SCP dari satu kotak ke kotak lainnya sebagai pengguna sudo.Ada dua server  Server A  10.152.2.10  /home/oracle/export/files.txt  Pengguna:...","body":"<div>\r\n            \r\n\r\n    </div>\r\n\r\n<blockquote>\n  <p><strong> Kemungkinan Duplikat: </strong><br>\n  <a href=\"https://superuser.com/questions/138893/scp-to-remote-server-with-sudo\" target=\"_blank\" rel=\"nofollow noopener\"> scp ke server jarak jauh dengan sudo </a>  </p>\n</blockquote>\n\n\n\n<p> Apa cara terbaik untuk melakukan SCP dari satu kotak ke kotak lainnya sebagai pengguna sudo.\nAda dua server </p>\n\n<p> Server A </p>\n\n<p> 10.152.2.10 </p>\n\n<p> /home/oracle/export/files.txt </p>\n\n<p> Pengguna: terapkan </p>\n\n<p> Server B </p>\n\n<p> 10.152.2.11 </p>\n\n<p> / home / oracle / import / </p>\n\n<p> Pengguna: terapkan <br> Pengguna Sudo: / usr / local / bin / tester </p>\n\n<p> yang saya inginkan hanyalah menyalin file dari server A ke Server B sebagai pengguna sudo ... </p>\n\n<p> Untuk melakukan ini, pertama-tama saya biasanya masuk sebagai pengguna penerapan di server target dan kemudian beralih sebagai pengguna sudo tanpa kata sandi. </p>\n\n<p> setelah itu SCP untuk menyalin file, ini adalah cara normal saya melakukan aktivitas ini ... </p>\n\n<p> Untuk menjadi auotmate saya telah menulis naskah </p> <pre><code>#!/bin/sh\nssh deploy@lnx120 \nsudo /usr/local/bin/tester \"./tester/deploy.sh\"\n</code></pre> <p> Saya telah membuat kunci pribadi untuk pengguna penerapan, sehingga memungkinkan saya untuk masuk sebagai pengguna penerapan tanpa kata sandi. setelah itu perintah sudo dijalankan itu akan mengalihkan pengguna ke penguji ... </p>\n\n<p> setelah itu tidak ada yang terjadi .. maksud saya skrip tidak dieksekusi ... apakah ada cara untuk mencapai ini dengan cara yang berbeda ... </p>","source":"https://superuser.com/questions/87597/how-to-perform-scp-as-a-sudo-user","author":"<span itemprop=\"name\">Ramesh.T</span>","replies":[{"reply":"Harap klarifikasi / sederhanakan apa yang Anda coba lakukan. Saya menemukan penggunaan istilah &quot;pengguna sudo&quot; menjadi ambigu. Tampaknya Anda mencoba mengotomatiskan transfer scp, tetapi apa faktor pembatas lainnya?","author":"<a href=\"https://superuser.com/users/2489/pcapademic\" target=\"_blank\" rel=\"nofollow noopener\">pcapademic</a>"}],"answers":[{"answer":"<p> Anda dapat membuat pembungkus sekitar <code>ssh</code>, seperti ini: </p> <pre><code>#!/usr/bin/perl\nuse strict;\nmy $added = 0;\n$added ||= s/^scp /sudo $&amp;/ for @ARGV;\nexec \"ssh\", @ARGV;\n</code></pre> <p> Jadikan itu dapat dieksekusi, dan jalankan <code>scp</code> seperti ini: </p> <pre>scp -S ./ssh-wrapper somefile anotherfile hostname.domain.tld:path/</pre> <p> Ini hanya akan berfungsi jika <code>sudo</code> di server jarak jauh tidak memerlukan kata sandi (atau jika di-cache), tetapi lebih baik daripada tidak sama sekali. </p>","votes":"10","source":"https://superuser.com/a/87657","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user1686</span></a>","replies":[]},{"answer":"<p> Jika saya mengerti dengan benar, Anda memerlukan sudo karena file tersebut berada di suatu tempat yang tidak dapat diakses oleh pengguna biasa Anda? Dan Anda tidak memiliki kata sandi root, atau tidak ingin menggunakannya karena alasan tertentu? </p>\n\n<p> Salah satu solusinya adalah menyalin file ke lokasi di mana pengguna biasa Anda memiliki akses ke (dan jika perlu, ubah hak akses pada file juga), dan kemudian lakukan scp. </p>","votes":"0","source":"https://superuser.com/a/87596","author":"<a href=\"https://superuser.com/users/22153/zpon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">zpon</span></a>","replies":[{"reply":"SSH kemungkinan besar dinonaktifkan untuk root.","author":"<a href=\"https://superuser.com/users/8934/jeremy-l\" target=\"_blank\" rel=\"nofollow noopener\">Jeremy L</a>"}]}]}
