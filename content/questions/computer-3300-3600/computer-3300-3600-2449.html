{"title":"Tambahan tamu: Header kernel tidak ditemukan untuk kernel target","draft":false,"url":"/tambahan-tamu-header-kernel-tidak-ditemukan-untuk-kernel-target-umo9us98","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["linux","virtualbox","centos","kernel"],"snippet":"Saya mengalami kesulitan menginstal Penambahan Tamu di Oracle Linux 7. Saya memiliki VirtualBox versi 6.1.4.Saya memiliki tambahan tamu versi 6.0.4  Mesin memiliki versi kernel 4.14.35-1902.7.3.1. Saya berhasil menginstalnya dalam versi kernel...","body":"<p> Saya mengalami kesulitan menginstal Penambahan Tamu di Oracle Linux 7. Saya memiliki VirtualBox versi 6.1.4.\nSaya memiliki tambahan tamu versi 6.0.4 </p>\n\n<p> Mesin memiliki versi kernel 4.14.35-1902.7.3.1. Saya berhasil menginstalnya dalam versi kernel\n4.1.12-124.24.3 di atasnya. Untuk melakukannya, saya mengikuti instruksi dari halaman ini: <a href=\"https://www.thegeekdiary.com/centos-rhel-7-change-default-kernel-boot-with-old-kernel/\" rel=\"nofollow noopener\" target=\"_blank\"> https://www.thegeekdiary.com/centos-rhel-7-change-default-kernel-boot-with-old-kernel/ </a></p>\n\n<p> Langkah-langkah instalasi: </p> <pre><code>yum -y install kernel-uek-firmware-4.1.12-124.24.3.el6uek.noarch.rpm\nyum -y install kernel-uek-4.1.12-124.24.3.el6uek.x86_64.rpm\nyum -y install kernel-uek-devel-4.1.12-124.24.3.el6uek.x86_64.rpm\n\nawk -F\\' '$1==\"menuentry \" {print $2}' /etc/grub2.cfg\ngrub2-set-default 0 #depends on the above result\ngrub2-mkconfig -o /boot/grub2/grub.cfg\nAnd reboot.\n</code></pre> <p> Ketika saya menjalankan <code>uname -r</code> saya mendapatkan ini:\n4.1.12-124.24.3.el6uek.x86_64 </p>\n\n<p> Pada titik ini, semuanya baik-baik saja sampai saya harus menginstal Penambahan Tamu. </p>\n\n<p> Ketika saya menjalankan ./VBoxLinuxAdditions.run kesalahan ini dikembalikan: </p> <pre><code>Verifying archive integrity... All good.\nUncompressing VirtualBox 6.0.4 Guest Additions for Linux........\nVirtualBox Guest Additions installer\nRemoving installed version 6.1.4 of VirtualBox Guest Additions...\nCopying additional installer modules ...\nInstalling additional modules ...\nVirtualBox Guest Additions: Starting.\nVirtualBox Guest Additions: Building the VirtualBox Guest Additions kernel\nmodules.  This may take a while.\nVirtualBox Guest Additions: To build modules for other installed kernels, run\nVirtualBox Guest Additions:   /sbin/rcvboxadd quicksetup &lt;version&gt;\nVirtualBox Guest Additions: or\nVirtualBox Guest Additions:   /sbin/rcvboxadd quicksetup all\nVirtualBox Guest Additions: Kernel headers not found for target kernel\n4.1.12-124.24.3.el6uek.x86_64. Please install them and execute\n  /sbin/rcvboxadd setup\nmodprobe vboxguest failed\nThe log file /var/log/vboxadd-setup.log may contain further information.\n</code></pre> <p> Saya memutar ulang <code>/sbin/rcvboxadd setup</code> tetapi itu adalah pesan log yang sama.\nFile log baru saja menampilkan &quot;modprobe vboxguest gagal&quot;. Saya juga mengekspor variabel lingkungan KERN_DIR sebagai\n<code>/usr/src/kernels/4.1.12-124.24.3.el6uek.x86_64</code> </p>\n\n<p> Apa yang saya lakukan salah? Apakah ada yang tahu cara menginstalnya dengan benar?\nJika ada yang punya ide, saya akan sangat menghargai umpan balik. </p>","source":"https://superuser.com/questions/1532590/guest-additionals-kernel-headers-not-found-for-target-kernel","author":"<a href=\"https://superuser.com/users/1149509/dyno-sedano\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dyno Sedano</span></a>","replies":[],"answers":[{"answer":"<p> Pada VM CentOS 6 saya, paket pengembangan kernel tidak diinstal, jadi saya harus melakukan: </p> <pre><code>yum install kernel-devel\n</code></pre> <p> Ini, bagaimanapun, menciptakan ketidaksesuaian antara versi pengembangan kernel (<code>2.6.32-754.31.1.el6</code>) dan versi kernel sebenarnya (<code>2.6.32-754.el6</code>). Anda dapat memeriksa semua versi ini menggunakan <code>yum list kernel*</code>. Jadi, saya kemudian memperbarui versi kernel saya dan mem-boot ulang: </p> <pre><code>yum update kernel kernel-headers\nreboot now\n</code></pre> <p> Di sistem saya, file Penambahan Tamu <code>autorun.sh</code> masih belum selesai setelah ini, karena paket <code>gcc</code> hilang: </p> <pre><code>yum install gcc\n</code></pre> <p> Setelah menginstal <code>gcc</code>, penginstalan Penambahan Tamu berhasil, dan berlaku setelah boot ulang lagi. </p>","votes":"3","source":"https://superuser.com/a/1575263","author":"<a href=\"https://superuser.com/users/696225/squareskittles\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">squareskittles</span></a>","replies":[]},{"answer":"<p> berikut kode dari skrip Virtual Box: </p> <pre><code>        if test -d /lib/modules/\"$TARGET_VER\"/build; then\n            setup_modules \"$TARGET_VER\"\n            depmod\n        else\n            info \"Kernel headers not found for target kernel $TARGET_VER. [...]\n</code></pre> <p> Variabel <code>$TARGET_VER</code> didefinisikan sebagai: </p> <pre><code>test -z \"${TARGET_VER}\" &amp;&amp; TARGET_VER=`uname -r`\n</code></pre> <p> Jadi saya akan memeriksa apakah <code>/lib/modules/$(uname -r)/build</code> menunjuk ke direktori yang valid dengan sumber kernel ... </p>","votes":"2","source":"https://superuser.com/a/1546909","author":"<a href=\"https://superuser.com/users/1170015/oracleredwings\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">OracleRedWings</span></a>","replies":[]},{"answer":"<p> Saya tidak yakin, tetapi saya pikir meskipun Anda memuat kernel yang benar, file <strong> devel </strong> paket yang termasuk <strong> header </strong> karena versi kernel terbaru tidak kompatibel dengan kernel saat ini, periksa ini: </p> <pre><code>rpm -qa | grep kernel\n</code></pre> <p> Kemudian instal yang benar <strong> devel </strong> versi dan pastikan <strong> gcc </strong> dan <strong> membuat </strong> dipasang: </p> <pre><code>yum -y install gcc make\nyum -y install kernel-uek-devel-`uname -r`\n</code></pre> <p> jika repo tidak tersedia, jalankan ini sebelumnya </p> <pre><code>yum-config-manager --add-repo=yum.oracle.com/repo/OracleLinux/OL6/UEKR4/archive/x86_64\nsudo yum install -y kernel-uek-4.1.12-124.24.3.el6uek.x86_64\nsudo yum install -y kernel-uek-devel-4.1.12-124.24.3.el6uek.x86_64\n</code></pre>","votes":"1","source":"https://superuser.com/a/1532630","author":"<a href=\"https://superuser.com/users/934246/reda-salih\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Reda Salih</span></a>","replies":[{"reply":"Saya mencobanya dan tidak berhasil. <code>[root@devbox ~]# yum -y install kernel-uek-devel-`uname -r` Loaded plugins: langpacks, ulninfo No package kernel-uek-devel-4.1.12-124.24.3.el6uek.x86_64 available. Error: Nothing to do</code>","author":"<a href=\"https://superuser.com/users/1149509/dyno-sedano\" target=\"_blank\" rel=\"nofollow noopener\">Dyno Sedano</a>"},{"reply":"Coba tambahkan repo ini: <a href=\"http://yum.oracle.com/repo/OracleLinux/OL6/UEKR4/archive/x86_64/\" rel=\"nofollow noopener\" target=\"_blank\"> yum.oracle.com/repo/OracleLinux/OL6/UEKR4/archive/x86_64 </a>","author":"<a href=\"https://superuser.com/users/934246/reda-salih\" target=\"_blank\" rel=\"nofollow noopener\">Reda Salih</a>"}]},{"answer":"<p> Mari kita lihat pesannya: </p> <pre><code>VirtualBox Guest Additions: Kernel headers not found for target kernel\n5.3 (in may case).\n</code></pre> <p> itu <strong> kernel target </strong> adalah versi kernel yang digunakan OS.\nAnda bisa melihatnya dengan: </p> <pre><code>uname -r\n\n5.3\n</code></pre> <p> Itu <strong> header kernel </strong> dibuat oleh paket kernel-devel:\nAnda dapat melihat versi dari kernel-devel dengan: </p> <pre><code>dnf list kernel-level*\n\nkernel-devel.x86_64                             5.10\n</code></pre> <p> Saya memiliki header Kernel untuk kernel versi 5.10, tetapi kotak virtual mencoba menggunakan header untuk kernel versi 5.3. </p>\n<p> Anda harus mem-boot OS menggunakan kernel versi 5.10, bukan 5.3 </p>\n<p> untuk melihat apakah Anda memiliki kernel versión 5.10: </p> <pre><code>dnf list kernel-core*\n\nkernel-core.x86_64                             5.3                           @updates \nkernel-core.x86_64                             5.9                          @updates \nkernel-core.x86_64                             5.10\n</code></pre> <p> Itu ada. </p>\n<p> Sekarang Anda hanya perlu memperbarui grub2 agar dapat melihat versi kernel baru: </p> <pre><code>grub2-mkconfig –o /boot/grub2/grub.cfg\n\nreboot\n</code></pre> <p> Sekarang periksa lagi versi kernel mana yang digunakan OS: </p> <pre><code>  uname –r\n \n\n 5.10\n</code></pre> <p> ini memecahkan masalah saya. </p>","votes":"1","source":"https://superuser.com/a/1617989","author":"<a href=\"https://superuser.com/users/1262603/javiersandoval177\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">javiersandoval177</span></a>","replies":[]}]}
