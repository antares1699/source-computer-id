{"title":"Bagaimana saya bisa memasukkan nol pada bidang tertentu dalam file teks?","draft":false,"url":"/bagaimana-saya-bisa-memasukkan-nol-pada-bidang-tertentu-dalam-file-teks-qblfxon5","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["unix","sed","awk"],"snippet":"Saya punya file seperti ini:  123123213,456,be124243233,4346,ytr123123123,436535,uytr324234324,322,yt234324323,32,tyutr  Saya ingin mengosongkan bidang tengah untuk memberikan hasil:  123123213,00000456,be124243233,00004346,ytr123123123,00436535,uytr324234324,00000322,yt234324323,00000032,tyutr  Bagaimana cara membuat skrip yang akan melakukan ini?  Saya...","body":"<p> Saya punya file seperti ini: </p> <pre><code>123123213,456,be\n124243233,4346,ytr\n123123123,436535,uytr\n324234324,322,yt\n234324323,32,tyutr\n</code></pre> <p> Saya ingin mengosongkan bidang tengah untuk memberikan hasil: </p> <pre><code>123123213,00000456,be\n124243233,00004346,ytr\n123123123,00436535,uytr\n324234324,00000322,yt\n234324323,00000032,tyutr\n</code></pre> <p> Bagaimana cara membuat skrip yang akan melakukan ini? </p>\n\n<p> Saya telah melihat contoh seperti ini </p> <pre><code>awk '{ $6=sprintf(\"%06s\", $6); print $0}'\n</code></pre> <p> tetapi saya tidak benar-benar memahaminya dan karenanya tidak dapat membuatnya berfungsi. </p>","source":"https://superuser.com/questions/203153/how-can-i-zero-pad-a-particular-field-in-a-text-file","author":"<a href=\"https://superuser.com/users/53455/mattm123\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">mattm123</span></a>","replies":[],"answers":[{"answer":"<p> Coba ini: </p> <pre><code>awk -F , '{ printf \"%i,%08i,%s\\n\" , $1 , $2 , $3 }' file\n</code></pre>","votes":"8","source":"https://superuser.com/a/203159","author":"<a href=\"https://superuser.com/users/46005/cyrus\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">cYrus</span></a>","replies":[{"reply":"Oke, <code>-F ,</code> memberi tahu <code>awk</code> untuk menggunakan <code>,</code> sebagai pemisah bidang, lalu mencetak ketiga bidang (<code>$1</code>, <code>$2</code>, dan <code>$3</code>) dengan format khusus: <code>&quot;%i,%08i,%s\\n&quot;</code>, <code>%i</code> untuk bilangan bulat, <code>%08i</code> menyetel lebar bidang ke 8 padding kiri dengan nol dan <code>%s</code> untuk string. Untuk info lebih lanjut lihat <code>man printf</code> atau <a href=\"http://en.wikipedia.org/wiki/Printf\" rel=\"nofollow noopener\" target=\"_blank\"> sini </a> . Semoga ini bisa membantu Anda.","author":"<a href=\"https://superuser.com/users/46005/cyrus\" target=\"_blank\" rel=\"nofollow noopener\">cYrus</a>"},{"reply":"saya perlu mengubah pemisah koma menjadi cedilla menggunakan unput $ &#39;\\ xE7&#39; tetapi ketika saya menggunakan printf &quot;% i&quot; $ &#39;\\ xE7&#39; &quot;% 08i \\ n&quot;, $ 1, $ 2 hasilnya tidak benar. ada ide?","author":"<a href=\"https://superuser.com/users/53455/mattm123\" target=\"_blank\" rel=\"nofollow noopener\">mattm123</a>"},{"reply":"Sesuatu seperti: <code>awk -F , &#39;{ printf &quot;%i\\xe7%08i\\xe7%s\\n&quot; , $1 , $2 , $3 }&#39; file</code>?","author":"<a href=\"https://superuser.com/users/46005/cyrus\" target=\"_blank\" rel=\"nofollow noopener\">cYrus</a>"}]},{"answer":"<p> Karena Anda menandai pertanyaan Anda <code>[sed]</code>, berikut adalah versi <code>sed</code> berdasarkan skrip <a href=\"http://www.rtfiber.com.tw/~changyj/sed/html/p.20010907a.html\" rel=\"nofollow noopener\" target=\"_blank\"> sini </a> . </p> <pre><code>sed 's/[^,][^,]*/\\n0000000&amp;/2;s/\\n[^,]*\\(.\\{8\\}\\),/\\1,/' inputfile\n</code></pre> <p> Penjelasan: </p>\n\n<ul>\n<li> bidang terdiri dari sekelompok satu atau lebih non-koma: <strong> <code>[^,][^,]*</code> </strong> (ini juga bisa ditulis sebagai <strong> <code>[^,]\\+</code> </strong> ) </li>\n<li> substitusi bidang kedua (pertandingan) ( <strong> <code>s///2</code> </strong> ) baris baru, sekelompok angka nol dan konten pertandingan: <strong> <code>\\n0000000&amp;</code> </strong> (baris baru digunakan untuk menandai awal bidang untuk langkah berikutnya) </li>\n<li> sekarang cocokkan baris baru, nol atau lebih non-koma dan tepat delapan <strong> <code>\\{8\\}</code> </strong> karakter apa pun (menangkap karakter tersebut <strong> <code>\\(\\)</code> </strong> ) diikuti dengan koma </li>\n<li> gantikan karakter yang ditangkap <strong> <code>\\1</code> </strong> untuk pertandingan, ini menghapus baris baru sementara dan kelebihan nol </li>\n</ul>\n\n<p> Cara kerjanya adalah dengan menambahkan nol berlebih di awal bidang lalu memotong semua kecuali </p>","votes":"1","source":"https://superuser.com/a/203224","author":"<a href=\"https://superuser.com/users/310/dennis-williamson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dennis Williamson</span></a>","replies":[]},{"answer":"<p> perintah dalam pertanyaan Anda benar hanya perlu beberapa pembaruan. </p>\n\n<p> <code>awk '{ $6=sprintf(\"%0.8s\", $6); print $0}'</code> </p>\n\n<p> juga untuk mengubah penggunaan pemisah bidang keluaran: </p>\n\n<p> <code>awk '{ OFS=\"\\xE7\"; $6=sprintf(\"%0.8s\", $6); print $0}'</code> </p>","votes":"0","source":"https://superuser.com/a/1276398","author":"<a href=\"https://superuser.com/users/852328/harshal-zope\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Harshal Zope</span></a>","replies":[]}]}
