{"title":"eCryptfs dengan dropbox: harus dipasang ulang agar perubahan yang disinkronkan terlihat","draft":false,"url":"/ecryptfs-dengan-dropbox-harus-dipasang-ulang-agar-perubahan-yang-disinkronkan-terlihat-qqkqs5e5","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","dropbox","ecryptfs"],"snippet":"Saya bereksperimen dengan menggunakan eCryptfs di atas dropbox, dan saya mengalami beberapa masalah.  Sistem saya adalah GNU / Linux, tepatnya openSUSE 12.2.  Pengaturan saya adalah:Saya telah menyiapkan dua instance VirtualBox yang...","body":"<p> Saya bereksperimen dengan menggunakan eCryptfs di atas dropbox, dan saya mengalami beberapa masalah. </p>\n\n<p> Sistem saya adalah GNU / Linux, tepatnya openSUSE 12.2. </p>\n\n<p> Pengaturan saya adalah:\nSaya telah menyiapkan dua instance VirtualBox yang menjalankan openSUSE 12.2, sebut saja VM1 dan VM2. Dropbox, seperti biasa, menyinkronkan semua yang ada di ~ / Dropbox.\nUntuk membuat pengaturan eCryptfs saya, saya melakukan hal berikut pada kedua VM: </p> <pre><code>mkdir -m 500 ~/ecryptfs_upper\nmkdir -m 700 ~/Dropbox/ecryptfs_lower\nsudo mount -t ecryptfs Dropbox/ecryptfs_lower/ ecryptfs_upper/\n</code></pre> <p> Saya mengkonfigurasi eCryptfs dengan: </p> <pre><code>key type: passphrase\ncipher: aes\nkey bytes: 16\nplaintext passthrough: no\nfilename encryption: yes\n</code></pre> <p> Jika saya sekarang melanjutkan untuk membuat file di ~ / ecryptfs_upper di VM1, itu akan muncul dengan benar di VM2 juga. Namun ketika saya kemudian mengubah file ini pada satu VM, terkadang (sering tetapi tidak selalu karena alasan tertentu) tidak akan tampak diperbarui di VM lain. </p>\n\n<p> Jika saya memeriksa file yang mendasarinya di ~ / Dropbox / ecryptfs_lower pada dua VM, keduanya identik (sha256sum menghasilkan hash yang sama), jadi dropbox telah berhasil menyinkronkannya dengan benar. Tetapi file terkait di ~ / ecryptfs_upper masih berbeda! Saya harus melakukan umount lagi me-mount eCryptfs agar perubahannya muncul dengan benar. </p>\n\n<p> Masalahnya adalah ketika dropbox mengupdate file di direktori bawah eCryptfs, eCryptfs tidak melihat perubahannya. Agaknya eCryptfs mengasumsikan bahwa semua perubahan akan melalui proses mount. Untuk sebagian besar kasus penggunaan, itu jelas merupakan asumsi yang adil, tetapi ketika menggunakan eCryptfs untuk mengenkripsi penyimpanan cloud yang disinkronkan seperti dropbox, ini jelas merupakan masalah besar. </p>\n\n<p> Saya telah melihat beberapa orang menganjurkan menggunakan eCryptfs dengan dropbox, tetapi saya belum melihat masalah ini disebutkan. Adakah yang tahu tentang perbaikan (cara untuk mematikan cache yang tampaknya digunakan eCryptfs misalnya), atau beberapa alternatif untuk eCryptfs yang tidak akan mengalami masalah ini? </p>","source":"https://superuser.com/questions/545900/ecryptfs-with-dropbox-must-remount-for-synchronized-changes-to-be-visible","author":"<a href=\"https://superuser.com/users/155498/quantumboredom\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Quantumboredom</span></a>","replies":[],"answers":[{"answer":"<p> Melihat <a href=\"http://www.arg0.net/encfs\" rel=\"nofollow noopener\" target=\"_blank\"> encfs </a> sebagai alternatif dari eCryptfs. Itu tidak menderita dari masalah yang Anda gambarkan. </p>\n\n<p><a href=\"http://www.webupd8.org/2011/06/encrypt-your-private-dropbox-data-with.html\" rel=\"nofollow noopener\" target=\"_blank\"> Tutorial penyiapan EncFS / Dropbox </a></p>","votes":"3","source":"https://superuser.com/a/545932","author":"<a href=\"https://superuser.com/users/178910/hrunting\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">hrunting</span></a>","replies":[{"reply":"EncFS tampaknya tidak mengalami masalah ini, membuatnya jauh lebih cocok untuk tugas ini. Saya juga menemukan <a href=\"https://github.com/timoc/encfsbox\" rel=\"nofollow noopener\" target=\"_blank\"> github.com/timoc/encfsbox </a> , yang menyediakan mekanisme penanganan konflik yang bagus untuk kombinasi dropbox + EncFS, menjadikannya solusi yang sangat bagus.","author":"<a href=\"https://superuser.com/users/155498/quantumboredom\" target=\"_blank\" rel=\"nofollow noopener\">Quantumboredom</a>"},{"reply":"Di Windows, Mac, dan perangkat seluler, Anda dapat menggunakan <a href=\"https://www.boxcryptor.com/\" rel=\"nofollow noopener\" target=\"_blank\"> BoxCryptor </a> untuk mempermudah mengakses data yang dienkripsi.","author":"<a href=\"https://superuser.com/users/178910/hrunting\" target=\"_blank\" rel=\"nofollow noopener\">hrunting</a>"},{"reply":"Waspadai kelemahan kriptografi di EncFS jika Anda mengandalkannya untuk sesuatu yang kritis ( <a href=\"https://defuse.ca/audits/encfs.htm\" rel=\"nofollow noopener\" target=\"_blank\"> defuse.ca/audits/encfs.htm </a> ). Ada pekerjaan yang sedang dilakukan pada versi 2.0 yang mungkin atau mungkin tidak mengatasinya, tetapi belum ada rilis.","author":"<a href=\"https://superuser.com/users/517541/darrend\" target=\"_blank\" rel=\"nofollow noopener\">darrend</a>"}]},{"answer":"<p> Anda telah menemukan cacat desain pada eCryptfs di Linux. Tidak ada mekanisme untuk memberi tahu eCryptfs bahwa perubahan telah dilakukan ke cache halaman bawah, jadi ia tidak tahu apakah halaman telah berubah dari bawahnya. Mengubah file terenkripsi yang lebih rendah pada dudukan eCryptfs yang aktif adalah seperti membalik bit pada perangkat blok saat dipasang EXT4. EXT4 memiliki idenya sendiri tentang keadaan perangkat blok karena mengasumsikan itu satu-satunya hal yang mengacaukan perangkat blok, dan jika itu berubah dari bawahnya, semuanya bisa pergi ke selatan dengan cukup cepat. </p>","votes":"3","source":"https://superuser.com/a/546028","author":"<a href=\"https://superuser.com/users/195174/mike-halcrow\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mike Halcrow</span></a>","replies":[]},{"answer":"<p> Ini bukan solusi tapi jalan keluarnya. Diuji di Linux Mint 17 dan berfungsi dengan sempurna, tetapi juga berfungsi di distribusi Linux lain. </p> <pre>\n#!/bin/bash\n\nexport PATH=\"/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\"\n\nxhome=${HOME}\n\n# HOWTO\n#\n# Remove previous installation of Dropbox - all directories (~/.dropbox, ~/.dropbox-dist, ~/Dropbox) and in command line type:\n#\n# mkdir -p ${HOME}/.mount/dropbox\n# dd if=/dev/zero of=${HOME}/.mount/dropbox.img bs=4K count=2M # for 8GB\n# mkfs.xfs ${HOME}/.mount/dropbox.img # for XFS, but you can use your prefered FS, eg. EXT4\n# mkdir ${HOME}/bin\n#\n# Put this script to ${HOME}/bin\n#\n# chmod 0755 ${HOME}/bin/dropbox-mount.sh\n#\n# Add to /etc/sudoers line:\n#\n# YourUserName  ALL=NOPASSWD: /bin/mount\n#\n# Run this script: ${HOME}/bin/dropbox-mount.sh\n#\n# chown ( id -u ):( id -g ) ${HOME}/.mount/dropbox\n#\n# Next start Dropbox App and select ${HOME}/.mount/dropbox/ as a base directory,\n# Dropbox automatically will create ${HOME}/.mount/dropbox/Dropbox.\n#\n# IMPORTANT\n# Turn off Dropbox autostart in Dropbox preferences.\n# Add this script to system autostart (Setting->Startup Applications)\n\nxdropbox=\".mount/dropbox\"\nxdropbox_dir=\"${xhome}/${xdropbox}\"\nxdropbox_img=\"${xhome}/${xdropbox}.img\"\n\nif [ `mount | grep -c \"${xhome}/${xdropbox}\"` -eq 0 ]; then\n    sudo mount -o loop ${xdropbox_img} ${xdropbox_dir}\nfi\n\nsleep 10 && dropbox start &>/dev/null\n\nexit 0\n</pre>","votes":"0","source":"https://superuser.com/a/924736","author":"<a href=\"https://superuser.com/users/456093/siewa001\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">siewa001</span></a>","replies":[]}]}
