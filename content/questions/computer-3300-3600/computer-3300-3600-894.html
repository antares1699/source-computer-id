{"title":"Bagaimana Anda menyalin direktori di Linux dalam situasi ini menggunakan cp?","draft":false,"url":"/bagaimana-anda-menyalin-direktori-di-linux-dalam-situasi-ini-menggunakan-cp-kzgiha2r","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","bash","cp"],"snippet":"Situasi 1  Bagaimana cara menyalin /home/src/somedir ke /dest/ sedemikian rupa sehingga jalur selalu berakhir sebagai /dest/somedir, terlepas dari apakah /dest/somedir sudah ada?  Saya ingin menghindari berakhir dengan /dest/somedir/somedir.  Situasi 2  Bagaimana cara...","body":"<h1 class=\"h3\"> Situasi 1 </h1>\n\n<p> Bagaimana cara menyalin <code>/home/src/somedir</code> ke <code>/dest/</code> sedemikian rupa sehingga jalur selalu berakhir sebagai <code>/dest/somedir</code>, terlepas dari apakah <code>/dest/somedir</code> sudah ada? </p>\n\n<p> Saya ingin menghindari berakhir dengan <code>/dest/somedir/somedir</code>. </p>\n\n<h1 class=\"h3\"> Situasi 2 </h1>\n\n<p> Bagaimana cara menyalin semua yang ada di dalam <code>/home/src/somedir</code> hingga <code>/dest/</code> sehingga <code>/dest/somedir</code> tidak dibuat dan diabaikan jika sudah ada? </p>\n\n<hr>\n\n<p> Apakah ada aturan tentang garis miring yang dapat saya gunakan? Saya pikir diakhiri dengan garis miring berarti selalu menyalin isinya saja tetapi masih sering terjadi kesalahan bagi saya. </p>","source":"https://superuser.com/questions/1016843/how-do-you-copy-directories-in-linux-in-these-situations-using-cp","author":"<a href=\"https://superuser.com/users/504467/person\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Person</span></a>","replies":[{"reply":"apa yang secara spesifik Anda maksud dengan &quot;diabaikan&quot;? Anda ingin salinan dilanjutkan atau dibatalkan? <code>cp -r &#47;home&#47;src&#47;somedir &#47;dest&#47;</code> harus mengatasi kedua situasi tersebut, membuat atau menggabungkan ke dalam folder yang ada","author":"<a href=\"https://superuser.com/users/171793/frank-thomas\" target=\"_blank\" rel=\"nofollow noopener\">Frank Thomas</a>"},{"reply":"Apakah harus dengan <code>cp</code>? Mungkin ada opsi yang benar untuk <code>rsync</code> yang akan melakukan ini.","author":"<a href=\"https://superuser.com/users/155620/barmar\" target=\"_blank\" rel=\"nofollow noopener\">Barmar</a>"}],"answers":[{"answer":"<p> <code>cp</code> akan selalu menyalin file di awal perintah ke file atau direktori di akhir perintah. Garis miring tidak terlalu berpengaruh pada argumen, kecuali jika argumennya adalah symlink ke direktori. Kemudian garis miring akan memperlakukannya seperti direktori sementara menghilangkan garis miring akan menyalin tautan itu sendiri. </p>\n\n<p> Dengan asumsi Anda ingin secara rekursif menyalin setiap subdirektori dalam contoh Anda, Anda akan melakukannya seperti: </p> <pre><code>cp -r /home/src/somedir /dest\n</code></pre> <p> dan </p> <pre><code>cp -r /home/src/somedir/* /dest\n</code></pre> <p> Yang pertama mendapatkan direktori <code>/home/src/somedir</code> dan akan menyalin argumen itu, direktori itu sendiri dan semua isinya, ke argumen terakhir, <code>/dest</code>. Ini akan membuat direktori <code>somedir</code> pada <code>/dest</code> jika diperlukan dan menggunakannya jika sudah ada. </p>\n\n<p> Yang kedua menambahkan <code>*</code> ke akhir argumen pertama, yang akan diperluas oleh shell menjadi setiap file yang tidak dimulai dengan <code>.</code> pada <code>/home/src/somedir</code> dan akan menyalin semua file dan direktori tersebut ke <code>/dest</code> tanpa memperhatikan apa yang sudah ada (kecuali beberapa tanda ke <code>cp</code> akan membuatnya meminta untuk menimpa file yang akan memiliki tujuan yang sama dengan file yang sudah ada). </p>\n\n<p> Seperti yang ditunjukkan oleh komentar pada jawaban ini, ada masalah menggunakan <code>*</code> untuk mengambil semua file di direktori. Salah satu alternatifnya adalah menggunakan <code>tar</code> untuk melakukan penyalinan untuk Anda </p> <pre><code>tar -c -C /home/src/somedir . | tar -x -C /dest\n</code></pre> <p> ini akan membuat file tar <code>somedir</code> tanpa jalur utama dengan menggunakan <code>-C</code> untuk beralih ke direktori itu terlebih dahulu. Secara default <code>tar</code> akan mencetak ke <code>tar</code> yang kemudian akan kita pipa ke <code>tar</code> lain untuk mengekstraknya dengan beralih ke direktori <code>/dest</code> yang diinginkan terlebih dahulu. Ini juga akan mempertahankan banyak atribut file, yang juga dapat dilakukan oleh <code>cp</code>. </p>","votes":"7","source":"https://superuser.com/a/1016855","author":"<a href=\"https://superuser.com/users/433635/eric-renouf\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Eric Renouf</span></a>","replies":[{"reply":"Perlu dicatat bahwa ekspansi wildcard <code>*</code> akan gagal jika ada terlalu banyak kecocokan. Saya tidak tahu jumlah pastinya, tetapi terakhir kali gagal untuk saya, direktori berisi sekitar 100000 file / direktori.","author":"<a href=\"https://superuser.com/users/118683/aleks-g\" target=\"_blank\" rel=\"nofollow noopener\">Aleks G</a>"},{"reply":"Poin bagus, juga jika tidak ada file secara default akan mencoba menyalin file bernama <code>*</code>","author":"<a href=\"https://superuser.com/users/433635/eric-renouf\" target=\"_blank\" rel=\"nofollow noopener\">Eric Renouf</a>"},{"reply":"Memang, jadi dalam skrip tingkat produksi Anda akan menambahkan semua pemeriksaan ini.","author":"<a href=\"https://superuser.com/users/118683/aleks-g\" target=\"_blank\" rel=\"nofollow noopener\">Aleks G</a>"},{"reply":"Yap pasti ingin menghindari wildcard mengingat itu tidak menyalin file tersembunyi dan memiliki masalah dalam cara mengembang di shell.","author":"<a href=\"https://superuser.com/users/504467/person\" target=\"_blank\" rel=\"nofollow noopener\">Person</a>"},{"reply":"@AleksG dan @Person diberi pengamatan kesulitan dengan glob saya menyertakan alternatif yang tidak menggunakan <code>cp</code> tetapi harus menyelesaikan tugas","author":"<a href=\"https://superuser.com/users/433635/eric-renouf\" target=\"_blank\" rel=\"nofollow noopener\">Eric Renouf</a>"},{"reply":"Tidak bisakah Anda menggunakan tanda titik dengan <code>cp</code>, mis. <code>&#47;dir&#47;.</code> atau apakah saya salah paham?","author":"<a href=\"https://superuser.com/users/504467/person\" target=\"_blank\" rel=\"nofollow noopener\">Person</a>"},{"reply":"@Person Anda dapat melakukannya selama Anda menggunakan <code>-r</code> dengannya. Saya suka trik <code>tar</code>, karena Anda dapat memiliki sisi ekstrak di ujung lain dari pipa <code>ssh</code> untuk disalin ke server jarak jauh yang tidak mengaktifkan subsistem <code>scp</code> misalnya","author":"<a href=\"https://superuser.com/users/433635/eric-renouf\" target=\"_blank\" rel=\"nofollow noopener\">Eric Renouf</a>"}]},{"answer":"<blockquote>\n  <p> Bagaimana cara menyalin / home / src / somedir ke / dest / sehingga jalurnya selalu berakhir sebagai / dest / somedir, terlepas dari apakah / dest / somedir sudah ada? </p>\n</blockquote>\n\n<p> <code>cp -rv /home/src/somedir /dest</code> </p>\n\n<p> Kami menyalin «somedir» ke «/ dest», jadi kami berakhir dengan «/ dest / somedir» </p>\n\n<blockquote>\n  <p> Bagaimana cara menyalin semua yang ada di dalam / home / src / somedir ke / dest / sehingga / dest / somedir tidak dibuat dan diabaikan jika sudah ada? </p>\n</blockquote>\n\n<p> <code>cp -rv /home/src/somedir/* /dest</code> </p>\n\n<p> Kami menyalin «semua file di somedir» (<code>somedir/*</code>) ke «/ tujuan» </p>\n\n<p><em> Peringatan: somedir / * tidak menyertakan file tersembunyi (yang dimulai dengan titik). </em></p>\n\n<p> Garis miring terakhir tidak memengaruhi prosesnya. Anda mungkin bingung <code>cp</code> dengan <code>rsync</code>, di mana garis miring berarti &quot;salin konten, bukan folder&quot;. </p>","votes":"2","source":"https://superuser.com/a/1016932","author":"<a href=\"https://superuser.com/users/339931/%c3%81ngel\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">&#193;ngel</span></a>","replies":[{"reply":"Saya pikir jawaban ini tidak memiliki penjelasan tentang penggunaan titik trailing untuk menyalin file.","author":"<a href=\"https://superuser.com/users/504467/person\" target=\"_blank\" rel=\"nofollow noopener\">Person</a>"}]},{"answer":"<p> Pada sistem BSD, beri garis miring di akhir sumber: </p> <pre><code>cp -R src/ dest\n</code></pre> <p> Pada sistem GNU Linux, gunakan tanda -T: </p> <pre><code>cp -rT src dest\n</code></pre> <p> catat itu </p> <pre><code>cp src/* dest\n</code></pre> <p> harus dihindari, sebagian karena mengabaikan file titik tersembunyi, dan sebagian lagi karena perluasan glob dapat melebihi batas. </p>","votes":"1","source":"https://superuser.com/a/1575382","author":"<a href=\"https://superuser.com/users/1117895/xpusostomos\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">xpusostomos</span></a>","replies":[]}]}
