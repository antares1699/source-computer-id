{"title":"“Tidak ada rute ke host” saat mencoba menyambungkan ke layanan TCP di Oracle Cloud Intance","draft":false,"url":"/tidak-ada-rute-ke-host-saat-mencoba-menyambungkan-ke-layanan-tcp-di-oracle-cloud-intance-bzy1ffze","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["ubuntu-18.04","cloud"],"snippet":"Saya membuat instance Ubuntu di  Oracle Cloud Infrastructure (OCI)  . Saya dapat terhubung ke instance ini dengan SSH (TCP 22). Saya membuat beberapa layanan pada contoh ini, seperti siang hari (TCP 13),...","body":"<p> Saya membuat instance Ubuntu di <em> Oracle Cloud Infrastructure (OCI) </em> . Saya dapat terhubung ke instance ini dengan SSH (TCP 22). Saya membuat beberapa layanan pada contoh ini, seperti siang hari (TCP 13), mail (TCP 25), http (TCP 80), dns (TCP / UDP 53). Saya menambahkan aturan serupa ke <strong> Daftar Keamanan Default </strong> di halaman web manajemen OCI dari instance ini mirip dengan aturan SSH default. Namun, ketika saya mencoba menyambung ke <em> apa saja </em> layanan ini dari Internet saya mendapatkan kesalahan <code>No route to host</code>. Satu-satunya pengecualian adalah layanan SSH yang berfungsi tanpa masalah. </p>\n\n<p> Setelah saya menginstal <code>ufw</code> ke instance ini; Namun, kemudian saya menonaktifkan dan menghapus <code>ufw</code>. Setelah itu, saya juga menghapus paket <code>iptables</code>. Jadi, sekarang tidak ada firewall Linux sama sekali. Namun, saya masih memiliki masalah ini. </p>\n\n<p> Ini sepertinya masalah terkait OCI. Saya telah melakukan konfigurasi serupa di platform cloud lain (AWS, GCP, dll.) Tanpa masalah. </p>\n\n<p> Di mana lagi saya dapat mencari cara untuk mengisolasi masalah ini? </p>\n\n<hr>\n\n<p> Pembaruan: Menghapus iptables <strong> dan reboot </strong> memecahkan masalah. Sekarang saya akan mencoba menginstal ulang iptables. </p>","source":"https://superuser.com/questions/1487012/no-route-to-host-when-trying-to-connect-to-a-tcp-service-on-an-oracle-cloud-in","author":"<a href=\"https://superuser.com/users/981581/fedonkadifeli\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">FedonKadifeli</span></a>","replies":[],"answers":[{"answer":"<p> Saya menemukan masalah ini dengan Oracle Linux di awan Oracle. Ini memiliki seperangkat aturan pencekalan yang telah ditentukan sebelumnya. Jadi saya berhasil menghubungkan 22 port (ssh), tetapi mendapatkan &quot;No route to host&quot; mencoba menghubungkan port lain. <br> Anda perlu membuka port satu per satu: </p>\n\n<p> Mis, untuk Docker: </p> <pre><code>firewall-cmd  --permanent --zone=public --add-port=2377/tcp\nfirewall-cmd  --reload\n</code></pre> <p> Selain itu, Anda perlu menyiapkan daftar keamanan untuk jaringan cloud virtual. </p>","votes":"4","source":"https://superuser.com/a/1491549","author":"<a href=\"https://superuser.com/users/1100605/mentatxx\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">mentatxx</span></a>","replies":[]},{"answer":"<p> Bisa di jaringan atau di instance Linux. Dan jika di Linux, itu bisa menjadi iptables atau layanan. </p>\n\n<p> Untuk memulai dengan yang terakhir, dan karena Anda memiliki mail, coba di kotak Linux: </p> <pre><code>telnet 127.0.0.1 smtp\nhelo there\nquit\n</code></pre> <p> Apakah Anda melihat 220, 250 dan 221 pesan? Kemudian layanan email Anda berfungsi. Jika Anda mendapatkan <code>Connection refused</code>, maka layanan Anda tidak aktif dan berjalan. </p>\n\n<p> Selanjutnya, <code>iptables -nvL</code> akan memberi tahu Anda jika port terbuka untuk dunia luar. Jika Anda tidak membuat kepala -atau ekor output, </p> <pre><code>service iptables stop\n</code></pre> <p> harus menghentikan iptables, yang untuk pengujian mungkin dapat diterima. Anda mengatakan bahwa Anda telah menyingkirkan <code>ufw</code>, jadi saya asumsikan <code>sudo ufw disable</code> tidak diperlukan lagi. </p>\n\n<p> Jika, dengan iptables keluar, Anda masih tidak dapat terhubung, mungkin itu adalah pengaturan di cloud Amazon, yang saya tidak memiliki pengalaman. </p>","votes":"1","source":"https://superuser.com/a/1487020","author":"<a href=\"https://superuser.com/users/649035/ljm-dullaart\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ljm Dullaart</span></a>","replies":[{"reply":"Tidak ada masalah saat menyambung ke layanan secara lokal (<code>telnet 127.0.0.1 port_number</code> bekerja seperti yang diharapkan). Saya tidak dapat mengaksesnya dari Internet. <code>service iptables stop</code> tidak akan berfungsi (setidaknya di Ubuntu 18.04 ini memberikan <code>Failed to stop iptables.service: Unit iptables.service not loaded.</code>); ini bukan layanan.","author":"<a href=\"https://superuser.com/users/981581/fedonkadifeli\" target=\"_blank\" rel=\"nofollow noopener\">FedonKadifeli</a>"},{"reply":"Anda dapat mencoba reboot, yang terkadang membantu. Jika Anda bisa mendapatkan komputer lain di segmen jaringan yang sama, Anda dapat mencoba melakukan telnet dari sana. Namun sebaliknya, ini adalah masalah AWS.","author":"<a href=\"https://superuser.com/users/649035/ljm-dullaart\" target=\"_blank\" rel=\"nofollow noopener\">Ljm Dullaart</a>"}]},{"answer":"<p> Masalahnya tampaknya terkait dengan OCI yang tidak ingin Anda menggunakan <code>ufw</code> di Ubuntu: <a href=\"https://docs.cloud.oracle.com/iaas/Content/knownissues.htm#ufw\" rel=\"nofollow noopener\" target=\"_blank\"> https://docs.cloud.oracle.com/iaas/Content/knownissues.htm#ufw </a></p>\n\n<p> Saya harus menonaktifkan atau menghapus <code>ufw</code> dan mengedit file <code>/etc/iptables/rules.v4</code> seperti yang dijelaskan pada tautan yang diberikan di atas. Setelah itu, untuk mengaktifkan aturan baru, saya perlu menjalankan: </p> <pre><code># iptables-restore &lt;/etc/iptables/rules.v4\n</code></pre> <p> Tampaknya aturan <code>ufw</code> tidak berpengaruh apa pun dalam konfigurasi seperti itu dan saya <em> memiliki </em> untuk menggunakan <code>iptables</code>. Namun demikian, ini bukan cara yang sangat mudah digunakan untuk mengelola aturan firewall pada server Ubuntu pada platform OCI. </p>","votes":"1","source":"https://superuser.com/a/1487039","author":"<a href=\"https://superuser.com/users/981581/fedonkadifeli\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">FedonKadifeli</span></a>","replies":[]},{"answer":"<pre><code>nano /etc/iptables/rules.v4\n</code></pre> <p> Tambahkan di bawah garis </p> <pre><code>-A INPUT -p tcp -m state --state NEW -m tcp --dport 80 -j ACCEPT\n-A INPUT -p tcp -m state --state NEW -m tcp --dport 443 -j ACCEPT\n</code></pre> <hr> <pre><code>iptables-restore &lt; /etc/iptables/rules.v4\n</code></pre>","votes":"0","source":"https://superuser.com/a/1622730","author":"<a href=\"https://superuser.com/users/1048017/karthikeyan-s\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Karthikeyan s</span></a>","replies":[]}]}
