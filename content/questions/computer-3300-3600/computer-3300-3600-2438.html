{"title":"Cara mensimulasikan jaringan WAN","draft":false,"url":"/cara-mensimulasikan-jaringan-wan-uqcpgvox","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["networking","simulation","proxmox"],"snippet":"Saya telah mencoba mencari informasi tentang ini dan mungkin saya tidak tahu apa yang saya cari. Semua yang saya temukan adalah tentang simulasi kinerja yang buruk untuk menguji aplikasi; bukan itu yang...","body":"<p> Saya telah mencoba mencari informasi tentang ini dan mungkin saya tidak tahu apa yang saya cari. Semua yang saya temukan adalah tentang simulasi kinerja yang buruk untuk menguji aplikasi; bukan itu yang saya cari. </p>\n<p> Saya telah membangun lab untuk berlatih dan mengajarkan teknik Keamanan TI. Lab ini sepenuhnya internal tanpa konektivitas internet yang sebenarnya (kecuali jika saya memerlukannya untuk memperbarui sesuatu maka saya hanya mengganti antarmuka). </p>\n<p> Saya ingin memiliki satu VM di dalam lab ini yang memiliki IP &#39;publik&#39;. Misalkan 137.74.131 [.] 208 sebagai contoh. Saya ingin VM ini menyerang perangkat lain di lab saya sehingga firewall, SIEM, dll melihatnya sebagai IP eksternal dan bukan IP pribadi lainnya. </p>\n<p> Setup saya saat ini berjalan di dalam ProxMox dengan beberapa hal yang digabungkan oleh satu PfSense. Yaitu. </p>\n<p> PfSense dengan antarmuka LAN (10.10.10.x IP) dan WAN (192.168.1.x IP) masing-masing pada antarmuka vmbr1 dan vmbr0\nKali-linux (ditugaskan ke antarmuka vmbr0)\nServer IIS (ditugaskan ke antarmuka vmbr1, penerusan port melalui pfsense)\nworkstation, pengontrol domain, siem, dll dll (ditugaskan ke antarmuka vmrb1)\nDalam pengaturan saya saat ini, saya memiliki beberapa serangan otomatis yang bagus dari kotak kali, peringatan yang bagus, dan tempat yang bagus untuk belajar dan mengajar hal-hal tim IR dan Blue. Tetapi semua yang berbahaya muncul sebagai berasal dari 192.168.1.x. </p>\n<p> Saya telah melihat laboratorium tempat mereka mensimulasikan IP eksternal di jaringan mereka, tetapi saya tidak tahu bagaimana mereka melakukannya. Nasihat apa pun akan sangat dihargai. </p>","source":"https://superuser.com/questions/1577985/how-to-simulate-a-wan-network","author":"<a href=\"https://superuser.com/users/1209485/johnd\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">JohnD</span></a>","replies":[],"answers":[{"answer":"<p> Cara termudah adalahâ€¦ dengan menetapkan alamat ke antarmuka &quot;WAN&quot; Anda dengan cara yang persis sama seperti yang saat ini Anda tetapkan pada 192.168.1.x. </p>\n<p> Tentukan ukuran subnet apa pun yang Anda inginkan (katakanlah / 24), lalu tetapkan 137.74.131.208/24 ke Kali VM dan alamat lain dari subnet yang sama (misalnya 137.74.131.204) ke antarmuka pfSense WAN. </p>\n<br>\n<p> Alasan Anda tidak menemukan informasi apa pun adalah karena di sana <em> aku s </em> tidak ada yang bisa disimulasikan. Di tingkat teknis, ada <strong> tidak ada perbedaan </strong> antara alamat IP &quot;publik&quot; dan &quot;pribadi&quot; - keduanya dikonfigurasi dengan cara yang sama, dirutekan dengan cara yang sama, di-subnet dengan cara yang sama, dan seterusnya. </p>\n<p> Satu-satunya perbedaan hanyalah kebijakan: RIR dunia nyata akan menolak untuk menerbitkan alamat pribadi, ISP dunia nyata akan menolak untuk menerima rute pribadi di Internet publik. Tetapi karena Anda berada di jaringan yang terisolasi, Anda dapat melakukan apa pun yang Anda inginkan, dan itu termasuk langsung mengonfigurasi alamat apa pun di VM apa pun. </p>","votes":"7","source":"https://superuser.com/a/1577997","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user1686</span></a>","replies":[{"reply":"Terima kasih banyak! Saya berpikir untuk melakukan sesuatu yang mirip dengan itu. Katakanlah saya ingin jaringan target saya memiliki ip di subnet yang sama sekali berbeda dari penyerang. Bekerja Saya perlu menyiapkan 2 pfsense untuk kedua ujungnya? Bisakah mereka berbicara satu sama lain?","author":"<a href=\"https://superuser.com/users/1209485/johnd\" target=\"_blank\" rel=\"nofollow noopener\">JohnD</a>"},{"reply":"Ya, atur router kedua (pfSense atau yang lainnya), konfigurasikan rute dari satu router melalui yang lain, dan konfigurasikan rute ke arah yang berlawanan juga. Pada dasarnya itulah cara kerja Internet yang sebenarnya.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Saya memiliki 2 VM PfSense yang duduk di proxmox sekarang. Telah menebak bahwa mereka harus menggunakan antarmuka yang sama untuk WAN mereka. Saya menetapkan satu WAN dengan subnet 137.74.131.208/24 dan WAN lainnya dengan mengatakan 48.132.230.134/24. Untuk rute statis, pertama saya harus membuat gateway pada masing-masing? (di pfsense) Tapi, saya mendapatkan error karena mereka tidak berada dalam subnet yang sama. Ada petunjuk? Saya sudah mencoba untuk melakukan lebih banyak membaca tetapi masih sedikit bingung.","author":"<a href=\"https://superuser.com/users/1209485/johnd\" target=\"_blank\" rel=\"nofollow noopener\">JohnD</a>"},{"reply":"Jika kedua antarmuka WAN saling berhadapan maka keduanya harus berada di subnet yang sama. jika kamu mau <i> Kali </i> untuk menggunakan mis. 48.132.230.134, Anda dapat menggunakan kisaran ini untuk pfsense LAN yang baru. Jangan lupa matikan pfsense NAT. Tetapi jika Anda menginginkan pfsense baru <i> diri </i> untuk memiliki alamat WAN seperti ini, maka Anda memerlukan router ketiga di antaranya - yang lagi-lagi akan memiliki 137.x di satu sisi, 48.x di sisi lain.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Terima kasih! Saya hampir yakin saya membutuhkan router ketiga. Terima kasih banyak atas kesabaran Anda.","author":"<a href=\"https://superuser.com/users/1209485/johnd\" target=\"_blank\" rel=\"nofollow noopener\">JohnD</a>"},{"reply":"(Sejujurnya saya tidak begitu <i> Suka </i> menggunakan pfsense dalam situasi ini - yakin itu akan melakukan pekerjaan, tetapi NAT default-nya tidak diperlukan dan desakannya pada nama &quot;WAN&quot; dan &quot;LAN&quot; sama sekali tidak relevan dan mungkin banyak membingungkan. Mungkin akan merekomendasikan internet simulasi Anda untuk dibangun dari sesuatu yang lebih umum, seperti barebone Linux atau BSD atau RouterOS, dan hanya menyimpan satu pfSense yang Anda miliki di awal.)","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Saya tertarik untuk menggunakan lebih banyak router seperti OS, tetapi sebagian besar opsi tampaknya menambah kompleksitas ekstra untuk keahlian saya. Yang memang perlu tumbuh ... Saya akan melihat ke RouterOS. Terima kasih!","author":"<a href=\"https://superuser.com/users/1209485/johnd\" target=\"_blank\" rel=\"nofollow noopener\">JohnD</a>"},{"reply":"Yah, saya tidak selalu menyarankan &quot;lebih banyak router seperti&quot; OS melainkan &quot;kurang home-gateway seperti&quot; OS. (Misalnya, Debian Linux sama sekali bukan OS router, tapi menurut saya ini lebih cocok untuk mensimulasikan WAN daripada pfSense, justru karena tidak dibuat berdasarkan asumsi &#39;NAT gateway&#39;.)","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"}]}]}
