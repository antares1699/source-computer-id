{"title":"“Posisi riwayat di luar jangkauan” saat memanggil riwayat dari skrip bash","draft":false,"url":"/posisi-riwayat-di-luar-jangkauan-saat-memanggil-riwayat-dari-skrip-bash-kcfh5zw9","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["bash","command-history"],"snippet":"Saya ingin membuat skrip sederhana untuk menghapus baris dari bash_history, berdasarkan masukan pengguna dari nomor baris.  echo -n \"Delete History Line Number: \"read numhistory -d $num  Kesalahannya adalah &quot;posisi riwayat...","body":"<p> Saya ingin membuat skrip sederhana untuk menghapus baris dari <code>bash_history</code>, berdasarkan masukan pengguna dari nomor baris. </p> <pre><code>echo -n \"Delete History Line Number: \"\nread num\nhistory -d $num\n</code></pre> <p> Kesalahannya adalah &quot;posisi riwayat di luar rentang&quot; (yang seharusnya tidak terjadi, saya menggunakan angka dalam rentang). </p>\n\n<p> Mengapa ini tidak berhasil? </p>","source":"https://superuser.com/questions/649859/history-position-out-of-range-when-calling-history-from-bash-script","author":"<a href=\"https://superuser.com/users/257131/adam\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Adam</span></a>","replies":[{"reply":"Pertanyaan seperti ini akan dijawab di Stack Overflow, jika Anda menjelaskan masalah spesifiknya.","author":"<a href=\"https://superuser.com/users/222470/gparyani\" target=\"_blank\" rel=\"nofollow noopener\">gparyani</a>"},{"reply":"Apakah Anda mendapatkan keluaran kesalahan? Jika ya, secara spesifik apa?","author":"<a href=\"https://superuser.com/users/167288/nerdwaller\" target=\"_blank\" rel=\"nofollow noopener\">nerdwaller</a>"},{"reply":"Kesalahannya adalah &quot;riwayat posisi di luar rentang&quot; (yang seharusnya tidak terjadi, saya menggunakan angka dalam rentang)","author":"<a href=\"https://superuser.com/users/257131/adam\" target=\"_blank\" rel=\"nofollow noopener\">Adam</a>"},{"reply":"Anda harus membaca sumber bash untuk memecahkan teka-teki tersebut.","author":"<a href=\"https://superuser.com/users/102019/ott\" target=\"_blank\" rel=\"nofollow noopener\">ott--</a>"},{"reply":"Mengapa ini bukan tempat yang tepat untuk menanyakan pertanyaan ini? Ini spesifik dan singkat dan tampaknya memenuhi semua pedoman yang tercantum di sini: <a href=\"http://superuser.com/about\" target=\"_blank\" rel=\"nofollow noopener\"> superuser.com/about </a> .","author":"<a href=\"https://superuser.com/users/257131/adam\" target=\"_blank\" rel=\"nofollow noopener\">Adam</a>"}],"answers":[{"answer":"<p> Ada dua alasan mengapa skrip Anda tidak berfungsi sebagaimana mestinya: </p>\n\n<ol>\n<li> Lingkungan bash untuk skrip yang sedang berjalan adalah &quot;non-interaktif&quot; dan tidak mengaktifkan fitur riwayat. </li>\n<li> Lingkungan bash untuk skrip yang sedang berjalan tidak bergantung pada lingkungan tempat Anda bekerja secara interaktif. </li>\n</ol>\n\n<p> Bergantung pada kasus penggunaan Anda, solusi termudah mungkin menggunakan sumber skrip, bukan mengeksekusi. Lihat <a href=\"https://superuser.com/questions/176783/what-is-the-difference-between-executing-a-bash-script-and-sourcing-a-bash-scrip/176788#176788\" target=\"_blank\" rel=\"nofollow noopener\"> pos SU menjelaskan perbedaan sumber dan pelaksanaan </a> untuk informasi lebih lanjut. </p>","votes":"8","source":"https://superuser.com/a/649880","author":"<a href=\"https://superuser.com/users/39401/lesmana\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">lesmana</span></a>","replies":[]},{"answer":"<p> Melalui metode sumber kerjanya, </p>\n\n<p> saya <em> source_file.sh </em> berisi </p> <pre><code># cat /root/source_file.sh\n#!/bin/bash\nhistory -d $1\n</code></pre> <p> dan saya <em> master_file.sh </em> memiliki garis di bawah </p> <pre><code># cat /root/master_file.sh\n#!/bin/bash\nif [ \"$1\" == \"\" ]; then\necho -e \"Enter command number from history(syntax: source script_name.sh xxxx)\"\nelse\nsource /root/source_file.sh &amp;&amp; echo -e \"Line number $1 removed successfully\"\n</code></pre> <p> fi </p>\n\n<p> kita bisa menguji skripnya sekarang, </p> <pre><code># source /root/master_file.sh\nEnter command number from history(syntax: source script_name.sh xxxx)\n</code></pre> <p> oke mari tambahkan nomor baris </p> <pre><code># history | tail -n 10\n 1193  grep disable /etc/sysconfig/selinux\n 1194  grep enforce /etc/sysconfig/selinux\n 1195  sestatus\n 1196  arch\n 1197  uname -r\n 1198  uname -a\n 1199  history\n 1200  history | tail -n 10\n 1201  pwd\n 1202  history | tail -n 10\n</code></pre> <p> Mari hapus baris 1196 </p> <pre><code># source /root/master_file.sh 1196\nLine number 1196 removed successfully\n</code></pre> <p>  </p> <pre><code># history | tail -n 10\n 1194  grep enforce /etc/sysconfig/selinux\n 1195  sestatus\n 1196  uname -r\n 1197  uname -a\n 1198  history\n 1199  history | tail -n 10\n 1200  pwd\n 1201  history | tail -n 10\n 1202  source /root/master_file.sh 1196\n 1203  history | tail -n 10\n</code></pre>","votes":"0","source":"https://superuser.com/a/1021961","author":"<a href=\"https://superuser.com/users/267947/ranjithkumar-t\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ranjithkumar T</span></a>","replies":[]}]}
