{"title":"Mengapa kecocokan negatif saya tidak bekerja?","draft":false,"url":"/mengapa-kecocokan-negatif-saya-tidak-bekerja-7iuinutz","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["ssh","openssh"],"snippet":"Entri berikut pada /etc/ssh/sshd_config berfungsi seperti jimat:  Match User andreas    ForceCommand /bin/echo \"You are Andreas\"  Namun, jika saya mencoba menggantinya dengan kecocokan negatif, itu tidak menangkap pengguna andreas sama sekali:  Match User...","body":"<p> Entri berikut pada <code>/etc/ssh/sshd_config</code> berfungsi seperti jimat: </p> <pre><code>Match User andreas\n    ForceCommand /bin/echo \"You are Andreas\"\n</code></pre> <p> Namun, jika saya mencoba menggantinya dengan kecocokan negatif, itu tidak menangkap pengguna <code>andreas</code> sama sekali: </p> <pre><code>Match User !bob\n    ForceCommand /bin/echo \"You are not Bob\"\n</code></pre> <p> Tidak ada pesan kesalahan atau apa pun, itu terus berlanjut seolah-olah opsi konfigurasi tidak pernah disetel. </p>\n\n<p><a href=\"http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/sshd_config.5\" rel=\"nofollow noopener\" target=\"_blank\"> Menurut halaman manual </a> , pola negatif seharusnya berhasil: </p>\n\n<blockquote>\n  <p> Argumen untuk <code>Match</code> adalah satu atau lebih pasangan pola-kriteria atau satu token Semua yang cocok dengan semua kriteria. Kriteria yang tersedia adalah <code>User</code>, <code>Group</code>, <code>Host</code>, <code>LocalAddress</code>, <code>LocalPort</code>, dan <code>Address</code>. Pola pencocokan dapat terdiri dari entri tunggal atau daftar yang dipisahkan koma dan dapat menggunakan operator wildcard dan negasi yang dijelaskan dalam <a href=\"http://www.openbsd.org/cgi-bin/man.cgi/OpenBSD-current/man5/ssh_config.5?query=ssh_config&sec=5#x5041545445524e53\" rel=\"nofollow noopener\" target=\"_blank\"><strong> POLA </strong></a> bagian dari <code>ssh_config(5)</code>. </p>\n</blockquote>","source":"https://superuser.com/questions/952235/why-arent-my-negative-matches-working","author":"<a href=\"https://superuser.com/users/114760/iqandreas\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">IQAndreas</span></a>","replies":[{"reply":"sudahkah Anda mencoba menempatkan tanda kutip ganda di sekitar pengguna!","author":"<a href=\"https://superuser.com/users/478960/schwertspize\" target=\"_blank\" rel=\"nofollow noopener\">Schwertspize</a>"},{"reply":"@Schwertspize Baru saja mencobanya, masih tidak ada hasil (dan ya, saya memulai ulang <code>sshd</code> setelah membuat perubahan apa pun pada file konfigurasi).","author":"<a href=\"https://superuser.com/users/114760/iqandreas\" target=\"_blank\" rel=\"nofollow noopener\">IQAndreas</a>"}],"answers":[{"answer":"<p> saya menemukan <a href=\"https://serverfault.com/questions/44707/how-to-restrict-everyone-except-a-certain-group-in-ssh/44868#44868\" target=\"_blank\" rel=\"nofollow noopener\"> posting terkait ini tentang kesalahan server </a> . </p>\n\n<p> Ini adalah perilaku yang aneh tetapi Anda dapat mencoba: </p> <pre><code>Match User *,!bob\n    ForceCommand /bin/echo \"You are not Bob\"\n</code></pre> <p> Mengutip <a href=\"https://access.redhat.com/solutions/289073\" rel=\"nofollow noopener\" target=\"_blank\"> Topi merah </a> : </p>\n\n<blockquote>\n  <p> Untuk menggunakan negasi dalam mencocokkan blok bersyarat, ekspresi harus diawali dengan <code>*</code>.\n  Misalnya, diberikan bagian berikut di bawah <code>sshd_config</code>:\n  Mentah </p> <pre><code>Match Group *,!admin Address 192.168.1.1\n    ForceCommand /bin/false\n</code></pre> <p> Ini akan menolak koneksi dari <em> 192.168.1.1 </em> kepada siapa pun yang tidak di <em> admin </em> kelompok. Penolakan koneksi dicapai dengan menggunakan pernyataan <code>ForceCommand</code> yang menginstruksikan server sshd untuk menjalankan perintah dummy (<code>/bin/false</code>) dan segera keluar. </p>\n  \n  <h3 class=\"h5\"> Penyebab utama </h3>\n  \n  <p> Penyebab perilaku non-intuitif ini bergantung pada implementasi negasi di OpenSSH. </p>\n  \n  <p> Ref. <a href=\"https://bugzilla.mindrot.org/show_bug.cgi?id=1315\" rel=\"nofollow noopener\" target=\"_blank\"> https://bugzilla.mindrot.org/show_bug.cgi?id=1315 </a></p>\n</blockquote>","votes":"5","source":"https://superuser.com/a/952262","author":"<a href=\"https://superuser.com/users/399740/bufh\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">bufh</span></a>","replies":[{"reply":"Ini sangat membantu. Setelah menghabiskan berjam-jam membaca log akhirnya berhasil.","author":"<a href=\"https://superuser.com/users/292076/abrahamyan-samvel\" target=\"_blank\" rel=\"nofollow noopener\">Abrahamyan Samvel</a>"}]},{"answer":"<p> pertandingan negatif sayangnya rusak dan mudah-mudahan akan diperbaiki di openssh-7.0: </p>\n\n<p> Lihat bug ini: </p>\n\n<ul>\n<li><a href=\"https://bugzilla.mindrot.org/show_bug.cgi?id=2397\" rel=\"nofollow noopener\" target=\"_blank\"> https://bugzilla.mindrot.org/show_bug.cgi?id=2397 </a></li>\n<li><a href=\"https://bugzilla.mindrot.org/show_bug.cgi?id=1918\" rel=\"nofollow noopener\" target=\"_blank\"> https://bugzilla.mindrot.org/show_bug.cgi?id=1918 </a></li>\n</ul>","votes":"2","source":"https://superuser.com/a/952261","author":"<a href=\"https://superuser.com/users/466930/jakuje\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jakuje</span></a>","replies":[{"reply":"Sayangnya, pertandingan negatif masih belum berhasil di <code>OpenSSH_7.4p1</code>","author":"<a href=\"https://superuser.com/users/669131/maulinglawns\" target=\"_blank\" rel=\"nofollow noopener\">maulinglawns</a>"},{"reply":"Ya, ada beberapa masalah bagaimana melakukannya dengan benar. Lihat komentar terakhir di bug <a href=\"https://bugzilla.mindrot.org/show_bug.cgi?id=1918\" rel=\"nofollow noopener\" target=\"_blank\"> bugzilla.mindrot.org/show_bug.cgi?id=1918 </a> - di OpenSSH 7.6 harus datang dengan (semoga) status akhir.","author":"<a href=\"https://superuser.com/users/466930/jakuje\" target=\"_blank\" rel=\"nofollow noopener\">Jakuje</a>"}]}]}
