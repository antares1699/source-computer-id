{"title":"Apakah ada file yang tidak dapat dihapus di Linux?","draft":false,"url":"/apakah-ada-file-yang-tidak-dapat-dihapus-di-linux-v5qy82sf","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["unix"],"snippet":"Saya belum pernah melihat ini sebelumnya (20 tahun * nix). Saya telah mencoba untuk menyimpan hard drive saya (detail sesuai permintaan) dan cukup berhasil kecuali ada beberapa file yang terlihat seperti ini:...","body":"<p> Saya belum pernah melihat ini sebelumnya (20 tahun * nix). Saya telah mencoba untuk menyimpan hard drive saya (detail sesuai permintaan) dan cukup berhasil kecuali ada beberapa file yang terlihat seperti ini: </p> <pre><code>$ ls -al\n$ ?????????? ?    ?       ?      ? blah.txt\n</code></pre> <p> File ini tidak terpengaruh oleh rm, rm -f, shred, mv, chown, chmod, atau perintah lain yang dapat saya pikirkan. </p>\n\n<p> contoh </p> <pre><code># whoami\nroot\n\n# rm -f blah.txt\nrm: cannot remove `blah.txt': permission denied\n\n# ls -la blah.txt\n?????????? ?    ?       ?      ? blah.txt\n</code></pre> <p> Pada dasarnya sama untuk semua perintah di file ini. </p>\n\n<p> Ada ide? </p>","source":"https://superuser.com/questions/221413/are-there-undeleteable-files-in-linux","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">bev</span></a>","replies":[{"reply":"20 tahun Unix dan Anda belum pernah melihat sistem file yang rusak dan / atau HD yang rusak sebelumnya? Beruntungnya kamu.","author":"<a href=\"https://superuser.com/users/44473/janne-pikkarainen\" target=\"_blank\" rel=\"nofollow noopener\">Janne Pikkarainen</a>"},{"reply":"Ah, mungkin itu yang kupikir. Ya, saya rasa saya beruntung dalam hal itu. HD-nya tidak rusak, btw. Bekerja dengan baik.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Itu biasanya berarti bahwa nama file terdaftar di direktori, tetapi tidak dapat mengakses inode-nya. Mungkin ada nomor inode yang buruk di direktori atau inode pada disk mungkin telah rusak.","author":"<a href=\"https://superuser.com/users/2087/mark4o\" target=\"_blank\" rel=\"nofollow noopener\">mark4o</a>"}],"answers":[{"answer":"<p> Dapatkah Anda menunjukkan kepada kami hasil dari &#39;lsattr blah.txt&#39;? Itu akan memberi tahu kami flag khusus mana yang telah disetel file ini. </p>\n\n<p> Dapatkah Anda juga memeriksa di dmesg (log pesan debug kernel) untuk sesuatu yang baru (jalankan dmesg dua kali, sekali sebelum upaya Anda untuk menghapus file, sekali setelah itu, dan lihat apakah ada yang baru muncul di bagian bawah log). </p>\n\n<p> Contoh pesan kerusakan sistem file dapat terlihat seperti ini: </p> <pre><code>[86777.332361] EXT4-fs (dm-0): error count: 436\n[86777.332365] EXT4-fs (dm-0): initial error at 1290174395: ext4_mb_generate_buddy:726\n[86777.332367] EXT4-fs (dm-0): last error at 1292151653: ext4_mb_generate_buddy:726\n[86777.332419] EXT4-fs (dm-8): error count: 1406\n[86777.332423] EXT4-fs (dm-8): initial error at 1290623933: ext4_mb_generate_buddy:726\n[86777.332425] EXT4-fs (dm-8): last error at 1292168399: ext4_mb_generate_buddy:726\n</code></pre> <p> dan ini menunjukkan bahwa ~ 86777 detik sejak boot (bagian ini mungkin tidak ditampilkan di sistem Anda, ini tergantung pada pengaturan kernel) ada dua kesalahan yang berkaitan dengan sistem file EXT4 di mesin uji saya. </p>","votes":"1","source":"https://superuser.com/a/221443","author":"<a href=\"https://superuser.com/users/58991/qdot\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">qdot</span></a>","replies":[{"reply":"@qdot, terima kasih atas tipnya. Saya belum bisa mencobanya karena sesuatu yang saya coba menghilangkan masalah. Saya &#39;menyentuh&#39; file tersebut (saya sudah menyerah untuk memulihkan data) dan sekarang file tersebut hanya terlihat seperti file biasa tanpa konten. Saat saya menjelajahi fs saya, saya yakin bahwa saya akan melihat lebih banyak dari ini (sejauh ini 2), pada titik mana saya akan mencoba lsattr dan memposting hasilnya.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"@qdot - ok inilah hasilnya: lsattr: Operasi tidak didukung Saat membaca flag di blah.txt. TAPI, lsattr tidak mengembalikan info apa pun untuk file apa pun di sistem saya. Ia mengatakan: lsattr: ioctl tidak sesuai untuk perangkat Saat membaca bendera di &lt;setiap file&gt;. Jadi, baik lsattr tidak berfungsi pada reiserfs atau, hard-drive saya rusak tetapi tampaknya berfungsi dengan baik. Hmmmmm. Lihat dmesg sekarang.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"ReiserFS: peringatan: is_tree_node: node level 0 tidak sesuai dengan yang diharapkan 1 ReiserFS: sda3: peringatan: vs-5150: search_by_key: format tidak valid ditemukan di blok 869576. Fsck? ReiserFS: sda3: peringatan: vs-13070: reiserfs_read_locked_inode: terjadi kegagalan i / o saat mencoba mencari data stat [265071 265097 0x0 SD] ReiserFS: peringatan: is_tree_node: node level 0 tidak cocok dengan yang diharapkan 1 ReiserFS: sda3: peringatan: vs-5150: search_by_key: format tidak valid ditemukan di blok 869576. Fsck?","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Yah. Sepertinya ada masalah dengan struktur inode. Saya akan menjalankan fsck lagi.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Jalankan fsck --check yang sekarang memberi tahu saya bahwa ada banyak korupsi yang sedang terjadi dan saya perlu menjalankan fsck --rebuild-tree. Jadi, setelah mencadangkan partisi saya beberapa hari yang lalu, saya menjalankannya. Saya akan kembali kepada Anda tentang hasilnya.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Aku memperingatkanmu ...","author":"<a href=\"https://superuser.com/users/19279/jlliagre\" target=\"_blank\" rel=\"nofollow noopener\">jlliagre</a>"}]},{"answer":"<p> Sistem file Anda rusak. Fsck sepertinya akan membantu. </p>\n\n<p> edit: kecuali jika Anda menggunakan ReiserFS dalam hal ini fsck dapat merusaknya lebih lanjut ... </p>","votes":"7","source":"https://superuser.com/a/221419","author":"<a href=\"https://superuser.com/users/19279/jlliagre\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jlliagre</span></a>","replies":[{"reply":"Itu adalah hal pertama yang saya lakukan. Itu tidak mengembalikan blok yang buruk.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Tidak bisa menjadi yang lain. Pertimbangkan kembali kemungkinan itu. Namun, saya baru tahu Anda menggunakan ReiserFS. Ketahuilah bahwa ReiserFS fsck mungkin saja menghancurkan sistem file Anda. Itulah salah satu kekurangan desain ReiserFS ...","author":"<a href=\"https://superuser.com/users/19279/jlliagre\" target=\"_blank\" rel=\"nofollow noopener\">jlliagre</a>"},{"reply":"Salah satu kelemahan desain reiserfs adalah menjalankan reiserfsck dapat merusak sistem file? Itu bagus untuk diketahui (setelah, tentu saja, saya menjalankan reiserfsck di sistem file saya) saya akan mencoba mencari dokumentasi tentang itu. Beruntung saya mendukung semuanya 2 hari yang lalu. Oh - dan kamu benar. Saya menjalankan kembali fsck dan itu menunjukkan saya banyak masalah.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Dari <a href=\"http://en.wikipedia.org/wiki/ReiserFS\" rel=\"nofollow noopener\" target=\"_blank\"> en.wikipedia.org/wiki/ReiserFS </a> : Proses pembangunan kembali pohon fsck ReiserFS telah menarik banyak kritik: Jika sistem file menjadi sangat rusak sehingga pohon internalnya tidak dapat digunakan, melakukan operasi pembangunan kembali pohon dapat lebih merusak file yang ada atau memperkenalkan entri baru dengan konten yang tidak terduga","author":"<a href=\"https://superuser.com/users/19279/jlliagre\" target=\"_blank\" rel=\"nofollow noopener\">jlliagre</a>"},{"reply":"@jlligre - terima kasih untuk tautannya. Cukup menakutkan. Saya sedang memikirkan langkah saya selanjutnya. Saya telah mencadangkan seluruh partisi. Saya punya alasan untuk percaya bahwa hd fisik baik-baik saja, situasi saat ini karena saya mengotak-atik 2 hd eksternal setelah saya melakukan pencadangan (meskipun saya tidak melihat apa yang saya lakukan yang menyebabkan ini). Apakah Anda menyarankan saya merusak partisi dan memformat dengan ext3? terima kasih atas sarannya.","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"},{"reply":"Itulah yang akan saya lakukan setelah memeriksa ulang disk tidak memiliki masalah.","author":"<a href=\"https://superuser.com/users/19279/jlliagre\" target=\"_blank\" rel=\"nofollow noopener\">jlliagre</a>"}]},{"answer":"<p> <code>chattr +i file</code> membuat file sepenuhnya terlindungi dari penulisan, bahkan oleh root. Ini disebut kekal. Untuk menghapus atau memodifikasi, Anda harus membuatnya bisa berubah lagi sebelum <code>chattr -i file</code>. </p>","votes":"4","source":"https://superuser.com/a/221414","author":"<a href=\"https://superuser.com/users/13254/theomega\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">theomega</span></a>","replies":[{"reply":"terima kasih atas bantuannya, sayangnya, itu tidak berhasil. Inilah yang terjadi: $&gt; chattr -i blah.txt $&gt; chattr: Izin ditolak saat mencoba stat blah.txt","author":"<a href=\"https://superuser.com/users/56426/bev\" target=\"_blank\" rel=\"nofollow noopener\">bev</a>"}]}]}
