{"title":"dd - bagaimana cara mengekstrak sub-bagian dari file dengan 2 offset?","draft":false,"url":"/dd-bagaimana-cara-mengekstrak-sub-bagian-dari-file-dengan-2-offset-7ae0h9on","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","dd"],"snippet":"Saya memiliki file yang saya inginkan di mana offset byte awal adalah 3020852 dan offset byte akhir adalah 13973824.  Ada beberapa variasi dari perintah ini: dd ibs=X obs=Y skip=1 count=1 yang belum...","body":"<p> Saya memiliki file yang saya inginkan di mana offset byte awal adalah 3020852 dan offset byte akhir adalah 13973824. </p>\n\n<p> Ada beberapa variasi dari perintah ini: <code>dd ibs=X obs=Y skip=1 count=1</code> yang belum saya kerjakan. </p>","source":"https://superuser.com/questions/1039301/dd-how-to-extract-a-subsection-of-a-file-with-2-offsets","author":"<a href=\"https://superuser.com/users/248499/cmcdragonkai\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">CMCDragonkai</span></a>","replies":[{"reply":"Bagaimana kalau hanya menggunakan editor hex untuk memotong &amp; menempel bagian yang Anda inginkan?","author":"<a href=\"https://superuser.com/users/307834/xen2050\" target=\"_blank\" rel=\"nofollow noopener\">Xen2050</a>"}],"answers":[{"answer":"<p> Ada beberapa cara untuk melakukan ini, seperti yang bisa Anda baca <a href=\"https://unix.stackexchange.com/questions/47407/cat-line-x-to-line-y-on-a-huge-file\" target=\"_blank\" rel=\"nofollow noopener\"> pertanyaan serupa ini </a> . Saya akan memberi Anda pendekatan <code>head | tail</code> (menurut saya paling &quot;idiomatis&quot;) dan pendekatan <code>dd</code>. </p>\n\n<p> <code>head --bytes=&lt;end_offset&gt; in_file.bin | tail --bytes=&lt;end_offset - start_offset&gt; &gt; out_file.bin</code> </p>\n\n<p> Kalau tidak: </p>\n\n<p> <code>dd bs=1 skip=&lt;start_offset&gt; count=&lt;end_offset - start_offset&gt; &lt; in_file &gt; out_file.bin</code> </p>","votes":"5","source":"https://superuser.com/a/1039309","author":"<a href=\"https://superuser.com/users/352717/agtoever\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">agtoever</span></a>","replies":[{"reply":"seek = adalah untuk keluaran sehingga harus dilewati = sebagai gantinya.","author":"<a href=\"https://superuser.com/users/554702/tom-yan\" target=\"_blank\" rel=\"nofollow noopener\">Tom Yan</a>"},{"reply":"juga sufiks &quot;b&quot; berarti 512, bukan &quot;byte&quot;. jadi bs = 1b mungkin sama dengan bs = 512, yang tidak sesuai dalam kasus ini. seharusnya bs = 1c, atau cukup bs = 1 sebagai gantinya; bs = tetap menganggap nilai sebagai jumlah byte.","author":"<a href=\"https://superuser.com/users/554702/tom-yan\" target=\"_blank\" rel=\"nofollow noopener\">Tom Yan</a>"},{"reply":"iflag = skip_bytes, count_bytes daripada bs = 1 mungkin akan bekerja juga.","author":"<a href=\"https://superuser.com/users/554702/tom-yan\" target=\"_blank\" rel=\"nofollow noopener\">Tom Yan</a>"},{"reply":"@TomYan terima kasih atas sarannya. Saya mengedit jawabannya sesuai. Saya tetap menggunakan bs = 1 karena lebih jelas, lebih sering digunakan, dan lebih sedikit bertele-tele.","author":"<a href=\"https://superuser.com/users/352717/agtoever\" target=\"_blank\" rel=\"nofollow noopener\">agtoever</a>"},{"reply":"Masalah dengan menggunakan <code>bs=1</code> adalah itu akhirnya mentransfer 1 byte pada satu waktu, itu agak lambat.","author":"<a href=\"https://superuser.com/users/248499/cmcdragonkai\" target=\"_blank\" rel=\"nofollow noopener\">CMCDragonkai</a>"},{"reply":"Mungkin sesuatu seperti ini: <code>dd if=somefile of=somefile2 skip=100 count=100 iflag=skip_bytes,count_bytes</code>","author":"<a href=\"https://superuser.com/users/248499/cmcdragonkai\" target=\"_blank\" rel=\"nofollow noopener\">CMCDragonkai</a>"},{"reply":"@CMCDragonkai ya masalah kinerja bs = 1 adalah perhatian saya juga. Saya tidak yakin apakah itu ada pada akses tingkat sistem file seperti pada akses tingkat blok","author":"<a href=\"https://superuser.com/users/554702/tom-yan\" target=\"_blank\" rel=\"nofollow noopener\">Tom Yan</a>"},{"reply":"Performa <b> aku s </b> masalah membaca / menulis per byte. Saya tidak memiliki baris perintah yang tersedia saat ini. Mungkin menambahkan sufiks dengan fungsi lewati dan hitung? Jadi: <code>dd bs=1M skip=12345c count=67890c if=infile.bin of=outfile.bin</code> bekerja ???","author":"<a href=\"https://superuser.com/users/352717/agtoever\" target=\"_blank\" rel=\"nofollow noopener\">agtoever</a>"},{"reply":"Bagaimanapun, masalah kinerja dd juga menggarisbawahi pilihan head &amp; tail yang lebih jelas.","author":"<a href=\"https://superuser.com/users/352717/agtoever\" target=\"_blank\" rel=\"nofollow noopener\">agtoever</a>"}]},{"answer":"<p> Dengan bantuan dari @agtoever dan @ tom-yan, ini adalah cara tercepat untuk mencapai ini: </p> <pre><code>dd if=somefile of=somefile2 skip=$start_offset count=$(($end_offset-$start_offset)) iflag=skip_bytes,count_bytes\n</code></pre> <p> Saya membiarkan <code>bs</code> tidak ditentukan, tetapi dapat disetel ke apa saja. A 1MiB bs adalah aturan praktis yang baik. </p>\n\n<p> Terima kasih. </p>","votes":"2","source":"https://superuser.com/a/1039358","author":"<a href=\"https://superuser.com/users/248499/cmcdragonkai\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">CMCDragonkai</span></a>","replies":[]},{"answer":"<p> Jika alat yang ada gagal, tulis milik Anda sendiri: </p> <pre><code>#!/usr/bin/env python\nstart, end = 3020852, 13973824\nwith open(\"input.bin\", \"rb\") as inf:\n    with open(\"output.bin\", \"wb\") as outf:\n        inf.seek(start)\n        data = inf.read(end-start)\n        outf.write(data)\n        # just in case\n        assert(inf.tell() == end)\n</code></pre> <p> Ukuran totalnya tidak besar sehingga hanya membaca seluruh blok menjadi RAM sekaligus. Jika Anda ingin menyalin beberapa GB blok-demi-blok, Anda dapat melakukannya dengan cara ini: </p> <pre><code>#!/usr/bin/env python\nstart = 3020852\nend = 13973824\nsize = end - start\nbs = 32 &lt;&lt; 20   # (32 MB)\nwith open(\"input.bin\", \"rb\") as inf:\n    with open(\"output.bin\", \"wb\") as outf:\n        inf.seek(start)\n        while size &gt; 0:\n            data = inf.read(min(size, bs))\n            outf.write(data)\n            size -= len(data)\n        assert(inf.tell() == end)\n</code></pre>","votes":"1","source":"https://superuser.com/a/1039333","author":"<a href=\"https://superuser.com/users/1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">grawity</span></a>","replies":[]}]}
