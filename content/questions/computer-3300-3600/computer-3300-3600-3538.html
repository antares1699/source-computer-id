{"title":"TP-Link TL-SG108E - VLAN untuk memisahkan satu perangkat dari yang lainnya","draft":false,"url":"/tp-link-tl-sg108e-vlan-untuk-memisahkan-satu-perangkat-dari-yang-lainnya-jnjxejzx","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["networking","ethernet","switch","vlan"],"snippet":"Saya memiliki jaringan rumah tipikal yang terdiri dari router ASUS RT-N16 yang menjalankan DD-WRT, dan beberapa klien berkabel dan nirkabel. Yang baru di jaringan adalah Raspberry Pi yang akan digunakan oleh tim...","body":"<p> Saya memiliki jaringan rumah tipikal yang terdiri dari router ASUS RT-N16 yang menjalankan DD-WRT, dan beberapa klien berkabel dan nirkabel. Yang baru di jaringan adalah Raspberry Pi yang akan digunakan oleh tim untuk proyek sekolah yang sedang saya kerjakan. </p>\n\n<p> Pi diatur untuk menjalankan terowongan SSH terbalik ke server yang menghadap ke Internet sehingga siapa pun di Internet yang lebih luas dapat SSH ke perangkat di jaringan rumah saya. </p>\n\n<p> Karena Pi tersedia di Internet, dan juga di jaringan rumah saya, saya ingin memisahkannya dari semua perangkat saya yang lain di jaringan saya. Secara efektif, saya ingin Pi di satu sisi pagar, dan yang lainnya di sisi lain. Semua perangkat membutuhkan akses ke Internet. </p>\n\n<p> Pada awalnya, saya mencoba gagal untuk mengatur dua VLAN di router DD-WRT saya, tetapi setelah seharian bermain-main dan menjelajahi forum, sepertinya banyak orang mengalami masalah dengan bug firmware. Untuk membuat hidup saya lebih mudah, atau begitulah yang saya pikirkan, saya membeli TP-Link TL-SG108E &quot;Easy Smart Switch&quot; yang mengiklankan dukungan VLAN. Untuk kehidupan saya, saya tidak bisa membuatnya bekerja seperti yang saya harapkan! </p>\n\n<p> Di sakelar TP-Link: </p>\n\n<ul>\n<li> Port 1 - Pergi ke sakelar bawaan router </li>\n<li> Port 2-7 - Berbagai klien saya </li>\n<li> Port 8 - Raspberry Pi akan dipisahkan </li>\n</ul>\n\n<p> Pertama, saya mencoba mengatur VLAN Berbasis Port. Sepertinya saya tidak dapat menetapkan port 1 (router) ke dua VLAN sekaligus. </p>\n\n<p> Pengaturan VLAN Berbasis Port: </p>\n\n<p><a href=\"https://i.stack.imgur.com/EDPRc.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/EDPRc.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Jika saya memilih VLAN 2 untuk menyertakan port 1 juga, itu akan dihapus dari VLAN 1. </p>\n\n<p> Saya melanjutkan untuk mencoba mengatur VLAN berbasis tag 802.1Q. </p>\n\n<p> 802.1Q VLAN </p>\n\n<p><a href=\"https://i.stack.imgur.com/79fQP.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/79fQP.png\" alt=\"i.stack.imgur.com/79fQP.png\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Dengan PVID </p>\n\n<p> PVID </p>\n\n<p><a href=\"https://i.stack.imgur.com/5ItpX.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/5ItpX.png\" alt=\"i.stack.imgur.com/5ItpX.png\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Pengaturan ini tampaknya berfungsi ketika port 8 memiliki PVID yang berbeda dari 1 hingga 7, Pi tidak dapat dijangkau dari LAN saya, tetapi juga tidak dapat dijangkau dari Internet! Jika saya membuat router PVID 1, klien saya PVID 2, dan Pi PVID 3, tidak ada yang dapat berbicara dengan router sama sekali. </p>\n\n<p> Pada titik ini, saya bingung dan siap mengakui ketidaktahuan saya. Apa yang saya lakukan salah? </p>","source":"https://superuser.com/questions/1140071/tp-link-tl-sg108e-vlans-to-separate-one-device-from-all-others","author":"<a href=\"https://superuser.com/users/657763/troydowling\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">TroyDowling</span></a>","replies":[{"reply":"Switch tidak merutekan VLAN, ia hanya mendukung dan meneruskannya, router melakukan semua pekerjaan dan perlu memiliki 2 VLAN (Anda hanya perlu 2, VLAN1 default dan VLANx). VLAN1 tidak diberi tag pada port router, yang lain diberi tag pada port yang sama, dan sambungkan ini ke port salah satu sakelar. VLAN1 tidak diberi tanda pada port 1-7, VLANx diberi tanda pada saklar port 1 dan tidak diberi tanda pada 8. Ingat bahwa VLAN harus memiliki subnet unik dan router akan memiliki DUA alamat. Jika server memori saya benar, router Asus di bawah RT-N56 tidak melakukan VLAN dengan benar.","author":"<a href=\"https://superuser.com/users/494555/acejavelin\" target=\"_blank\" rel=\"nofollow noopener\">acejavelin</a>"},{"reply":"Gila. Itulah pemahaman asli saya ketika saya mencoba mengatur ini di RT-N16 dengan DD-WRT. Sepertinya mengubah pengaturan baik melalui GUI web, atau melalui utilitas nvram melalui SSH, tidak pernah mengubah perilaku router; itu selalu dioperasikan dengan satu subnet sederhana, satu server DHCP, dll. Saya menemukan ini menjadi hal yang berulang ketika menelitinya. Apakah ada cara lain untuk mengisolasi satu perangkat di jaringan saya?","author":"<a href=\"https://superuser.com/users/657763/troydowling\" target=\"_blank\" rel=\"nofollow noopener\">TroyDowling</a>"},{"reply":"Tidak bisakah Anda hanya mem-port forward 22 / TCP ke Pi dan membatasi akses di perangkat dengan akun atau rute, atau bahkan memodifikasi file host? Anda tidak akan mendapatkan 2 jaringan di satu lokasi dengan peralatan ini. Anda dapat menempatkan 2 router, dengan Pi di belakang yang pertama, dan semua perangkat lainnya di belakang yang kedua.","author":"<a href=\"https://superuser.com/users/494555/acejavelin\" target=\"_blank\" rel=\"nofollow noopener\">acejavelin</a>"},{"reply":"Masalahnya adalah router saya ada di belakang infrastruktur gedung sehingga penerusan port tidak memungkinkan. Itulah mengapa saya telah menggunakan tunneling terbalik. Menggunakan router tambahan adalah solusi yang layak! Saya memiliki beberapa peralatan cadangan yang dapat saya gunakan untuk tujuan itu. Saya kira saya hanya perlu berinvestasi dalam menyiapkan router yang lebih baik di masa depan.","author":"<a href=\"https://superuser.com/users/657763/troydowling\" target=\"_blank\" rel=\"nofollow noopener\">TroyDowling</a>"}],"answers":[{"answer":"<p> Pemisahan yang Anda minta adalah apa <em> VLAN Unit Multi-Penyewa </em> bagus untuk. Mengutip teks bantuan dalam konfigurasi sakelar: </p>\n\n<blockquote>\n  <p> MTU VLAN (Multi-Tenant Unit VLAN) mendefinisikan port uplink yang akan membangun beberapa VLAN dengan masing-masing port lainnya. Setiap VLAN berisi dua port, port uplink dan salah satu port lain di sakelar, sehingga port uplink dapat berkomunikasi dengan port lain tetapi port lain tidak dapat berkomunikasi satu sama lain. </p>\n</blockquote>\n\n<p> Jadi Anda bisa menggunakannya dan mengkonfigurasi port 1 sebagai port uplink. Sayangnya itu juga berarti bahwa port 2 hingga 7 tidak dapat berkomunikasi satu sama lain. </p>\n\n<hr>\n\n<p> Jika Anda memerlukan port 2 hingga 7 untuk berkomunikasi, Anda perlu melihat opsi lain, karena fitur VLAN Multi-Tenant Unit tampaknya tidak cukup fleksibel untuk memungkinkannya. </p>\n\n<p> VLAN berbasis port seperti yang Anda perhatikan juga tidak dapat melakukan apa yang Anda inginkan. </p>\n\n<p> Itu meninggalkan tag VLAN sebagai opsi terakhir Anda. Tetapi memiliki port menjadi anggota tanpa tanda di lebih dari satu VLAN bermasalah karena frame tanpa tanda yang dikirim ke sakelar dapat dimaksudkan untuk salah satu dari VLAN tersebut, dan sakelar tidak dapat mengetahuinya. </p>\n\n<p> Alih-alih, yang harus Anda lakukan adalah membuat port uplink ke router menjadi anggota yang tidak diberi tag dari tidak lebih dari satu VLAN dan anggota lainnya yang diberi tag. </p>\n\n<p> Di router itu sendiri, Anda juga perlu mengkonfigurasi tag VLAN yang sama sehingga router akan mengetahui dari VLAN mana paket berasal dan router dapat memberi tahu switch untuk VLAN paket itu. </p>\n\n<p> Pada router, ini akan terlihat seperti dua antarmuka jaringan virtual yang terhubung ke dua VLAN yang berbeda. Dan konfigurasi yang disarankan adalah membuat router menggunakan prefiks IP yang berbeda untuk dua VLAN. </p>","votes":"3","source":"https://superuser.com/a/1200286","author":"<a href=\"https://superuser.com/users/326546/kasperd\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">kasperd</span></a>","replies":[]},{"answer":"<p> Penyiapan yang Anda inginkan pasti dimungkinkan pada perangkat ini. &quot;Port Based VLAN&quot; tidak cukup karena tidak mengizinkan satu Port menjadi anggota beberapa VLAN. Dengan &quot;802.1Q&quot; ini dimungkinkan. Pengaturan saya, yang saya jalankan pada perangkat ini, kurang lebih identik dengan apa yang ingin Anda capai. </p>\n\n<p> Setup saya: </p> <pre><code>Portnum   Device     Member of VLAN   VLAN-ID INCOMING FRAMES GET ASSIGNED (PVID)\n--------|----------|----------------|-----------------------------------------\nPort 1     Router        1,2,3                        1                 \nPort 6    Device A        1,2                         2\nPort 7    Device B        1,3                         3\n</code></pre> <p> Dengan konfigurasi ini, Port 6 dan 7 dipisahkan satu sama lain. Keduanya dapat berkomunikasi dengan Port 1, tetapi tidak dengan satu sama lain. </p>\n\n<p> Penjelasan:\nFrame Ethernet yang memasuki Port 6 didorong ke VLAN 2. Karena Port 1 adalah anggota VLAN 2, mereka dapat keluar melalui port ini dan dengan demikian mencapai perangkat di belakangnya (Router). Mereka tidak dapat keluar melalui Port 7, karena ini bukan anggota VLAN 2. Ketika router ingin membalas, frame ethernet-nya, yang masuk melalui Port 1, didorong ke VLAN 1. Port 6 adalah bagian dari VLAN 1, maka mereka dapat pergi melalui pelabuhan ini. Mereka <em> bisa </em> keluar melalui Port 7, tetapi karena frame tidak membawa alamat MAC perangkat di belakangnya, switch tidak memiliki alasan untuk membuatnya melakukannya. </p>\n\n<p> Silakan temukan tangkapan layar dari pengaturan kerja saya di bawah ini. </p>\n\n<p><a href=\"https://i.stack.imgur.com/GIozx.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/GIozx.png\" alt=\"802.1Q VLAN page\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a>\n<a href=\"https://i.stack.imgur.com/ki91o.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/ki91o.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>","votes":"3","source":"https://superuser.com/a/1365716","author":"<a href=\"https://superuser.com/users/293465/multisync\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Multisync</span></a>","replies":[]}]}
