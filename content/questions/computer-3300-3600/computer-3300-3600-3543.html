{"title":"Isi baris terakhir hanya dengan kekosongan pada posisi tertentu","draft":false,"url":"/isi-baris-terakhir-hanya-dengan-kekosongan-pada-posisi-tertentu-tqd08gno","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["command-line","batch-file","sed"],"snippet":"Saya perlu mengisi baris terakhir file dengan spasi kosong hingga posisi 80, dan saya juga perlu memastikan itu selalu diakhiri dengan tidak ada yang baru  garis (CR / LF)  Informasi  Di  Windows...","body":"<blockquote>\n  <p><em> Saya perlu mengisi baris terakhir file dengan spasi kosong hingga posisi 80, dan saya juga perlu memastikan itu selalu diakhiri dengan tidak ada yang baru\n  garis (CR / LF) </em></p>\n</blockquote>\n\n<h2 class=\"h4\"> Informasi </h2>\n\n<p> Di <strong> Windows 10 </strong> di bawah <a href=\"http://ss64.com/bash/sed.html\" rel=\"nofollow noopener\" target=\"_blank\"> SED </a> digunakan untuk memformat ulang file sehingga <strong> <code>CRLF</code> </strong> berada pada posisi baris 80 dari setiap baris hingga EOF dan memperbarui file di tempat tetapi baris terakhir tidak pernah memiliki <strong> <code>CR</code> </strong> atau <strong> <code>LF</code> </strong> . </p>\n\n<p> File asli adalah string besar karakter yang dapat dicetak tanpa carriage return atau line feed di file ini sehingga semuanya dimulai pada baris nomor satu dan di bawahnya adalah <a href=\"http://ss64.com/bash/sed.html\" rel=\"nofollow noopener\" target=\"_blank\"> SED </a> Saya gunakan untuk memformatnya. </p> <pre><code>sed -i -e \"s/.\\{80\\}/&amp;\\r\\n/g\" \"C:\\Folder\\test.txt\"\n</code></pre> <hr>\n\n<h2 class=\"h4\"><strong> Masalah Saya </strong></h2>\n\n<p> Saya tidak tahu bagaimana membuat baris terakhir dari file ini diisi hingga posisi 80 dengan spasi kosong dan tidak ada jalur kembali. </p>\n\n<p> Saya sudah mencoba beberapa hal tetapi saya jauh dan lebih suka tidak mencantumkan semua hal yang telah saya coba jadi saya menunjukkan sintaks sed yang saya jalankan di atas untuk bagian itu. Saya yakin ada sesuatu yang sederhana yang saya abaikan. . . </p>\n\n<hr>\n\n<h2 class=\"h4\"><strong> Pilihan </strong></h2>\n\n<p> Saya lebih suka menggunakan <a href=\"http://ss64.com/bash/sed.html\" rel=\"nofollow noopener\" target=\"_blank\"> SED </a> untuk ini dan saya harus menjaga <strong> <code>CRLF</code> </strong> di baris lain di atas baris terakhir dalam format yang sama ini tetapi saya ingin melihat solusi Windows lainnya juga jika tidak terlalu rumit. </p>\n\n<hr>\n\n<h2 class=\"h4\"><strong> Pertimbangan </strong></h2>\n\n<p> Karakter baris terakhir dapat berupa 1 karakter, 79 karakter, hingga mungkin berpotensi 80 karakter di mana saya perlu memastikan tidak ada carriage return atau feed baris pada baris terakhir jika spasi non-putih mengisi ke posisi baris 80 di baris terakhir. </p>\n\n<p> Meskipun cuplikan layar berisi 91 baris, file ini dapat berisi lebih banyak baris atau lebih sedikit baris tetapi aturannya harus selalu sama; carriage return line feed di posisi 80 pada setiap baris dan baris terakhir harus tepat 80 posisi di atas mengisi dengan ruang putih jika diperlukan dan tidak ada carriage return atau line feed di atasnya. </p>\n\n<hr>\n\n<h2 class=\"h4\"> Format Data Titik Awal </h2> <pre><code>Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~EOL any legnth and no CR or LF\n</code></pre> <hr>\n\n<h2 class=\"h4\"> Format Data Akhir yang Diinginkan </h2>\n\n<p><sup> Saya tidak tahu bagaimana mengisi baris terakhir di file dengan ruang kosong tanpa CR atau LF di akhirnya ke posisi baris 80. </sup></p> <pre><code>Data*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nData*~123 dummydata Data*~123 dummydata Data*~123 dummydata Data**endoflinedata~[CR][LF]\nEOL any legnth less than 80 no CR or LF fill rest empty space to position 80---&gt;\n</code></pre> <p><strong> Peringatan: </strong> <em> Jika Anda menggunakan data di atas untuk mengujinya, pastikan untuk mengganti karakter literal <strong> <code>[CR][LF]</code> </strong> dengan apa yang seharusnya mereka wakili </em> . </p>","source":"https://superuser.com/questions/1129439/fill-the-last-line-up-with-nothing-but-emptiness-to-a-specific-position","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Drink More Pimp Juice IT</span></a>","replies":[{"reply":"(1) Untuk klarifikasi, apakah Anda mengatakan bahwa file input Anda hanyalah string besar karakter yang dapat dicetak, tanpa carriage return atau line feed? (2) Jika file masukan Anda terdiri dari kelipatan 80 karakter, maka perintah yang Anda tampilkan akan membiarkannya dengan <code>\\r\\n</code> sebagai dua karakter terakhir. Apa yang ingin Anda lakukan dalam kasus itu? Tinggalkan itu? Tambahkan 80 spasi? Hapus <code>\\r\\n</code>? Harap jangan menanggapi dalam komentar; <a href=\"https://superuser.com/posts/1129439/edit\" target=\"_blank\" rel=\"nofollow noopener\"> edit </a> pertanyaan Anda untuk membuatnya lebih jelas dan lebih lengkap.","author":"<a href=\"https://superuser.com/users/354511/g-man-says-reinstate-monica\" target=\"_blank\" rel=\"nofollow noopener\">G-Man Says &#x27;Reinstate Monica&#x27;</a>"}],"answers":[{"answer":"<p> Coba ini: </p> <pre><code>sed -i -e 's/.\\{80\\}/&amp;\\r\\n/g' \\\n  -e 's/$/################################################################################/' \\\n  -e 's/\\(\\r\\n.\\{80\\}\\)#*$/\\1/' \"C:\\Folder\\test.txt\"\n</code></pre> <p> (Saya telah memecah perintah menjadi beberapa baris\nhanya untuk keterbacaan dalam presentasi; Anda dapat melakukan semuanya dalam satu baris.)\n<code>s/$/###…###/</code> menambahkan 80 <code>#</code> karakter,\ndan kemudian <code>s/\\(\\r\\n.\\{80\\}\\)#*$/\\1/</code> mencari urutan ini: </p>\n\n<ul>\n<li> <code>\\r\\n</code> </li>\n<li> 80 karakter apa pun </li>\n<li> sejumlah <code>#</code>-an </li>\n<li> hingga akhir buffer </li>\n</ul>\n\n<p> dan menggantinya dengan grup yang dibentuk oleh dua peluru pertama.\nDengan kata lain,\nitu membuat <em> n </em> karakter yang merupakan baris terakhir file\ndan 80- <em> n </em> <code>#</code> karakter yang mengikutinya,\ndan membuang <em> n </em> <code>#</code> karakter yang mengikuti itu. </p>\n\n<p> Setelah Anda memverifikasi bahwa ini berfungsi,\ncukup ubah semua kemunculan <code>#</code> pada perintah di atas menjadi spasi. </p>\n\n<hr>\n\n<blockquote>\n  <h2 class=\"h4\"> Solusi Kerja Akhir OP </h2>\n  \n  <p><sup><strong> CATATAN: </strong> Garis <code>SET s10=</code> memiliki 10 ruang kosong di sebelah kanan tanda sama dengan. </sup> </p>\n  \n  <p><strong> Skrip Batch </strong></p> <pre><code>@ECHO ON\n\nSET File=C:\\Folder\\test.txt\n::: The below s10 variable equals ten white\\empty spaces - so it has 10 blank spaces in it\nSET s10=          \nSET s40=%s10%%s10%%s10%%s10%\nSET s80=%s40%%s40%\n\nsed -i -e \"s/.\\{80\\}/&amp;\\r\\n/g\" -e \"s/$/%s80%/\" -e \"s/\\(\\r\\n.\\{80\\}\\)\\s*$/\\1/\" \"%File%\"\nGOTO :EOF\n</code></pre> </blockquote>\n\n<hr>\n\n<p> Kami dapat membuat ini sedikit lebih mudah dibaca dan tidak terlalu membosankan untuk diketik. </p>\n\n<ol>\n<li><h2 class=\"h4\"> Sed murni </h2>\n\n<p> Jika teks Anda semuanya alfanumerik,\ndan ada beberapa karakter (seperti <code>@</code>)\nyang tidak akan pernah muncul di data Anda,\nmaka Anda dapat melakukan sesuatu seperti ini: </p> <pre><code>  -e 's/$/@@@@@@@@@@/' \\        # Append 10 @ characters to the line.\n  -e 's/@/        /g' \\         # Change each @ to eight spaces.\n</code></pre> <p> Jika Anda ingin membuat skrip Anda dapat dibaca dengan jelas,\ndengan biaya membuatnya lebih bertele-tele, ambillah satu langkah lebih jauh: </p> <pre><code>  -e 's/$/@@@@@@@@@@/' \\        # Append 10 @ characters to the line.\n  -e 's/@/@@@@@@@@/g' \\         # Change each @ to eight @s (there are now 80 @s).\n  -e 's/@/ /g'        \\         # Change each of the 80 @s to a space.\n</code></pre> <p> Jika tidak ada karakter tunggal yang tidak pernah muncul di data Anda,\ntetapi ada beberapa karakter (pendek) <em> urutan </em> , seperti <code>()</code>,\nyang tidak pernah muncul, Anda dapat menggunakan prinsip yang sama: </p> <pre><code>  -e 's/$/()()()()()()()()()()/' \\  # Append 10 () pairs to the line.\n  -e 's/()/        /g' \\            # Change each () to eight spaces.\n</code></pre> <p> Hati-hati saat berhadapan dengan karakter itu\nistimewa dalam ekspresi reguler; misalnya., <strong> <code>.</code> </strong> , <code>*</code>, <code>[</code>, <code>^</code>, <code>&amp;</code>, dll.\n(Dan jangan menyertakan <code>#</code>-komentar dalam skrip Anda di tempat-tempat itu;\nuntuk menghentikan perintah sederhana di beberapa baris,\n<code>\\</code> harus menjadi karakter terakhir di baris (sebelum baris baru)\ndan bukan dalam komentar.) <br><br></p></li>\n<li><h2 class=\"h4\"> Menggunakan cangkang </h2>\n\n<p> Prinsip yang sama: </p> <pre><code>#!/bin/sh\n      ︙\ns=\"          \"                  # Set $s to 10 spaces.\ns80=\"$s$s$s$s$s$s$s$s\"          # Set $s80 to 8 copies of $s; i.e., 80 spaces.\n      ︙\nsed -i -e 's/.\\{80\\}/&amp;\\r\\n/g' \\\n  -e 's/$/'\"$s80\"'/' \\\n  -e 's/\\(\\r\\n.\\{80\\}\\)\\s*$/\\1/' \"C:\\Folder\\test.txt\"\n</code></pre> </li>\n</ol>","votes":"6","source":"https://superuser.com/a/1129467","author":"<a href=\"https://superuser.com/users/354511/g-man-says-reinstate-monica\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">G-Man Says &#39;Reinstate Monica&#39;</span></a>","replies":[]}]}
