{"title":"autossh tidak berfungsi di latar belakang","draft":false,"url":"/autossh-tidak-berfungsi-di-latar-belakang-8ykmtjtu","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["ssh-tunnel"],"snippet":"Saya mencoba menyiapkan autossh untuk menjalankan terowongan ke server VPN saya. Jika saya menggunakan  autossh -M 0 -o \"ServerAliveInterval 30\" -o \"ServerAliveCountMax 3\" -R 10000:localhost:22 console@&lt;myvpnip&gt;  sepertinya bekerja dengan baik dan saya...","body":"<p> Saya mencoba menyiapkan autossh untuk menjalankan terowongan ke server VPN saya. Jika saya menggunakan </p> <pre><code>autossh -M 0 -o \"ServerAliveInterval 30\" -o \"ServerAliveCountMax 3\" -R 10000:localhost:22 console@&lt;myvpnip&gt;\n</code></pre> <p> sepertinya bekerja dengan baik dan saya bisa menggunakan terowongan. </p>\n\n<p> Namun, jika saya menambahkan bendera <code>-f</code> untuk dijalankan di latar belakang </p> <pre><code>autossh -f -M 0 -o \"ServerAliveInterval 30\" -o \"ServerAliveCountMax 3\" -R 10000:localhost:22 console@&lt;myvpnip&gt;\n</code></pre> <p> Saya mendapatkan yang berikut saat mencoba menggunakan terowongan. </p>\n\n<blockquote>\n  <p> Sambungan ditolak </p>\n</blockquote>\n\n<p> Apa yang terjadi disini? Apakah ada cara untuk mencatat kesalahan saat menjalankannya di latar belakang? </p>","source":"https://superuser.com/questions/1278583/autossh-not-working-in-background","author":"<a href=\"https://superuser.com/users/492021/ericksonla\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ericksonla</span></a>","replies":[],"answers":[{"answer":"<p> Apakah Anda bisa memasukkan kata sandi saat menggunakan bendera <code>-f</code>? Dari halaman manual autossh: </p>\n\n<blockquote>\n  <p> Perhatikan bahwa ada perbedaan penting antara -f dengan autossh, dan -f dengan ssh: ketika digunakan dengan autossh ssh tidak akan dapat meminta kata sandi atau frasa sandi </p>\n</blockquote>\n\n<p> Anda masih dapat menggunakan bendera <code>-f</code>, tetapi kemudian Anda tidak dapat menggunakan otentikasi kata sandi. Sebagai gantinya gunakan <a href=\"https://www.debian.org/devel/passwordlessssh\" rel=\"nofollow noopener\" target=\"_blank\"> otentikasi kunci publik </a> dengan file <code>authorized_keys</code> di server VPN. Maka itu harus bekerja dengan <code>autossh -f -M 0 -N -o \"ServerAliveInterval 30\" -o \"ServerAliveCountMax 3\" -R 10000:localhost:22 console@&lt;myvpnip&gt;</code>. Perhatikan opsi <code>-N</code> tambahan ke <code>ssh</code>, berguna untuk hanya meneruskan port. </p>\n\n<p> Anda seharusnya dapat melihat info debug dengan <code>tail -f /var/log/syslog</code> atau dengan <code>journalctl -f</code>. </p>","votes":"3","source":"https://superuser.com/a/1278610","author":"<a href=\"https://superuser.com/users/853809/tuntap\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">tuntap</span></a>","replies":[{"reply":"Saya sudah mematikan kata sandi dan kunci autentikasi diaktifkan, tapi itu pemikiran yang bagus. Namun, syslog adalah sumber yang bagus, terima kasih!","author":"<a href=\"https://superuser.com/users/492021/ericksonla\" target=\"_blank\" rel=\"nofollow noopener\">ericksonla</a>"}]},{"answer":"<p> Ternyata saya butuh bendera lagi. Saya pikir masalahnya adalah saya perlu menekan beberapa data pengembalian yang tidak diinginkan (seperti memberi saya baris perintah). Ini bekerja dengan baik dengan ini </p> <pre><code>autossh -M 0 -o \"ServerAliveInterval 30\" -o \"ServerAliveCountMax 3\" -fN -T -R 10000:localhost:22 console@&lt;myvpnip&gt;\n</code></pre>","votes":"3","source":"https://superuser.com/a/1278614","author":"<a href=\"https://superuser.com/users/492021/ericksonla\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ericksonla</span></a>","replies":[]}]}
