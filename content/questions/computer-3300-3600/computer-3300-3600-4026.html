{"title":"HDD &amp; SSD Linux: Tautan pengaturan ulang yang keras","draft":false,"url":"/hdd-amp-ssd-linux-tautan-pengaturan-ulang-yang-keras-kh92qkqt","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","hard-drive","ssd","raid","luks"],"snippet":"pengaturan penyimpanan saya saat ini terdiri dari dua HDD tradisional dan dua SSD di kotak Linux saya, masing-masing dua pada array RAID 1 mereka sendiri yang dienkripsi melalui luks. Saya memiliki semacam...","body":"<p> pengaturan penyimpanan saya saat ini terdiri dari dua HDD tradisional dan dua SSD di kotak Linux saya, masing-masing dua pada array RAID 1 mereka sendiri yang dienkripsi melalui luks. Saya memiliki semacam cerita, bukan pertanyaan konkret. </p>\n\n<p> Selama lebih dari setahun sekarang, saya secara acak mendapatkan kesalahan &quot;tautan pengaturan ulang keras&quot; di log kernel dari beberapa drive saya. Saya akan RMA drive masalah, dan drive baru akan menyebabkan masalah berhenti. Beberapa bulan kemudian, saya akhirnya akan mulai melihat kesalahan yang sama lagi pada waktu yang tampaknya acak. Drive akan ditandai sebagai gagal dalam RAID dan tidak lagi muncul pada <code>fdisk -l</code>. Saya akan me-reboot komputer dan drive akan muncul lagi dan saya dapat menambahkan kembali ke array dan itu akan membangun kembali. Cepat atau lambat masalah itu akan terjadi lagi, biasanya beberapa jam kemudian. </p>\n\n<p> Sekitar enam bulan yang lalu, saya mengganti dua HDD tradisional dengan SSD dengan harapan mereka tidak akan memiliki tingkat kegagalan setinggi drive tradisional. Namun, selama beberapa hari terakhir saya mulai mengalami masalah dengan salah satu SSD baru dan salah satu drive tradisional. </p>\n\n<p> Saya mulai melihat sebuah pola muncul. Saya mendapatkan drive baru, beberapa bulan kemudian saya mulai mengalami masalah dengannya. Saya selalu berasumsi itu karena HDD memiliki tingkat kegagalan yang tinggi, tetapi sekarang ini terjadi dengan SSD jadi saya pikir itu bukan kesalahan drive. Apa lagi yang bisa menjadi masalah? Saya telah menginstal beberapa OS sejak saya mulai mengalami masalah, jadi saya ingin mengesampingkan masalah perangkat lunak. Ini menyisakan kabel SATA, atau motherboard. Mungkinkah enkripsi disk terlalu membebani drive? Adakah yang bisa saya lakukan untuk mengetahui info lebih lanjut? Terima kasih seperti biasa. </p>\n\n<p> Di bawah ini adalah keluaran <code>dmesg</code> masalah dari pertanyaan yang saya ajukan beberapa bulan yang lalu ketika saya mengalami masalah yang sama. </p> <pre><code>[43161.734107] ata3: ATA_REG 0x41 ERR_REG 0x84\n[43161.734110] ata3: tag : dhfis dmafis sdbfis sactive\n[43161.734113] ata3: tag 0x0: 1 1 0 1  \n[43161.734123] ata3.00: exception Emask 0x1 SAct 0x1 SErr 0x180000 action 0x6 frozen\n[43161.734127] ata3.00: Ata error. fis:0x21\n[43161.734130] ata3: SError: { 10B8B Dispar }\n[43161.734134] ata3.00: failed command: READ FPDMA QUEUED\n[43161.734142] ata3.00: cmd 60/08:00:a8:03:00/00:00:00:00:00/40 tag 0 ncq 4096 in\n[43161.734144]          res 41/84:04:a8:03:00/84:00:00:00:00/40 Emask 0x10 (ATA bus error)\n[43161.734148] ata3.00: status: { DRDY ERR }\n[43161.734150] ata3.00: error: { ICRC ABRT }\n[43161.734155] ata3: hard resetting link\n[43161.734158] ata3: nv: skipping hardreset on occupied port\n[43162.220095] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43162.260202] ata3.00: model number mismatch 'WDC WD2002FAEX-007BA0' != 'C WD2002FAEX-007BA0                   �'\n[43162.260206] ata3.00: revalidation failed (errno=-19)\n[43162.260211] ata3.00: limiting speed to UDMA/133:PIO2\n[43167.220123] ata3: hard resetting link\n[43167.220127] ata3: nv: skipping hardreset on occupied port\n[43167.710060] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43167.750228] ata3.00: model number mismatch 'WDC WD2002FAEX-007BA0' != 'C WD2002FAEX-007BA0                   �'\n[43167.750232] ata3.00: revalidation failed (errno=-19)\n[43167.750236] ata3.00: disabled\n[43172.710100] ata3: hard resetting link\n[43173.620110] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43173.640455] ata3.00: failed to IDENTIFY (INIT_DEV_PARAMS failed, err_mask=0x80)\n[43178.620116] ata3: hard resetting link\n[43179.530113] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43179.550748] ata3.00: ATA-8: WDC WD2002FAEX-007BA0, 05.01D05, max UDMA/133\n[43179.550753] ata3.00: 3907029168 sectors, multi 16: LBA48 NCQ (depth 31/32)\n[43179.570208] ata3.00: model number mismatch 'WDC WD2002FAEX-007BA0' != 'C WD2002FAEX-007BA0                   �'\n[43179.570213] ata3.00: revalidation failed (errno=-19)\n[43179.570220] ata3: limiting SATA link speed to 1.5 Gbps\n[43179.570224] ata3.00: limiting speed to UDMA/133:PIO3\n[43184.530066] ata3: hard resetting link\n[43184.530070] ata3: nv: skipping hardreset on occupied port\n[43185.020091] ata3: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43185.060949] ata3.00: configured for UDMA/133\n[43185.060969] sd 2:0:0:0: [sdd]  Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE\n[43185.060974] sd 2:0:0:0: [sdd]  Sense Key : Aborted Command [current] [descriptor]\n[43185.060980] Descriptor sense data with sense descriptors (in hex):\n[43185.060983]         72 0b 47 00 00 00 00 0c 00 0a 80 00 00 00 00 00 \n[43185.060995]         00 00 03 a8 \n[43185.061000] sd 2:0:0:0: [sdd]  Add. Sense: Scsi parity error\n[43185.061006] sd 2:0:0:0: [sdd] CDB: Read(10): 28 00 00 00 03 a8 00 00 08 00\n[43185.061017] end_request: I/O error, dev sdd, sector 936\n[43185.061023] Buffer I/O error on device sdd, logical block 117\n[43185.061044] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061048] sd 2:0:0:0: killing request\n[43185.061062] ata3: EH complete\n[43185.061075] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061123] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061134] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061140] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061145] sd 2:0:0:0: [sdd] READ CAPACITY(16) failed\n[43185.061147] sd 2:0:0:0: [sdd]  Result: hostbyte=DID_NO_CONNECT driverbyte=DRIVER_OK\n[43185.061152] sd 2:0:0:0: [sdd] Sense not available.\n[43185.061155] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061166] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061175] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061185] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061193] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061198] sd 2:0:0:0: [sdd] READ CAPACITY failed\n[43185.061202] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061209] sd 2:0:0:0: [sdd]  Result: hostbyte=DID_NO_CONNECT driverbyte=DRIVER_OK\n[43185.061215] sd 2:0:0:0: [sdd] Sense not available.\n[43185.061226] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061235] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061245] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061254] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061263] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061274] sd 2:0:0:0: rejecting I/O to offline device\n[43185.061280] sd 2:0:0:0: [sdd] Asking for cache data failed\n[43185.061283] sd 2:0:0:0: [sdd] Assuming drive cache: write through\n[43185.061289] sdd: detected capacity change from 2000398934016 to 0\n[43185.061610] ata3.00: detaching (SCSI 2:0:0:0)\n[43185.062444] sd 2:0:0:0: [sdd] Stopping disk\n[43249.120042] ata4.00: exception Emask 0x0 SAct 0x0 SErr 0x0 action 0x6 frozen\n[43249.120046] ata4.00: failed command: FLUSH CACHE EXT\n[43249.120051] ata4.00: cmd ea/00:00:00:00:00/00:00:00:00:00/a0 tag 0\n[43249.120052]          res 40/00:00:00:4f:c2/00:00:00:00:00/00 Emask 0x4 (timeout)\n[43249.120054] ata4.00: status: { DRDY }\n[43249.120059] ata4: hard resetting link\n[43249.120060] ata4: nv: skipping hardreset on occupied port\n[43249.610042] ata4: SATA link up 3.0 Gbps (SStatus 123 SControl 300)\n[43249.650323] ata4.00: configured for UDMA/133\n[43249.650326] ata4.00: retrying FLUSH 0xea Emask 0x4\n[43249.650452] ata4.00: device reported invalid CHS sector 0\n[43249.650458] ata4: EH complete\n</code></pre>","source":"https://superuser.com/questions/464642/hdd-ssd-linux-hard-resetting-link","author":"<a href=\"https://superuser.com/users/92344/shanet\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">shanet</span></a>","replies":[],"answers":[{"answer":"<p> Anda punya pertanyaan di sini. Saya pikir (jika saya mengerti dengan benar) bagaimana proses untuk menentukan apa yang menyebabkan kegagalan ini? </p>\n\n<p> Saya seorang Network Security Engineer. Jadi pahamilah saya ngeri saat mengetik ini. Hilangkan ini sebagai masalah kripto. Dekripsi drive dan lihat apakah Anda masih mengalami masalah. Sisi negatifnya adalah Anda harus menggunakannya selama beberapa bulan untuk didekripsi. </p>\n\n<p> Kabel adalah pengujian sederhana (dan Anda harus memulainya terlebih dahulu). Tukar mereka keluar, tapi saya sulit percaya itu masalahnya kecuali Anda memiliki lampu neon di dalam casing Anda. </p>\n\n<p> Itu meninggalkan mobo. Jika bukan dua lainnya ... </p>\n\n<p> Saya yakin seseorang akan ikut campur jika mereka tidak setuju dengan pemecahan masalah saya. Tidak mahal untuk mengganti kabel, dan menonaktifkan enkripsi untuk sementara adalah risiko keamanan yang hanya Anda yang dapat menentukan apakah Anda bersedia menerimanya. </p>","votes":"3","source":"https://superuser.com/a/464644","author":"<a href=\"https://superuser.com/users/55945/everett\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Everett</span></a>","replies":[{"reply":"Terima kasih balasannya. Ya, pertanyaan saya adalah bagaimana saya bisa mengetahui mengapa semua drive ini terus gagal pada saya. Mobo saya telah bersama saya sejak 2008 ketika saya membangun sistem ini. Saya bertanya-tanya apakah itu merasakan efek dari usia tua. Empat tahun tidaklah setua itu. Saya memiliki tiga lampu katoda dingin dalam kasus saya. Saya belum pernah mendengar yang menyebabkan masalah dengan kabel. Info lebih lanjut tentang ini? Saya memiliki beberapa kabel SATA cadangan yang tergeletak di sekitar. Saya akan menukarnya dan mengubah port SATA di mobo saya. Saya juga bisa mematikan katoda dingin.","author":"<a href=\"https://superuser.com/users/92344/shanet\" target=\"_blank\" rel=\"nofollow noopener\">shanet</a>"},{"reply":"Saya benar-benar ingin menghindari dekripsi drive, terutama jika saya harus melakukan RMA di masa mendatang. Meskipun, saya dapat mengambil drive cadangan, meletakkan sistem file yang tidak terenkripsi di dalamnya, dan meminta tugas cron untuk menulis data acak ke sana untuk beberapa saat setiap hari dan melihat apa yang terjadi.","author":"<a href=\"https://superuser.com/users/92344/shanet\" target=\"_blank\" rel=\"nofollow noopener\">shanet</a>"},{"reply":"Saya bekerja di toko tempat kami memasang lampu katoda dingin di mesin (semua anak kewl melakukannya;) Suatu hari kami menyetel salah satu pengatur waktu telur yang kami gunakan di sebelah salah satu lampu yang menyala. Untuk mengatakan timer menjadi bat shiat gila gila akan meremehkan. Kami menemukan bahwa lampu mengeluarkan RF dalam jumlah besar. Ini menyebabkan beberapa masalah yang kami lihat. Bisa jadi koneksi yang rusak, atau produk yang dibuat dengan buruk, atau mungkin sudah lama ... Saya dapat mengatakan bahwa sejak itu saya tidak pernah meletakkannya di komputer ...","author":"<a href=\"https://superuser.com/users/55945/everett\" target=\"_blank\" rel=\"nofollow noopener\">Everett</a>"},{"reply":"Menarik. Saya sangat suka case lighting jadi saya sudah memiliki orang-orang ini di sini sejak 2008 juga ketika saya membangun sistem. Saya akan meninggalkannya sebentar dan melihat apa yang terjadi. Terima kasih atas bantuan Anda, saya tidak akan pernah memikirkan kemungkinan gangguan dari katoda dingin.","author":"<a href=\"https://superuser.com/users/92344/shanet\" target=\"_blank\" rel=\"nofollow noopener\">shanet</a>"},{"reply":"Catatan, saya tidak menjamin itu mereka, hanya mengatakan itu mungkin, mungkin juga menghilangkannya. Senang bisa melayani.","author":"<a href=\"https://superuser.com/users/55945/everett\" target=\"_blank\" rel=\"nofollow noopener\">Everett</a>"}]},{"answer":"<p> Sepertinya Anda mengalami banyak kesalahan pada tautan SATA Anda. Akibatnya, tuan rumah tidak bisa mendapatkan perintah dengan andal di seluruh tautan, dan jika demikian terkadang data yang dikembalikan rusak. </p>\n\n<p> Anda melihat bahwa dalam pesan bahwa kecepatannya terbatas, atau pengenal drive yang diharapkan tidak diterima. Anda juga melihat pesan membingungkan dari berbagai lapisan driver yang tidak mencerminkan apa yang terjadi pada tingkat perangkat keras SATA. Misalnya, &quot;membatasi kecepatan ke UDMA / 133: PIO3&quot; hanya berlaku untuk drive ATA paralel (itu hanya berarti pengemudi mencoba kecepatan antarmuka yang lebih lambat untuk melihat apakah kesalahan teratasi), tetapi pesan kesalahan dengan jelas menunjukkan bahwa yang terendah tingkat yang sebenarnya berhubungan dengan perangkat keras memahami itu berbicara dengan drive SATA. </p>\n\n<p> Pemikiran Anda bahwa mungkin kabel SATA itu bagus. Cobalah menggantinya, dan pastikan nilainya untuk SATA 3.0 Gb / sec (juga disebut &quot;SATA 2&quot; atau &quot;SATA II&quot;). Saya tidak berpikir drive Anda adalah masalahnya. Mengapa perlu waktu beberapa bulan agar kesalahan muncul setelah Anda mengganti drive? Mungkin kabel-kabelnya terlepas entah bagaimana dan mengganti drive mengulanginya. Atau mungkin itu hanya kebetulan saja. </p>","votes":"3","source":"https://superuser.com/a/643575","author":"<a href=\"https://superuser.com/users/253066/tenner\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">tenner</span></a>","replies":[{"reply":"Terimakasih atas infonya. Saya sejak itu meningkatkan ke motherboard baru dan kabel SATA baru dan tidak memiliki masalah lagi, tetapi saya pikir masalahnya adalah pengontrol SATA yang buruk pada mobo saya sebelumnya. Saya memiliki masalah dengan beberapa port SATA, tetapi tidak dengan yang lain.","author":"<a href=\"https://superuser.com/users/92344/shanet\" target=\"_blank\" rel=\"nofollow noopener\">shanet</a>"}]}]}
