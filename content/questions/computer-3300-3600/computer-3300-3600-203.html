{"title":"Bagaimana cara cepat memformat HDD dengan bad sector (di linux)?","draft":false,"url":"/bagaimana-cara-cepat-memformat-hdd-dengan-bad-sector-di-linux-exkhilya","votes":"4","answers_count":"5","categories":["Komputer"],"tags":["hard-drive","formatting","bad-sectors","bad-blocks"],"snippet":"Saya memiliki HDD SATA, yang memiliki sektor buruk. Saya tidak membutuhkan datanya, dan perlu memformat HDD untuk membuat perangkat baru.  Saya mencoba memperbaiki masalah HDD dengan perintah seperti  fsck.ext4 -p /dev/sda1  tetapi...","body":"<p> Saya memiliki HDD SATA, yang memiliki sektor buruk. Saya tidak membutuhkan datanya, dan perlu memformat HDD untuk membuat perangkat baru. </p>\n\n<p> Saya mencoba memperbaiki masalah HDD dengan perintah seperti </p> <pre><code>fsck.ext4 -p /dev/sda1\n</code></pre> <p> tetapi perlu waktu lama untuk memperbaiki sektor tersebut. Saya memformat seluruh HDD, tetapi masih memiliki masalah. Apakah ada cara cepat untuk memformat HDD dan memulihkan bad sector? </p>","source":"https://superuser.com/questions/665214/how-to-quickly-format-a-hdd-with-bad-sectors-in-linux","author":"<a href=\"https://superuser.com/users/97939/googlebot\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Googlebot</span></a>","replies":[],"answers":[{"answer":"<p> Tidak, tidak ada cara cepat. Umumnya, ketika Anda memiliki disk dengan beberapa sektor buruk, Anda harus menimpa total konten disk Anda, dengan perintah yang mirip dengan ini: </p>\n\n<p> <code>dd bs=512k if=/dev/zero of=/dev/...</code> </p>\n\n<p> Ini akan memakan waktu (biasanya 2-3 jam). Melakukan ini akan memberi disk Anda kesempatan untuk menangani bad sector. Disk modern (dibuat dalam ~ 15 tahun terakhir) menangani sektor buruk secara internal, secara transparan memetakan ulang sektor-sektor tersebut dari sekumpulan sektor yang dicadangkan selama penulisan. Jadi pada akhirnya, Anda harus memiliki disk dengan semua sektor yang dapat digunakan. Jika disk tidak dapat melakukan pemetaan ulang ini, biasanya itu berarti ada begitu banyak sektor buruk yang kehabisan sektor yang dicadangkan. Ini adalah indikasi yang jelas bahwa disk telah mencapai akhir masa pakainya. </p>","votes":"6","source":"https://superuser.com/a/665223","author":"<a href=\"https://superuser.com/users/259578/laszlo-valko\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Laszlo Valko</span></a>","replies":[]},{"answer":"<p> Sektor buruk (sektor adalah istilah lama, saat ini &#39;blok&#39; lebih umum digunakan) pada HDD berarti satu atau lebih blok buruk di luar spesifikasi pada area permukaan magnet disk. Satu-satunya cara untuk menemukan blok tersebut adalah dengan mencoba membaca setiap blok pada hard drive. HDD lambat sehingga akan memakan banyak waktu. </p>\n\n<p> Misalnya, HDD modern memiliki throughput baca dunia nyata sekitar 130 MB / dtk, sehingga disk 4TB modern akan membutuhkan sekitar 4000000MB / 130MB / dtk = 8,5 jam bahkan untuk membaca seluruh disk sekali tanpa blok yang buruk. Drive dengan satu atau lebih blok buruk akan menyebabkan drive mencoba membaca ulang blok itu berulang kali sehingga throughput akan sangat terganggu. Itu akan memungkinkan Anda untuk melakukannya <em> menemukan </em> blok buruk yang menyebabkan kesalahan baca. Membuat HDD modern apa pun untuk memetakan ulang blok yang buruk membutuhkan penulisan <em> sesuatu </em> untuk <em> bahwa </em> blok buruk. </p>\n\n<p> Satu-satunya cara untuk benar-benar menguji apakah satu blok permukaan HDD berfungsi dengan membaca blok itu, lalu menuliskannya kembali, dan kemudian melihat apakah drive masih menyatakan semuanya baik-baik saja <em> untuk blok itu </em> . Blok biasanya berukuran 512 byte, tetapi drive modern menggunakan blok 4KB secara internal. Drive 4TB modern membutuhkan pengujian sekitar satu miliar (1e9) blok 4KB. Dan apakah saya menyebutkan bahwa HDD lambat? </p>\n\n<p> Jika Anda memiliki blok dan data yang buruk, Anda benar-benar menginginkan <code>fsck.ext4 -cc</code>. Dan yang satu itu akan memakan waktu minimal satu atau dua hari. Melakukan <code>fsck.ext4 -c</code> akan memungkinkan ext4 untuk menghindari blok buruk tetapi tidak dapat memperbaiki drive. Opsi <code>-c</code> dari <code>fsck.ext4</code> membuatnya mencoba <em> Baca </em> setiap blok di partisi. Opsi <code>-cc</code> akan membuatnya mencoba <em> Baca </em> setiap blok dan <em> menulis </em> konten yang sama kembali ke drive dan periksa kesalahan. Dan bahkan disk di mana <code>-cc</code> gagal kadang-kadang dapat diperbaiki ... Namun, tidak ada peluru ajaib untuk menemukan blok yang buruk. Satu-satunya cara adalah memindai seluruh drive dan itu akan menjadi lambat dengan drive besar. </p>\n\n<p> Sejak <em> kamu </em> tidak memerlukan data apa pun, melakukan <code>sudo dd if=/dev/zero of=/dev/sdX bs=4M</code> akan memungkinkan melewatkan bagian &quot;membaca data&quot; dan langsung membuka bagian &quot;memperbaiki blok&quot;. Dan itu masih membutuhkan waktu antara 8-20 jam untuk menyelesaikannya. </p>\n\n<p> Perhatikan bahwa firmware drive akan memperbaiki blok buruk secara otomatis setelah Anda menimpa blok buruk. Tidak masalah OS atau alat apa yang Anda gunakan untuk menimpa blok buruk pada HDD. Dan datanya juga tidak penting. Jika drive tidak dapat memperbaiki blok buruk yang diberikan, drive tersebut telah selesai. Ini karena hard drive modern memiliki beberapa blok fisik tambahan sebagai cadangan yang digunakan untuk mengisi blok buruk di ruang alamat logis. Jika blok yang buruk tidak dapat diperbaiki, itu hanya karena semua blok di ruang cadangan telah digunakan! Drive sudah lama gagal dalam kasus itu. </p>\n\n<p> Perhatikan bahwa Anda harus menggunakan ukuran blok yang benar untuk memperbaiki blokir. Misalnya, jika drive Anda menggunakan blok fisik 4KB dan masih memungkinkan blok logis 512B, Anda tidak dapat menimpa blok buruk dengan penulisan logis 512B, karena drive secara teknis akan mencoba membaca blok 4KB yang sebenarnya, mengubah 512B yang Anda tulis dan -tulis blok 4KB kembali ke pelat magnet. Jelas &quot;membaca 4KB yang sebenarnya&quot; akan gagal jika blok 4KB fisik buruk. Cara untuk menghindarinya adalah dengan menulis seluruh blok 4KB dalam satu perintah HDD sehingga tidak ada yang perlu dibaca dari disk fisik. Pada akhirnya, Anda harus menulis blok 4KB yang disejajarkan dengan benar untuk memperbaiki blok buruk yang diberikan. Perintah <code>dd</code> di atas akan selalu menulis blok 4MB, yang akan disejajarkan dengan benar jika Anda menggunakan seluruh perangkat sebagai target <code>of</code> (Anda dapat menggunakan kelipatan 4 KB untuk menulis, contoh di atas menggunakan 4 MB untuk meningkatkan kinerja). Jika Anda menggunakan satu partisi sebagai target dan partisi tersebut tidak selaras dengan benar, perintah tersebut mungkin masih gagal untuk memperbaiki blok yang buruk jika ukuran blok logis dan fisik tidak cocok untuk drive. Sejauh yang saya tahu, ini berlaku untuk sebagian besar HDD modern. Pelaksana <code>smartctl -x /dev/sdX</code> akan memberikan info tentang perangkat <code>sdX</code>. </p>\n\n<p> Seperti biasa, lakukan <code>man fsck.ext4</code>, <code>man dd</code> dan <code>man smartctl</code> sebelum mengotak-atik barang ini. </p>","votes":"4","source":"https://superuser.com/a/965099","author":"<a href=\"https://superuser.com/users/100154/mikko-rantalainen\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mikko Rantalainen</span></a>","replies":[{"reply":"Saya ingin menyebutkan SpinRite, perangkat lunak DOS / Windows yang berpemilik, yang mencoba menjadi cerdas dan menyeluruh tentang ide dasar membaca suatu sektor dan menuliskannya kembali. Saya telah menyaksikan secara langsung bahwa itu dapat memperbaiki drive di mana badblocks / e2fsck -cc dan dd gagal. Namun demikian, itu hanya dapat memperpanjang umur drive tertentu satu bulan lagi. YMMV.","author":"<a href=\"https://superuser.com/users/96949/iliv\" target=\"_blank\" rel=\"nofollow noopener\">ILIV</a>"},{"reply":"AFAIK, SpinRite melakukan &quot;keajaiban&quot; ekstra untuk membaca bagian disk tetapi secara teknis berperilaku identik dengan dd. &quot;Keajaiban&quot; yang terkandung di dalamnya adalah mencoba membaca blok buruk segera setelah pencarian yang berbeda. Secara teori, hal ini menyebabkan kepala baca ke posisi yang sedikit berbeda setiap kali dan mudah-mudahan satu posisi memungkinkan membaca data. Jika Anda tidak memerlukan datanya dan dapat melanjutkan dengan penimpaan sederhana, Anda harus melewati bagian membaca karena itu bagian yang sangat lambat. Seperti yang saya tulis di atas, drive modern akan memperbaiki dirinya sendiri jika Anda menimpa blok yang buruk. Semua dilakukan oleh perangkat keras.","author":"<a href=\"https://superuser.com/users/100154/mikko-rantalainen\" target=\"_blank\" rel=\"nofollow noopener\">Mikko Rantalainen</a>"}]},{"answer":"<p> Al tergantung pada drive buatannya. Anda dapat mengunduh dari situs web produsen drive, alat yang dapat memperbaiki drive sampai tingkat tertentu. </p>\n\n<p><a href=\"http://www.seagate.com/support/downloads/seatools/\" rel=\"nofollow noopener\" target=\"_blank\"> Drive Seagate </a></p>\n\n<p><a href=\"http://support.wdc.com/product/download.asp?lang=en\" rel=\"nofollow noopener\" target=\"_blank\"> Western Digital </a></p>","votes":"1","source":"https://superuser.com/a/665235","author":"<a href=\"https://superuser.com/users/266164/stblade\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">StBlade</span></a>","replies":[]},{"answer":"<pre><code>badblocks -wsv -o /root/&lt;badblocks.txt&gt; /dev/&lt;device&gt;\n\nmkfs.&lt;filesystem-type&gt; -l /root/&lt;badblocks.txt&gt; /dev/&lt;device&gt;\n</code></pre> <p> <code>\n</code> </p>","votes":"1","source":"https://superuser.com/a/1193811","author":"<a href=\"https://superuser.com/users/712559/mastercatz\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">MasterCATZ</span></a>","replies":[{"reply":"Dapatkah Anda mengedit jawaban untuk menguraikan sedikit tentang ini? Terima kasih.","author":"<a href=\"https://superuser.com/users/364367/fixer1234\" target=\"_blank\" rel=\"nofollow noopener\">fixer1234</a>"},{"reply":"Pada dasarnya, ini setara dengan perintah e2fsck -cc. Itu melakukan hal yang sama. Faktanya, sebagian besar pengguna disarankan untuk menggunakan e2fsck daripada badblock. Mengutip halaman manual badblocks: &quot;Catatan penting: Jika keluaran dari badblock akan diumpankan ke program e2fsck atau mke2fs, penting agar ukuran blok ditentukan dengan benar, karena nomor blok yang dihasilkan sangat bergantung pada blok ukuran yang digunakan oleh sistem berkas. Oleh karena itu, sangat disarankan agar pengguna tidak menjalankan badblocks secara langsung, melainkan menggunakan opsi -c dari program e2fsck dan mke2fs. &quot;","author":"<a href=\"https://superuser.com/users/96949/iliv\" target=\"_blank\" rel=\"nofollow noopener\">ILIV</a>"},{"reply":"<b> PERINGATAN </b> Jangan pernah menggunakan opsi <code>-w</code> pada perangkat yang berisi sistem file yang ada. Opsi ini menghapus data! - dari <code>man badblocks</code>, <a href=\"http://man7.org/linux/man-pages/man8/badblocks.8.html\" rel=\"nofollow noopener\" target=\"_blank\"> man7.org/linux/man-pages/man8/badblocks.8.html </a>","author":"<a href=\"https://superuser.com/users/241292/avtokod\" target=\"_blank\" rel=\"nofollow noopener\">Avtokod</a>"}]},{"answer":"<p> Pertama-tama, bad sector, secara teori, berarti kerusakan permanen pada bagian-bagian hard drive. Jadi, jika Anda berencana menggunakan drive ini untuk data penting dalam waktu dekat, mungkin pertimbangkan kembali. Peluang bad sector meningkat bagus. Sejauh yang saya tahu, tidak ada cara nyata untuk benar-benar memperbaiki bad sector. Cegah saja agar tidak digunakan. Selain itu, Anda perlu mengingat bahwa sistem file dapat ditulis dalam partisi. Untuk melihat daftar partisi, gunakan <a href=\"http://www.thegeekstuff.com/2010/09/linux-fdisk/\" rel=\"nofollow noopener\" target=\"_blank\"> fdisk -l perintah </a> . Kemudian Anda bisa menggunakan <a href=\"http://linux.die.net/man/8/e2fsck\" rel=\"nofollow noopener\" target=\"_blank\"> e2fsck -c perintah </a> untuk mencegah blok buruk dialokasikan ke file atau direktori. </p>","votes":"1","source":"https://superuser.com/a/665232","author":"<a href=\"https://superuser.com/users/228091/rudolph\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Rudolph</span></a>","replies":[{"reply":"Itu benar-benar tergantung pada penyebab asli blok buruk itu. Jika penyebabnya adalah cacat produksi mikroskopis pada satu permukaan disk, perubahannya tinggi sehingga ini adalah satu-satunya masalah yang akan Anda hadapi dengan drive. Saya masih menjalankan disk di workstation saya yang memiliki satu blok buruk sekitar 5 tahun yang lalu dan saya dapat menimpa blok buruk itu dengan <code>dd .. bs=4k count=1</code>. Menurut <code>smartctl -x</code> hanya satu sektor yang pernah direlokasi (yang saya perbaiki dengan dd). Saya menggunakan drive &quot;rusak&quot; ini sebagai cadangan untuk data SSD saya.","author":"<a href=\"https://superuser.com/users/100154/mikko-rantalainen\" target=\"_blank\" rel=\"nofollow noopener\">Mikko Rantalainen</a>"}]}]}
