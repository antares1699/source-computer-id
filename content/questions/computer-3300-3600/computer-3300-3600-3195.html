{"title":"Apache2 2.2.14 diatur dengan beberapa host virtual untuk pengujian lokal","draft":false,"url":"/apache2-2214-diatur-dengan-beberapa-host-virtual-untuk-pengujian-lokal-uanoep1r","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["apache-http-server","virtual-host"],"snippet":"Saya telah menyiapkan host virtual Apache 2 dengan metode ini.  di bawah /etc/apache2/sites-available saya telah membuat dummy_site_1.conf  dummy_site_1.conf  &lt;VirtualHost local.dummy_site_1:80&gt;    ServerName local.dummy_site_1    ServerAdmin webmaster@localhost    DocumentRoot /var/www/dummy_site_1    ErrorLog /var/log/apache2/dummy_site_1__error.log    TransferLog /var/log/apache2/dummy_site_1__access.log    &lt;Directory /var/www/dummy_site_1&gt;...","body":"<p> Saya telah menyiapkan host virtual Apache 2 dengan metode ini. </p>\n\n<p> di bawah <code>/etc/apache2/sites-available</code> saya telah membuat <code>dummy_site_1.conf</code> </p>\n\n<h1 class=\"h3\"> dummy_site_1.conf </h1> <pre><code>&lt;VirtualHost local.dummy_site_1:80&gt;\n    ServerName local.dummy_site_1\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/dummy_site_1\n    ErrorLog /var/log/apache2/dummy_site_1__error.log\n    TransferLog /var/log/apache2/dummy_site_1__access.log\n    &lt;Directory /var/www/dummy_site_1&gt;\n        AllowOverride Options Limit None\n        Options -Indexes FollowSymLinks\n    Order deny,allow\n    Allow from all\n    &lt;/Directory&gt;\n    DirectoryIndex index.php\n    #DISABLE HTTP TRACE\n    #RewriteEngine On\n    #RewriteCond %{REQUEST_METHOD} ^TRACE\n    #RewriteRule .* - [F]\n&lt;/VirtualHost&gt;\n</code></pre> <p> Saya juga menambahkan baris ini ke <code>httpd.conf</code>: </p> <pre><code>ServerName local.dummy_site_1\n</code></pre> <p> Sekarang semua bekerja dengan pengaturan ini, saya mengetik <code>local.dummy_site_1</code> di URL dan saya dapat melihat situs saya. </p>\n\n<p> Masalahnya adalah ketika saya mencoba menambahkan konfigurasi situs lain <code>dummy_site_2.conf</code> dan membuat pengaturan yang sama </p>\n\n<h1 class=\"h3\"> dummy_site_2.conf </h1> <pre><code>&lt;VirtualHost local.dummy_site_2:80&gt;\n    ServerName local.dummy_site_2\n    ServerAdmin webmaster@localhost\n    DocumentRoot /var/www/dummy_site_2\n    ErrorLog /var/log/apache2/dummy_site_2__error.log\n    TransferLog /var/log/apache2/dummy_site_2__access.log\n    &lt;Directory /var/www/dummy_site_2&gt;\n        AllowOverride Options Limit None\n        Options -Indexes FollowSymLinks\n    Order deny,allow\n    Allow from all\n    &lt;/Directory&gt;\n    DirectoryIndex index.php\n    #DISABLE HTTP TRACE\n    #RewriteEngine On\n    #RewriteCond %{REQUEST_METHOD} ^TRACE\n    #RewriteRule .* - [F]\n&lt;/VirtualHost&gt;\n</code></pre> <p> Saya juga menambahkan baris ini ke <code>httpd.conf</code>: </p> <pre><code>ServerName local.dummy_site_2\n</code></pre> <p> Saya mendapatkan kesalahan ini: </p> <pre><code>user@host:/etc/apache2$ sudo /etc/init.d/apache2 restart\n * Restarting web server apache2                                                                                                                                                                     [Wed Sep 15 14:00:43 2010] [error] (EAI 5)No address associated with hostname: Could not resolve host name local.dummy_site_2 -- ignoring!\n ... waiting [Wed Sep 15 14:00:44 2010] [error] (EAI 5)No address associated with hostname: Could not resolve host name local.dummy_site_2 -- ignoring!\n</code></pre> <p> Mengapa? apakah saya salah mengonfigurasi ini? </p>","source":"https://superuser.com/questions/189012/apache2-2-2-14-setup-with-multiple-virtual-hosts-for-local-testing","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Phill Pafford</span></a>","replies":[],"answers":[{"answer":"<p> Anda tidak perlu &#39;<code>ServerName local.dummy_site_2</code>&#39; di httpd.conf jadi keluarkan, tetapi tambahkan ini sebagai gantinya: </p> <pre><code>NameVirtualHost ip-address-of-server:80\n</code></pre> <p> misalnya: NameVirtualHost 192.168.1.10:80 </p>\n\n<p> Setelah Anda melakukan perubahan, Anda perlu memulai ulang Apache. </p>\n\n<p> Jika semuanya masih tidak berfungsi seperti yang diharapkan, tambahkan baris ke setiap file conf virtualhost Anda di bawah baris nama server sehingga terlihat seperti ini: </p> <pre><code>ServerName local.dummy_site_1\nServerAlias *.local.dummy_site_1 local.dummy_site_1\n</code></pre> <p> dan </p> <pre><code>ServerName local.dummy_site_2\nServerAlias *.local.dummy_site_2 local.dummy_site_2\n</code></pre> <p> Sekali lagi, restart Apache untuk memeriksa perubahannya. </p>\n\n<p> EDIT: Saya konyol - baru saja melihat sedikit masalah lainnya - SEMUA deklarasi VirtualHost Anda harus menggunakan alamat IP dari server virtual - misalnya: </p> <pre><code>&lt;VirtualHost 192.168.1.10:80&gt;\n</code></pre>","votes":"6","source":"https://superuser.com/a/189020","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Linker3000</span></a>","replies":[{"reply":"Terima kasih atas bantuannya, saya melangkah dan mendapat kesalahan. Melakukan langkah 2 dan kesalahan yang sama serta kesalahan asli: apache2: Tidak dapat secara andal menentukan nama domain server yang sepenuhnya memenuhi syarat, menggunakan 127.0.1.1 untuk NamaServer","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"Saya menggunakan IP statis jika itu penting","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"Hmm - tidak yakin tentang kesalahan jika Anda memasukkan baris NameVirtualHost - Saya baru saja memeriksa salah satu server kami yang menghosting 8 situs virtual dan sintaksnya akan diperiksa. Pesan tentang nama domain yang sepenuhnya memenuhi syarat seharusnya tidak menghentikan pekerjaan, tetapi periksa bahwa / etc / hosts memiliki baris untuk 127.0.0.1 yang mencantumkan nama untuk server Anda misalnya: milik saya adalah 127.0.0.1 rusty.localdomain rusty localhost.localdomain localhost","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"Lihat suntingan saya pada balasan asli saya - baru saja melihat bagian akhir teka-teki!","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"hmm, itu juga memberikan kesalahan yang sama, juga ketika saya membuka situs pertama itu muncul dengan pesan It works dari Apache sebagai gantinya","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"Hmm Saya rasa itu ada hubungannya dengan / etc / hosts. Saya tidak menambahkan domain kedua tetapi ketika saya melakukannya, itu menunjuk ke domain pertama. ada pemikiran?","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"Menisik! Izin file oke? Ada yang ada di log?","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"Hmm Saya rasa itu ada hubungannya dengan / etc / hosts. Saya tidak menambahkan domain kedua tetapi ketika saya melakukannya, itu menunjuk ke domain pertama. ada pemikiran?","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"VirtualHost local.dummy_site_1: 80 tumpang tindih dengan VirtualHost local.dummy_site_2: 80, yang pertama diutamakan, mungkin Anda memerlukan direktif NameVirtualHost","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"},{"reply":"OK - tempelkan kedua definisi host virtual dalam satu file .conf, hapus definisi NameVirtualHost dari httpd.conf dan tempelkan di bagian atas file .conf tunggal yang baru. Setidaknya itu akan membuat pengeditan lebih mudah!","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"Jika Anda memiliki NameVirtualHost di tempat DAN definisi blok virtualhost Anda menggunakan alamat IP yang sama dengan NameVirtualHost Anda seharusnya tidak mendapatkan kesalahan tumpang tindih","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"Saya baru saja menemukan catatan yang terkait dengan pengaturan BindAddress. Saya tidak pernah mengatur ini di server saya tetapi mungkin relevan untuk Anda?","author":"<a href=\"https://superuser.com/users/49199/linker3000\" target=\"_blank\" rel=\"nofollow noopener\">Linker3000</a>"},{"reply":"Saya pikir menempatkan mereka di semua file konfigurasi berfungsi tetapi masih menguji ini. Terima kasih atas semua bantuannya","author":"<a href=\"https://superuser.com/users/8036/phill-pafford\" target=\"_blank\" rel=\"nofollow noopener\">Phill Pafford</a>"}]},{"answer":"<p> Sebenarnya, Anda bisa menghapus alamat IP dan atau nama situs sekaligus. </p>\n\n<p> contoh: </p> <pre><code>NameVirtualHost *:80\nNameVirtualHost *:443\n\n&lt;VirtualHost *:80&gt;\nServerAdmin emailaddress@domain.tld\nDocumentRoot \"/path/to/vhost/documents\"\nServerName servername.domain.tld\nServerAlias serveralias.domain.tld\nErrorLog \"/path/to/logfiles/servername.domain.tld-error.log\"\nCustomLog \"/path/to/logfiles/servername.domain.tld-access.log\" common\n&lt;Directory \"/path/to/vhost/documents\"&gt;\nallow from all\nOption +Indexes\n&lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n&lt;VirtualHost *:443&gt;\nServerAdmin emailaddress@domain.tld\nDocumentRoot \"/path/to/vhost/documents\"\nServerName servername.domain.tld\nServerAlias serveralias.domain.tld\nSSLEngine On\nSSLCertificateFile /path/to/certificate/file.cert\nSSLCertificateKeyFile /path/to/certificate/file.key\nErrorLog \"/path/to/logfiles/servername.domain.tld-error.log\"\nCustomLog \"/path/to/logfiles/servername.domain.tld-access.log\" common\n&lt;Directory \"/path/to/vhost/documents\"&gt;\nallow from all\nOption +Indexes\n&lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre> <p> (Sekarang, mari kita lakukan contoh vhost yang digabungkan dengan mod_proxy; ip = numeric-octet, di bawah) </p> <pre><code>&lt;VirtualHost *:80&gt;\nProxyPreserveHost Off\nProxyPass / http://ip.ip.ip.ip/\nProxyPassReverse / http://ip.ip.ip.ip/\nServerName servername.domain.tld\n&lt;/VirtualHost&gt;\n</code></pre> <p> Pada dasarnya, selama info DNS Anda cocok dengan vhost yang Anda konfigurasikan, maka semuanya harus berfungsi. </p>","votes":"1","source":"https://superuser.com/a/340846","author":"<a href=\"https://superuser.com/users/99500/carl-vancil\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Carl Vancil</span></a>","replies":[]}]}
