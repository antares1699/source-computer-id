{"title":"CentOS di Docker: Bagaimana cara menginstal file doc?","draft":false,"url":"/centos-di-docker-bagaimana-cara-menginstal-file-doc-jqhwmnza","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["centos","yum","docker"],"snippet":"Saya mencoba menginstal groupware Kolab di wadah Docker berdasarkan CentOS 6.5. Sekilas, penginstalan paket resmi tampaknya berfungsi tanpa masalah. Tetapi setelah itu, ketika saya mencoba menjalankan skrip pengaturan, beberapa kesalahan terjadi. Setelah...","body":"<p> Saya mencoba menginstal groupware Kolab di wadah Docker berdasarkan CentOS 6.5. Sekilas, penginstalan paket resmi tampaknya berfungsi tanpa masalah. Tetapi setelah itu, ketika saya mencoba menjalankan skrip pengaturan, beberapa kesalahan terjadi. Setelah melakukan beberapa penelitian, saya menemukan, bahwa skrip pengaturan mencoba menggunakan file skema sql, yang terletak di <code>/usr/share/doc/kolab-webadmin-3.1.5</code>. Menurut <code>repoquery -l kolab-webadmin</code>, file sql memang termasuk dalam paket. Namun, itu tidak diinstal. </p>\n\n<p> Saya menduga bahwa ini adalah &quot;fitur&quot; dari Docker, yang mencoba menghindari penginstalan file dokumentasi yang tidak perlu ke dalam container, tetapi tidak dapat menemukan informasi apa pun tentangnya. </p>\n\n<p> Apakah ada cara untuk menginstal file yang hilang melalui yum? </p>\n\n<hr>\n\n<p><strong> Memperbarui </strong> : </p>\n\n<p> Berikut adalah contoh minimal untuk menggambarkan masalah tersebut:\nPertama buat wadah centos baru: </p> <pre><code>docker run -t -i centos:centos6 /bin/bash\n</code></pre> <p> Di dalam, instal paket yum-utils: </p> <pre><code>yum install -y yum-utils\n</code></pre> <p> Setelah itu, jika Anda menggunakan repoquery untuk memeriksa isi dari paket yum-utils </p> <pre><code>repoquery -l yum-utils\n</code></pre> <p> Anda akan melihat bahwa paket tersebut berisi file di bawah /usr/share/doc/yum-utils-1.1.30.\nFolder ini, bagaimanapun, tidak ada. </p>","source":"https://superuser.com/questions/784451/centos-on-docker-how-to-install-doc-files","author":"<a href=\"https://superuser.com/users/87524/abubakr\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">AbuBakr</span></a>","replies":[{"reply":"Silakan coba untuk mengubah pertanyaan Anda dengan menambahkan lebih banyak detail: apa <b> gambar </b> yang Anda gunakan, bagaimana Anda membuat contoh <b> wadah </b> (dan jika istilah tersebut tidak terlalu berarti bagi Anda, harap baca <a href=\"https://docs.docker.com/userguide/\" rel=\"nofollow noopener\" target=\"_blank\"> Dokumentasi Docker </a> ). Jika memungkinkan, harap kutip dan nyatakan Dockerfile apa yang Anda gunakan, berdasarkan gambar apa.","author":"<a href=\"https://superuser.com/users/99246/deucalion\" target=\"_blank\" rel=\"nofollow noopener\">deucalion</a>"},{"reply":"Tidak ada yang seperti itu dengan <code>docker</code> yang membatasi <code>yum</code> untuk menginstal beberapa paket atau file.","author":"<a href=\"https://superuser.com/users/210151/beginer\" target=\"_blank\" rel=\"nofollow noopener\">beginer</a>"}],"answers":[{"answer":"<p> Saya menemukan mengapa dokumen tidak diinstal: ini bukan fitur Docker tetapi image CentOS Docker. Konfigurasi Yum dan rpm keduanya berisi opsi yang mencegah penginstalan. Mereka mungkin dinonaktifkan dengan menambahkan baris berikut ke Dockerfile: </p> <pre><code>RUN sed -i '/excludedocs/d' /etc/rpm/macros.imgcreate\nRUN sed -i '/nodocs/d' /etc/yum.conf\n</code></pre>","votes":"10","source":"https://superuser.com/a/817649","author":"<a href=\"https://superuser.com/users/87524/abubakr\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">AbuBakr</span></a>","replies":[{"reply":"Wow! Kamu menyelamatkanku <b> banyak </b> masalah dan waktu. Saya memiliki masalah yang persis sama di Ubuntu. Dalam kasus saya, paket <code>.deb</code> memiliki beberapa file konfigurasi sampel di direktori <code>&#47;usr&#47;share&#47;doc&#47;package-name&#47;examples</code> (yang saya perlukan), tetapi untuk alasan yang tidak diketahui mereka diinstal sama sekali! Ternyata image Docker Ubuntu memiliki file <code>&#47;etc&#47;dpkg&#47;dpkg.cfg.d&#47;excludes</code> yang secara eksplisit <a href=\"https://github.com/tianon/docker-brew-ubuntu-core/issues/126\" rel=\"nofollow noopener\" target=\"_blank\"> tidak termasuk </a> <code>&#47;usr&#47;share&#47;man&#47;*</code>, <code>&#47;usr&#47;share&#47;doc&#47;*</code>, <code>&#47;usr&#47;share&#47;doc&#47;*&#47;copyright</code>, <code>&#47;usr&#47;share&#47;doc&#47;*&#47;changelog.Debian.*</code>.","author":"<a href=\"https://superuser.com/users/139893/patryk-beza\" target=\"_blank\" rel=\"nofollow noopener\">patryk.beza</a>"}]}]}
