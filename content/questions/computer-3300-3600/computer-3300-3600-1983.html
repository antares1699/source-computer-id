{"title":".profile dan .bash_profile diabaikan saat memulai tmux dari .bashrc?","draft":false,"url":"/profile-dan-bash-profile-diabaikan-saat-memulai-tmux-dari-bashrc-ttixqotv","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["ubuntu","tmux","bashrc",".bash-profile",".profile"],"snippet":"Saya mengalami masalah dengan mendapatkan .profil saya untuk bersumber saat melakukan SSH ke instance server Ubuntu 12.04. .Bashrc saya melakukan hal berikut hingga akhir:  if [[ \"$TERM\" != \"screen-256color\" ]]then   tmux...","body":"<p> Saya mengalami masalah dengan mendapatkan .profil saya untuk bersumber saat melakukan SSH ke instance server Ubuntu 12.04. .Bashrc saya melakukan hal berikut hingga akhir: </p> <pre><code>if [[ \"$TERM\" != \"screen-256color\" ]]\nthen\n   tmux attach-session -t \"$USER\" || tmux new-session -s \"$USER\"\n   exit\nfi\n</code></pre> <p> Jika saya mengomentari blok kode itu dan masuk dengan ssh lagi, file ~ / .profile bersumber seperti yang diharapkan. Tidak ada .bash_profile atau .bash_login di bawah ~ yang akan mencegah ~ / .profile dibaca. Mengganti nama .profile menjadi .bash_profile sebagai eksperimen juga tidak membuat file bersumber. </p>\n\n<p> Adakah yang tahu mengapa hal itu bisa terjadi? Saya bisa memasukkan semuanya ke dalam .bashrc, tetapi saya ingin mengetahui mengapa .profile tidak bersumber. </p>","source":"https://superuser.com/questions/614277/profile-and-bash-profile-ignored-when-starting-tmux-from-bashrc","author":"<a href=\"https://superuser.com/users/131589/glitch\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">glitch</span></a>","replies":[{"reply":"Apakah Anda yakin itu tidak bersumber? Apa yang terjadi jika Anda menambahkan <code>echo foo &gt; logfile</code> atau serupa hanya untuk memeriksa apakah itu bersumber? Saya berpikir bahwa masalahnya mungkin (sejauh yang saya tahu, tidak berguna) <code>exit</code> dalam potongan Anda di atas.","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\">terdon</a>"},{"reply":"terdon, tanpa <code>exit</code> Anda harus mengetik keluar (atau menggunakan CTRL-D) dua kali log keluar dari sesi ssh. Dengan keluarnya, sesi bash segera ditutup, artinya ketika tmux ditutup, koneksi ssh juga ditutup. Pengujian dengan potongan yang Anda bagikan di atas memastikan bahwa .profile memang tidak dibaca oleh sesi tmux (tetapi sebenarnya bersumber di sesi bash yang memulai tmux)","author":"<a href=\"https://superuser.com/users/131589/glitch\" target=\"_blank\" rel=\"nofollow noopener\">glitch</a>"},{"reply":"Ah, OK, maaf, saya tidak menggunakan <code>tmux</code> jadi saya tidak menemukan itu. Jadi, Anda mengatakan bahwa menambahkan pernyataan <code>if</code> yang telah Anda posting akan menghentikan file tersebut untuk bersumber? Sangat aneh ... Jika Anda tidak mendapatkan jawaban yang bagus di sini setelah beberapa hari, Anda mungkin ingin menandai pertanyaan untuk migrasi ke <a href=\"http://http://unix.stackexchange.com/\" rel=\"nofollow noopener\" target=\"_blank\"> U&amp;L </a> , Anda mungkin lebih beruntung di sana.","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\">terdon</a>"},{"reply":"Saran bagus, terima kasih. Saya akan membiarkan ini duduk di sini sebentar dan memindahkannya jika tidak ada yang terjadi.","author":"<a href=\"https://superuser.com/users/131589/glitch\" target=\"_blank\" rel=\"nofollow noopener\">glitch</a>"},{"reply":"Saya kira shell yang berjalan di bawah <code>tmux</code> bukanlah shell login (apa yang terjadi jika Anda mengetik <code>logout</code>?), Sehingga shell tersebut tidak akan melihat <code>.bash_profile</code>; ini hanya akan terlihat pada <code>.bashrc</code>. Jadi pindahkan perintah yang ingin Anda jalankan dari <code>.bash_profile</code> ke <code>.bashrc</code>, atau letakkan di kedua tempat, atau buat satu sumber di tempat lain. Lihat <a href=\"http://askubuntu.com/questions/121073/why-bash-profile-is-not-getting-sourced-when-opening-a-terminal\" target=\"_blank\" rel=\"nofollow noopener\"> Mengapa ~ / .bash_profile tidak bersumber saat membuka terminal? </a> di Ask Ubuntu.","author":"<a href=\"https://superuser.com/users/150988/scott\" target=\"_blank\" rel=\"nofollow noopener\">Scott</a>"},{"reply":"@ Scott, Anda benar, ini memang bukan shell login. Semua solusi Anda tampaknya valid.","author":"<a href=\"https://superuser.com/users/131589/glitch\" target=\"_blank\" rel=\"nofollow noopener\">glitch</a>"}],"answers":[{"answer":"<p> Seperti yang dibahas di <a href=\"https://askubuntu.com/questions/121073/why-bash-profile-is-not-getting-sourced-when-opening-a-terminal\" target=\"_blank\" rel=\"nofollow noopener\"> Mengapa ~ / .bash_profile tidak bersumber saat membuka terminal? </a> pada &quot;Ask Ubuntu&quot;, shell yang berjalan di bawah <code>tmux</code> bukanlah shell login. </p>\n\n<blockquote>\n  <h3 class=\"h5\"> Bagaimana cara mengetahui apakah shell adalah &quot;shell login&quot;? </h3>\n  \n  <ol>\n  <li> Coba ketikkan &quot;<code>logout</code>&quot;.\n  Jika shell dihentikan, itu adalah shell login. Jika dikatakan itu bukan shell login, maka itu bukan. </li>\n  <li> Ketik &quot;<code>ps -fp$$</code>&quot;. (Modifikasi, jika <code>ps</code> Anda menggunakan argumen yang berbeda, untuk melakukan apa pun yang Anda perlukan untuk mendapatkan daftar lengkap / panjang informasi proses untuk shell saat ini –– “<code>–p</code>” berarti “lihat <em> proses ini </em> &quot;, Dan&quot; <code>$$</code> &quot;adalah PID shell.) Jika nama proses dimulai dengan tanda hubung (tanda hubung), seperti dalam&quot; <code>-bash</code> &quot;atau&quot; <code>-csh</code> &quot;, itu adalah shell login; jika tidak, tidak. (Mungkin.) </li>\n  </ol>\n</blockquote>\n\n<p> … Jadi, shell yang berjalan di bawah <code>tmux</code> tidak akan melihat <code>.bash_profile</code>; itu hanya akan terlihat pada <code>.bashrc</code>. Jadi pindahkan perintah yang ingin Anda jalankan dari <code>.bash_profile</code> ke <code>.bashrc</code>, atau letakkan di kedua tempat, atau buat satu sumber di tempat lain. </p>","votes":"8","source":"https://superuser.com/a/614838","author":"<a href=\"https://superuser.com/users/150988/scott\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Scott</span></a>","replies":[]}]}
