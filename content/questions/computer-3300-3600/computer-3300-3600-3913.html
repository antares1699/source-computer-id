{"title":"FFMpeg mengkonversi gambar jpeg ke video","draft":false,"url":"/ffmpeg-mengkonversi-gambar-jpeg-ke-video-bxrhvh2e","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","debian","ffmpeg","jpeg"],"snippet":"Saya mencoba mengambil serangkaian gambar yang diambil dengan interval 1 detik untuk membentuk video timelapse. Saya pikir ini akan mudah dengan ffmpeg, tetapi saya mengalami kesalahan samar.  Semua gambar yuv420 jpegs, diambil...","body":"<p> Saya mencoba mengambil serangkaian gambar yang diambil dengan interval 1 detik untuk membentuk video timelapse. Saya pikir ini akan mudah dengan ffmpeg, tetapi saya mengalami kesalahan samar. </p>\n\n<p> Semua gambar yuv420 jpegs, diambil dari kamera android. Mereka disimpan sebagai jpeg individual dalam folder, semuanya berukuran dan diformat identik. Mereka dinamai sebagai urutan nama 7 digit, dimulai dari nol (jadi &quot;0000000.jpg&quot; hingga &quot;0001000.jpg&quot;, sebagai contoh). </p>\n\n<p> Ini string saya (nama folder disunting untuk kejelasan): </p>\n\n<p> <code>avconv -r 1 -f image2 -i %07d.jpg -vcodec libx264 -crf 18 -preset slower video.mp4</code> </p>\n\n<p> Sepertinya bagus, saya melihat banyak postingan dari orang-orang yang mengatakan itu berhasil untuk mereka. </p>\n\n<p> Namun ffmpeg memberi saya ini (tebal menunjukkan kesalahan) </p> <pre>\nffmpeg version 0.8.5-6:0.8.5-1, Copyright (c) 2000-2012 the Libav developers\n  built on Jan 13 2013 12:05:48 with gcc 4.7.2\n*** THIS PROGRAM IS DEPRECATED ***\nThis program is only provided for compatibility and will be removed in a future release. Please use avconv instead.\n[mjpeg @ 0x233aea0] overread 8\nInput #0, image2, from '%07d.jpg':\n  Duration: 00:00:00.04, start: 0.000000, bitrate: N/A\n    Stream #0.0: Video: mjpeg, yuvj420p, 640x480 [PAR 1:1 DAR 4:3], 25 tbr, 25 tbn, 25 tbc\nFile 'video.mp4' already exists. Overwrite ? [y/N] y\n[buffer @ 0x233b340] w:640 h:480 pixfmt:yuvj420p\n[libx264 @ 0x2339fa0] using SAR=1/1\n[libx264 @ 0x2339fa0] using cpu capabilities: MMX2 SSE2Fast FastShuffle SSEMisalign LZCNT\n[libx264 @ 0x2339fa0] profile Main, level 3.1\n[libx264 @ 0x2339fa0] 264 - core 123 r2189 35cf912 - H.264/MPEG-4 AVC codec - Copyleft 2003-2012 - http://www.videolan.org/x264.html - options: cabac=1 ref=8 deblock=1:0:0 analyse=0x1:0x131 me=umh subme=9 psy=1 psy_rd=1.00:0.00 mixed_ref=0 me_range=16 chroma_me=1 trellis=2 8x8dct=0 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=-2 threads=1 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=0 b_adapt=2 b_bias=0 direct=3 weightb=0 open_gop=1 weightp=2 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=60 rc=crf mbtree=1 crf=18.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.25 aq=1:1.00\nOutput #0, mp4, to 'video.mp4':\n  Metadata:\n    encoder         : Lavf53.21.1\n    Stream #0.0: Video: libx264, yuvj420p, 640x480 [PAR 1:1 DAR 4:3], q=-1--1, 25 tbn, 25 tbc\nStream mapping:\n  Stream #0.0 -> #0.0\nPress ctrl-c to stop encoding\n[mjpeg @ 0x233aea0] overread 8\nframe=    0 fps=  0 q=0.0 Lsize=       0kB time=10000000000.00 bitrate=   0.0kbits/s    \nvideo:0kB audio:0kB global headers:0kB muxing overhead 610.000000%\n</pre> <p> Garis impor (yang muncul dalam warna merah) adalah yang bertuliskan &quot; <strong> [mjpeg @ 0x233aea0] overread 8 </strong> &quot;. </p>\n\n<p> Ini membuat saya berpikir bahwa mungkin itu mencoba membaca gambar sebagai motion jpegs daripada file jpeg biasa, dan entah bagaimana gagal. Saya sudah mencoba dengan / tanpa &quot;-f image2&quot;, dengan hasil yang sama. Dan saya juga mencoba menggunakan avconv, dengan hasil yang sama. </p>\n\n<p> Saya harus mencatat bahwa gambar itu valid, dan jika saya mengonversi semuanya ke * .png (proses yang mahal dan memakan waktu) semuanya berfungsi. Tapi saya lebih suka hanya bisa menggunakan jpegs, tanpa konversi perantara. Lagipula, untuk itulah ffmpeg, transcoding. </p>\n\n<p> Apakah ada yang punya cara yang baik untuk mengonversi * .jpg ke video menggunakan ffmpeg? </p>","source":"https://superuser.com/questions/559973/ffmpeg-convert-jpeg-images-to-video","author":"<a href=\"https://superuser.com/users/203696/knetic\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Knetic</span></a>","replies":[{"reply":"Pertama-tama terima kasih telah memposting keluaran lengkapnya. Anda sebenarnya tidak menggunakan FFmpeg â€” Anda menggunakan versi &quot;lumpuh&quot; dan kedaluwarsa bernama <code>ffmpeg</code> dari Libav (garpu FFmpeg) yang dikirimkan bersama Ubuntu. Sebagai gantinya, gunakan build statis terbaru dari <a href=\"http://ffmpeg.org/download.html\" rel=\"nofollow noopener\" target=\"_blank\"> halaman unduhan mereka </a> , atau <a href=\"https://ffmpeg.org/trac/ffmpeg/wiki/UbuntuCompilationGuide\" rel=\"nofollow noopener\" target=\"_blank\"> kompilasi sendiri </a> , lalu coba lagi. Bisa jadi bug itu sudah lama diperbaiki. Perhatikan bahwa MJPEG baik-baik saja sebagai decoder.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"By the way: Kesalahan &quot;overread&quot; berasal dari decoder MJPEG menemukan terlalu banyak bit setelah membaca gambar blok demi blok. Mungkin juga gambar tidak diformat dengan benar. Bisakah Anda mencoba menyimpan kembali file JPG, mis. dengan ImageMagick&#39;s <code>convert &lt;input&gt; &lt;output&gt;</code>?","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Terima kasih atas tip tentang libav vs ffmpeg! Saya telah menjalankan server subsonik dari kotak yang sama, dan selalu mengalami masalah aneh dengan mentranskode beberapa file dengan benar. Setelah membersihkan avconv / libav / ffmpeg, dan menginstal ulang versi resmi, semua itu hilang. Namun, kesalahan masih tetap ada. Mungkinkah gambar diformat dengan tidak benar, jika ditampilkan dengan baik dengan browser / editor gambar? Saya memasang imagemagick saat kita berbicara untuk menguji lebih lanjut","author":"<a href=\"https://superuser.com/users/203696/knetic\" target=\"_blank\" rel=\"nofollow noopener\">Knetic</a>"},{"reply":"Mengingat bahwa saya tidak pernah mengalami masalah seperti ini, saya hanya bisa membayangkan gambar itu sendiri yang menjadi pelakunya. Jika mau, Anda dapat memberi kami tautan ke satu atau dua gambar untuk diuji (tidak diubah, yaitu diunggah dalam arsip)?","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Itu dia! Setelah melakukan mogrify&#39;ing jpegs dan mendapatkan ffmpeg yang tepat, frame di-transcoding ke video seperti seharusnya. Saya pikir Anda pasti benar tentang gambar yang dikodekan dengan aneh, karena ada bilah abu-abu kecil di kanan bawah setiap gambar, yang saya anggap harus sisa dari beberapa pengkodean yang tidak tepat. Jika Anda suka, Anda dapat memposting apa yang Anda katakan ke sebuah jawaban, dan saya akan menerimanya.","author":"<a href=\"https://superuser.com/users/203696/knetic\" target=\"_blank\" rel=\"nofollow noopener\">Knetic</a>"},{"reply":"Saya senang bisa membantu Anda. Jawaban telah diposting - dan selamat datang di Pengguna Super! :)","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"}],"answers":[{"answer":"<p> <code>[mjpeg @ 0x233aea0] overread 8</code> adalah kesalahan yang muncul ketika <code>ffmpeg</code> mencoba membaca gambar JPEG (atau bingkai dari aliran MJPEG) blok-demi-blok, tetapi masih ada bit yang tersisa. </p>\n\n<p> Dalam hal ini, meskipun gambar Anda mungkin ditampilkan dengan baik di pemirsa lain, itu adalah sesuatu yang tidak dapat (atau tidak akan) tangani oleh FFmpeg. Untuk memperbaikinya, Anda perlu menyimpan ulang gambar, baik sebagai PNG seperti yang Anda coba sebelumnya, atau sebagai JPEG. Anda dapat melakukan konversi batch semacam itu dengan <a href=\"http://www.imagemagick.org/script/index.php\" rel=\"nofollow noopener\" target=\"_blank\"> ImageMagick </a> , sebagai contoh: </p> <pre><code>for f in *.JPG; do mogrify \"$f\"; done\n</code></pre> <p> Ini akan menyimpan ulang file JPEG dengan nama yang sama. Perhatikan bahwa Anda akan kehilangan kualitas dalam proses itu, jadi itu tidak ideal dan saya akan menggunakan PNG sebagai perantara karena mereka tidak memiliki kerugian. </p>\n\n<p> Ngomong-ngomong: Itu selalu merupakan ide bagus untuk menggunakan versi terbaru FFmpeg, yang Anda bisa <a href=\"http://ffmpeg.org/download.html\" rel=\"nofollow noopener\" target=\"_blank\"> unduh sebagai build statis </a> (cukup unduh, ekstrak, gunakan), atau <a href=\"https://ffmpeg.org/trac/ffmpeg/wiki/CompilationGuide\" rel=\"nofollow noopener\" target=\"_blank\"> kompilasi sendiri </a> . Paket yang disertakan dengan Ubuntu selalu kedaluwarsa, dan - tergantung pada versi Ubuntu Anda - bahkan FFmpeg &quot;asli&quot;, tetapi garpu Libav (yang baik untuk digunakan, tetapi harus <a href=\"https://stackoverflow.com/questions/9477115/who-can-tell-me-the-difference-and-relation-between-ffmpeg-libav-and-avconv/9477756#9477756\" target=\"_blank\" rel=\"nofollow noopener\"> mengetahui perbedaannya </a> ). </p>\n\n<p> Jangan lupa bahwa gambar harus memiliki nama berurutan saat Anda menggunakan sintaks <code>%07d.jpg</code> untuk <code>ffmpeg</code>, tanpa angka yang hilang. Lihat juga <a href=\"http://ffmpeg.org/ffmpeg-all.html#image2-2\" rel=\"nofollow noopener\" target=\"_blank\"> dokumentasi </a> pada muxer <code>image2</code> untuk opsi lainnya. </p>","votes":"6","source":"https://superuser.com/a/559996","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">slhck</span></a>","replies":[{"reply":"Saya yakin Anda juga dapat menggunakan <code>mogrify -format jpg *.JPG</code> sebagai alternatif perulangan for (tetapi itu selalu berguna), dan untuk orang lain yang mungkin tidak familier <code>mogrify</code> (lihat juga <a href=\"http://www.imagemagick.org/script/command-line-options.php?#path\" rel=\"nofollow noopener\" target=\"_blank\"> <code>-path</code> </a> option) akan menimpa file asli sebagai lawan <code>convert</code>.","author":"<a href=\"https://superuser.com/users/110524/llogan\" target=\"_blank\" rel=\"nofollow noopener\">llogan</a>"}]}]}
