{"title":"rsync file yang sudah dikompresi","draft":false,"url":"/rsync-file-yang-sudah-dikompresi-yvklg6fe","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["rsync","compression"],"snippet":"Apakah rysnc -z memiliki keunggulan kompresi jika file input sudah di-gzip? Saya memiliki file terkompresi 100GB besar untuk dikirim melalui jaringan di seluruh server dan secara konsisten gagal (pipa rusak) setelah beberapa...","body":"<p> Apakah rysnc -z memiliki keunggulan kompresi jika file input sudah di-gzip? Saya memiliki file terkompresi 100GB besar untuk dikirim melalui jaringan di seluruh server dan secara konsisten gagal (pipa rusak) setelah beberapa waktu. Ingin tahu apakah saya harus mencoba -z flag. </p>","source":"https://superuser.com/questions/463162/rsync-an-already-compressed-file","author":"<a href=\"https://superuser.com/users/15586/user15586\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user15586</span></a>","replies":[{"reply":"Saya curiga Anda sedang mencari opsi <code>--partial</code>, yang memungkinkan dimulainya kembali transfer, terlepas dari apa yang salah.","author":"<a href=\"https://superuser.com/users/79147/fauxfaux\" target=\"_blank\" rel=\"nofollow noopener\">FauxFaux</a>"}],"answers":[{"answer":"<p> Mengompresi saat transit file yang sudah dikompresi biasanya tidak sebanding dengan waktu CPU. Ada peringatan. Dalam proses membandingkan dua file, menggunakan rsync dengan kompresi dapat mempercepat perbandingan hash dari data tersebut. </p>\n\n<p> Jika Anda hanya ingin menyinkronkan versi terkompresi dari file besar di lebih dari satu sistem, satu tempat untuk melihat adalah gzip versi tertentu. Pada sistem Ubuntu, saya mendapatkan: </p> <pre>$ gzip -h\nUsage: gzip [OPTION]... [FILE]...\nCompress or uncompress FILEs (by default, compress FILES in-place).\n\nMandatory arguments to long options are mandatory for short options too.\n\n  -c, --stdout      write on standard output, keep original files unchanged\n  -d, --decompress  decompress\n  -f, --force       force overwrite of output file and compress links\n  -h, --help        give this help\n  -l, --list        list compressed file contents\n  -L, --license     display software license\n  -n, --no-name     do not save or restore the original name and time stamp\n  -N, --name        save or restore the original name and time stamp\n  -q, --quiet       suppress all warnings\n  -r, --recursive   operate recursively on directories\n  -S, --suffix=SUF  use suffix SUF on compressed files\n  -t, --test        test compressed file integrity\n  -v, --verbose     verbose mode\n  -V, --version     display version number\n  -1, --fast        compress faster\n  -9, --best        compress better\n    --rsyncable   Make rsync-friendly archive\n\nWith no FILE, or when FILE is -, read standard input.\n\nReport bugs to .\n</pre> <p> Perhatikan bahwa opsi <code>--rsyncable</code>? Ini menghindari penggunaan kompresi adaptif sehingga hanya bagian kecil dari file yang dikompresi yang diubah ketika hanya ada sedikit perubahan pada file sumber. Sisa dari data biner tidak berubah sehingga rsync tidak perlu mengirim ulang semuanya. Halaman manual menunjukkan bahwa opsi ini seharusnya tidak meningkatkan ukuran file terkompresi lebih dari sekitar 1% dibandingkan tanpa menggunakan opsi, dan gunzip tidak akan mengetahui perbedaannya. </p>\n\n<p> Saya memiliki file sql 468MB yang saya kompres menjadi 57MB dengan opsi <code>--rsyncable</code>. Saya mentransfer file ini ke sistem lokal saya. Kemudian saya menambahkan komentar satu baris ke file sql asli pada sistem jarak jauh, dan kompres ulang dengan opsi rsyncable. </p> <pre>\n$ rsync -avvz --progress -h fooboo:foo.sql.gz .\nopening connection using ssh fooboo rsync --server --sender -vvlogDtprz . foo.sql.gz \nreceiving file list ... \n1 file to consider\ndelta-transmission enabled\nfoo.sql.gz\n      59.64M 100%   43.22MB/s    0:00:01 (xfer#1, to-check=0/1)\ntotal: matches=7723  hash_hits=9468  false_alarms=0 data=22366\n\nsent 54.12K bytes  received 22.58K bytes  17.05K bytes/sec\ntotal size is 59.64M  speedup is 777.59\n</pre> <p> Tidak buruk. Rsync hanya perlu mentransfer sejumlah kecil file terkompresi yang lebih baru. </p>","votes":"9","source":"https://superuser.com/a/508245","author":"<a href=\"https://superuser.com/users/174741/realgeek\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">realgeek</span></a>","replies":[{"reply":"Alangkah baiknya membandingkan apa yang akan digunakan transfer tanpa opsi <code>--rsyncable</code>.","author":"<a href=\"https://superuser.com/users/147317/kevin-cox\" target=\"_blank\" rel=\"nofollow noopener\">Kevin Cox</a>"}]},{"answer":"<p> rsync tidak akan membuat file yang sudah dikompresi menjadi lebih kecil secara signifikan selama transit. </p>\n\n<p> Tampaknya transfer Anda yang gagal tidak mungkin diperbaiki dengan menambahkan tanda -z. Saya sarankan untuk mencoba rsync file yang tidak terkompresi. rsync kemudian akan mengompres dengan cepat. Anda kemudian memiliki keuntungan bahwa jika file sumber berubah dan Anda perlu melakukan rsync lagi, hanya byte yang diubah yang akan ditransfer. Jika Anda mengubah file terkompresi, kemungkinan besar rsync harus mengirimkannya ulang secara keseluruhan. Lihat di sini untuk lebih jelasnya: </p>\n\n<p><a href=\"http://beeznest.wordpress.com/2005/02/03/rsyncable-gzip/\" rel=\"nofollow noopener\" target=\"_blank\"> http://beeznest.wordpress.com/2005/02/03/rsyncable-gzip/ </a></p>","votes":"2","source":"https://superuser.com/a/463170","author":"<a href=\"https://superuser.com/users/14033/keybits\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">keybits</span></a>","replies":[]},{"answer":"<p> Menggunakan <code>rsync -z</code> tidak akan memiliki keuntungan lebih dari <code>rsync</code> saat menangani file yang telah dikompresi menggunakan format kompresi yang baik. Namun, Anda dapat mempertimbangkan untuk membagi file yang dikompresi menjadi bagian-bagian yang lebih kecil, sehingga Anda dapat mengirimkannya menggunakan rsync. </p>\n\n<p> Berikut adalah panduan untuk linux: <a href=\"http://www.techiecorner.com/107/how-to-split-large-file-into-several-smaller-files-linux/\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.techiecorner.com/107/how-to-split-large-file-into-several-smaller-files-linux/ </a> Dan untuk Windows: <a href=\"http://www.online-tech-tips.com/computer-tips/how-to-split-a-large-file-into-multiple-smaller-pieces/\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.online-tech-tips.com/computer-tips/how-to-split-a-large-file-into-multiple-smaller-pieces/ </a></p>","votes":"2","source":"https://superuser.com/a/463175","author":"<a href=\"https://superuser.com/users/148229/hifkanotiks\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">hifkanotiks</span></a>","replies":[]}]}
