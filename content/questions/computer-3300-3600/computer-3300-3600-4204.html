{"title":"Keanehan terminal setelah menginstal Xcode di Lion","draft":false,"url":"/keanehan-terminal-setelah-menginstal-xcode-di-lion-ebgqfudq","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["macos","mac","command-line","bash","shell"],"snippet":"Saya memiliki prompt bash kustom sederhana:  PS1=\"\\[\\e[47;1;30m\\]\\u@\\h [\\W] \\!\\[\\e[0;32m\\]$\\[\\e[0m\\]\"  Ini bekerja dengan baik di bawah Snow Leopard, dan bekerja dengan baik di Lion  sampai saya menginstal Xcode  . Saya menginstal Xcode 3...","body":"<p> Saya memiliki prompt bash kustom sederhana: </p> <pre><code>PS1=\"\\[\\e[47;1;30m\\]\\u@\\h [\\W] \\!\\[\\e[0;32m\\]$\\[\\e[0m\\]\"\n</code></pre> <p> Ini bekerja dengan baik di bawah Snow Leopard, dan bekerja dengan baik di Lion <em> sampai saya menginstal Xcode </em> . Saya menginstal Xcode 3 (tanpa <em> Alat Sistem </em> atau <em> Pengembangan Unix </em> ) dan kemudian Xcode 4.1.1. </p>\n\n<p> Sekarang, tanda sisipan dimulai di tengah perintah. </p>\n\n<p><img src=\"https://i.stack.imgur.com/8pTew.png\" alt=\"\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>\n\n<p> Dan, bash gagal sepenuhnya pada pembungkusan garis. </p>\n\n<p><img src=\"https://i.stack.imgur.com/dAIlx.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>\n\n<p> Jika saya menghapus <a href=\"https://superuser.com/questions/311511/ps1-problem-cmd-is-looping\" target=\"_blank\" rel=\"nofollow noopener\"> <code>\\[</code> dan <code>\\]</code> </a> , tanda sisipan dimulai di tempat yang tepat tetapi penggabungan garis tidak terjadi sama sekali. </p>\n\n<p> Lebih buruk lagi, <code>man</code> rusak: </p> <pre><code>WARNING: terminal is not fully functional\n-  (press RETURN)\n</code></pre> <p> Apa yang terjadi dengan terminal saya ketika saya menginstal Xcode? Adakah yang punya ide tentang bagaimana membuat ini lebih baik? </p>\n\n<hr>\n\n<p> Menanggapi <a href=\"https://superuser.com/questions/327791/terminal-strangeness-after-installing-xcode-on-lion/339214#339214\" target=\"_blank\" rel=\"nofollow noopener\"> Jawaban Turadg </a> : <code>diff</code> melaporkan bahwa direktori ini hilang dari folder terminfo saya, tetapi ada di direktori instalasi Lion baru (yang lainnya sama): </p>\n\n<blockquote>\n  <p> 31, 32, 33, 34, 35, 36, 37, 38, 39, 4c, 4d, 4e, 50, 51, 58, 66, 6a, 7a </p>\n</blockquote>","source":"https://superuser.com/questions/327791/terminal-strangeness-after-installing-xcode-on-lion","author":"<a href=\"https://superuser.com/users/4096/s4y\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">s4y</span></a>","replies":[{"reply":"Apakah <code>export TERM=xterm</code> memperbaiki masalah ini untuk Anda, Sid?","author":"<a href=\"https://superuser.com/users/89548/chown\" target=\"_blank\" rel=\"nofollow noopener\">chown</a>"},{"reply":"Hai, @chown. Lihat komentar saya atas jawaban Anda.","author":"<a href=\"https://superuser.com/users/4096/s4y\" target=\"_blank\" rel=\"nofollow noopener\">s4y</a>"}],"answers":[{"answer":"<p> Saya mengalami masalah yang sama setelah menginstal Xcode 4.1. Tampaknya telah menggantikan <code>/usr/share/terminfo</code> dan meninggalkan deskriptor untuk <code>xterm-256color</code>, default untuk terminal Lion. </p>\n\n<p> Anda dapat memverifikasi ini yang terjadi pada sistem Anda dengan:\n<code>\ninfocmp xterm-256color\n</code> </p>\n\n<p> Itu harus mengembalikan deskriptor. Jika tidak, maka hilang dari <code>/usr/share/terminfo/78</code>. </p>\n\n<p> Salah satu cara untuk kembali ke terminal yang berfungsi adalah dengan mengatur &quot;TERM = xterm-color&quot;, tetapi kemudian Anda kehilangan fitur yang diperluas dari <code>xterm-256color</code>. Yang saya lakukan adalah memulihkan <code>/usr/share/terminfo</code> dari cadangan (terima kasih Time Machine). Jika Anda tidak memiliki cadangan, Anda dapat menyalinnya dari komputer lain. Untuk lebih jelasnya, lihat ini <a href=\"http://marcoschuh.de/wp/?p=873\" rel=\"nofollow noopener\" target=\"_blank\"> contoh perintah </a> . </p>","votes":"2","source":"https://superuser.com/a/339214","author":"<a href=\"https://superuser.com/users/9707/turadg\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Turadg</span></a>","replies":[{"reply":"Sepertinya ini dia. Sejumlah direktori hilang dari <code>&#47;usr&#47;share&#47;terminfo</code> saya tetapi ada pada instalasi baru Lion. Sekarang saya hanya ingin tahu, apa yang terjadi di sini?","author":"<a href=\"https://superuser.com/users/4096/s4y\" target=\"_blank\" rel=\"nofollow noopener\">s4y</a>"}]},{"answer":"<p> Instal iTerm2, dan hal pertama yang dilakukannya setelah diluncurkan adalah memberi tahu saya bahwa konfigurasi untuk xterm-256colors tidak ada, dan menawarkan untuk menginstalnya. Ini memperbaiki masalah tampilan terminal (yang sekarang secara virtual menjadi titik diperdebatkan karena iTerm2 luar biasa). </p>","votes":"3","source":"https://superuser.com/a/389607","author":"<a href=\"https://superuser.com/users/118255/mike\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">mike</span></a>","replies":[{"reply":"Dari semua jawaban lainnya, hanya ini yang berhasil. Sederhana, tanpa cela, tanpa rasa sakit. Terima kasih, ini membuatku gila.","author":"<a href=\"https://superuser.com/users/121047/christos-sotiriou\" target=\"_blank\" rel=\"nofollow noopener\">Christos Sotiriou</a>"},{"reply":"Mungkin seharusnya ada jawaban yang lebih lugas untuk masalah ini, tetapi ini mudah dan bekerja dengan sempurna.","author":"<a href=\"https://superuser.com/users/144944/bluevoid\" target=\"_blank\" rel=\"nofollow noopener\">BlueVoid</a>"}]},{"answer":"<p> Di ~ / .bashrc atau / etc / bashrc put: </p> <pre><code>export TERM=xterm\n## or export TERM=xterm-color\n</code></pre> <p> Lalu ketik: </p> <pre><code>source ~/.bashrc\n</code></pre> <p> atau </p> <pre><code>source /etc/bashrc\n</code></pre> <p> Jika Anda memiliki kedua file, letakkan di ~ / .bashrc Anda dan sumber yang ada di ~ Anda. </p>\n\n<p> Hal yang sama persis terjadi pada saya kemarin ketika saya menghapus dan menginstal ulang Xcode / developer-tools dan tampaknya variabel env TERM diubah menjadi &quot;xterm-256color&quot; yang memiliki perbedaan cukup besar dengan xterm-color: </p> <pre><code>[ 09:32 root@MacBook-Air ~ ]# infocmp -I xterm-256color &gt; ~/xterm-256color.src\n[ 09:32 root@MacBook-Air ~ ]# infocmp -I xterm-color &gt; ~/xterm-color.src\n[ 09:33 root@MacBook-Air ~ ]# diff xterm-color.src xterm-256color.src\n1,4c1,4\n&lt; # Reconstructed via infocmp from file: /opt/local/share/terminfo/78/xterm-color\n&lt; xterm-color|xterm terminal emulator (X Window System),\n&lt;   am, bce, xenl, km, mir, msgr, npc, mc5i,\n&lt;   cols#80, it#8, lines#24, colors#8, pairs#64,\n---\n&gt; # Reconstructed via infocmp from file: /opt/local/share/terminfo/78/xterm-256color\n&gt; xterm-256color|xterm with 256 colors,\n&gt;   am, bce, ccc, xenl, km, mir, msgr, npc, mc5i,\n&gt;   cols#80, it#8, lines#24, colors#256, pairs#32767,\n12,15c12,17\n&lt;   smir=\\E[4h, rev=\\E[7m, invis=\\E[8m, smso=\\E[7m, smul=\\E[4m,\n&lt;   ech=\\E[%p1%dX, rmacs=\\E(B, rmam=\\E[?7l, sgr0=\\E(B\\E[m,\n&lt;   rmir=\\E[4l, rmso=\\E[27m, rmul=\\E[24m,\n&lt;   flash=\\E[?5h$&lt;100/&gt;\\E[?5l, is2=\\E[!p\\E[?3;4l\\E[4l\\E&gt;,\n---\n&gt;   smcup=\\E[?1049h, smir=\\E[4h, rev=\\E[7m, invis=\\E[8m,\n&gt;   smso=\\E[7m, smul=\\E[4m, ech=\\E[%p1%dX, rmacs=\\E(B,\n&gt;   rmam=\\E[?7l, sgr0=\\E(B\\E[m, rmcup=\\E[?1049l, rmir=\\E[4l,\n&gt;   rmso=\\E[27m, rmul=\\E[24m, flash=\\E[?5h$&lt;100/&gt;\\E[?5l,\n&gt;   is2=\\E[!p\\E[?3;4l\\E[4l\\E&gt;,\n&gt;   initc=\\E]4;%p1%d;rgb\\:%p2%{255}%*%{1000}%/%2.2X/%p3%{255}%*%{1000}%/%2.2X/%p4%{255}%*%{1000}%/%2.2X\\E\\\\,\n39,45c41,49\n&lt;   smkx=\\E[?1h\\E=, rmm=\\E[?1034l, smm=\\E[?1034h,\n&lt;   op=\\E[39;49m, dch=\\E[%p1%dP, dl=\\E[%p1%dM, cud=\\E[%p1%dB,\n&lt;   ich=\\E[%p1%d@, indn=\\E[%p1%dS, il=\\E[%p1%dL,\n&lt;   cub=\\E[%p1%dD, cuf=\\E[%p1%dC, rin=\\E[%p1%dT,\n&lt;   cuu=\\E[%p1%dA, mc0=\\E[i, mc4=\\E[4i, mc5=\\E[5i, rs1=\\Ec,\n&lt;   rs2=\\E[!p\\E[?3;4l\\E[4l\\E&gt;, rc=\\E8, vpa=\\E[%i%p1%dd,\n&lt;   sc=\\E7, ind=^J, ri=\\EM, setab=\\E[4%p1%dm, setaf=\\E[3%p1%dm,\n---\n&gt;   smkx=\\E[?1h\\E=, meml=\\El, memu=\\Em, rmm=\\E[?1034l,\n&gt;   smm=\\E[?1034h, op=\\E[39;49m, dch=\\E[%p1%dP, dl=\\E[%p1%dM,\n&gt;   cud=\\E[%p1%dB, ich=\\E[%p1%d@, indn=\\E[%p1%dS,\n&gt;   il=\\E[%p1%dL, cub=\\E[%p1%dD, cuf=\\E[%p1%dC,\n&gt;   rin=\\E[%p1%dT, cuu=\\E[%p1%dA, mc0=\\E[i, mc4=\\E[4i,\n&gt;   mc5=\\E[5i, rs1=\\Ec, rs2=\\E[!p\\E[?3;4l\\E[4l\\E&gt;, rc=\\E8,\n&gt;   vpa=\\E[%i%p1%dd, sc=\\E7, ind=^J, ri=\\EM,\n&gt;   setab=\\E[%?%p1%{8}%&lt;%t4%p1%d%e%p1%{16}%&lt;%t10%p1%{8}%-%d%e48;5;%p1%d%;m,\n&gt;   setaf=\\E[%?%p1%{8}%&lt;%t3%p1%d%e%p1%{16}%&lt;%t9%p1%{8}%-%d%e38;5;%p1%d%;m,\n47,48d50\n&lt;   setb=\\E[4%?%p1%{1}%=%t4%e%p1%{3}%=%t6%e%p1%{4}%=%t1%e%p1%{6}%=%t3%e%p1%d%;m,\n&lt;   setf=\\E[3%?%p1%{1}%=%t4%e%p1%{3}%=%t6%e%p1%{4}%=%t1%e%p1%{6}%=%t3%e%p1%d%;m,\n</code></pre>","votes":"1","source":"https://superuser.com/a/331528","author":"<a href=\"https://superuser.com/users/89548/chown\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">chown</span></a>","replies":[{"reply":"Ini harus menjadi komentar, bukan jawaban.","author":"<a href=\"https://superuser.com/users/96501/sean-w\" target=\"_blank\" rel=\"nofollow noopener\">Sean W.</a>"},{"reply":"Terima kasih, @chown, tapi menurut saya ini bukan solusi yang tepat. <code>TERM</code> diatur oleh Terminal itu sendiri berdasarkan preferensi Anda (Anda mengaturnya berdasarkan konfigurasi di tab pengaturan), jadi Anda tidak perlu menggantinya. Selain itu, Lion menggunakan <code>xterm-256color</code> secara default, yang berfungsi dengan baik di komputer out-of-box.","author":"<a href=\"https://superuser.com/users/4096/s4y\" target=\"_blank\" rel=\"nofollow noopener\">s4y</a>"},{"reply":"Mungkin konfigurasi diubah untuk xterm-256color ketika xCode diinstal. Saya akan melihat lebih banyak lagi. Btw, saya baru tahu tentang iTerm, jauh lebih unggul dari Terminal! Saya akan sangat merekomendasikannya.","author":"<a href=\"https://superuser.com/users/89548/chown\" target=\"_blank\" rel=\"nofollow noopener\">chown</a>"}]}]}
