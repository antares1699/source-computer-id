{"title":"Tentukan ukuran registri","draft":false,"url":"/tentukan-ukuran-registri-qaye2j3b","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["windows-7","backup","windows-registry"],"snippet":"Bagaimana cara menentukan ukuran registri saya?  Saya mencoba mencadangkan registri saya, dan prosesnya memakan waktu lama.  Saya tidak berpikir ada jalur file yang dapat saya kunjungi untuk memeriksa propertinya seperti file lainnya?...","body":"<p> Bagaimana cara menentukan ukuran registri saya? </p>\n\n<p> Saya mencoba mencadangkan registri saya, dan prosesnya memakan waktu lama. </p>\n\n<p> Saya tidak berpikir ada jalur file yang dapat saya kunjungi untuk memeriksa propertinya seperti file lainnya? Bagaimana cara menentukan ukurannya? </p>","source":"https://superuser.com/questions/374270/determine-size-of-registry","author":"<a href=\"https://superuser.com/users/81403/wizlog\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">wizlog</span></a>","replies":[],"answers":[{"answer":"<p> <code>%windir%\\System32\\config</code> dan <code>%USERPROFILE%\\NTUSER.DAT</code>. Folder config akan disembunyikan, tetapi berisi semua kumpulan registri, KECUALI untuk HKEY_CURRENT_USER, yang merupakan file NTUSER.DAT </p>","votes":"8","source":"https://superuser.com/a/374271","author":"<a href=\"https://superuser.com/users/24010/canadian-luke\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Canadian Luke</span></a>","replies":[{"reply":"Perhatikan bahwa ukuran file belum tentu sama dengan ukuran registri. Seperti banyak format basis data biner lainnya, mungkin saja bagian dari file tersebut digunakan di masa lalu tetapi tidak lagi (mirip dengan bagaimana sistem file terfragmentasi).","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"@grawity Itu benar, tapi benar-benar terlupakan","author":"<a href=\"https://superuser.com/users/24010/canadian-luke\" target=\"_blank\" rel=\"nofollow noopener\">Canadian Luke</a>"},{"reply":"@surfasb Tapi untuk menarik &quot;ahli&quot;, Anda harus: P","author":"<a href=\"https://superuser.com/users/24010/canadian-luke\" target=\"_blank\" rel=\"nofollow noopener\">Canadian Luke</a>"},{"reply":"@grawity: Itu luar biasa.","author":"<a href=\"https://superuser.com/users/24500/surfasb\" target=\"_blank\" rel=\"nofollow noopener\">surfasb</a>"}]},{"answer":"<p> Untuk mendapatkan ukuran database dari Registry, Anda dapat melakukan query WMI <a href=\"https://msdn.microsoft.com/en-us/library/aa394394(v=vs.85).aspx\" rel=\"nofollow noopener\" target=\"_blank\"> Win32_Registry </a> kelas di Powershell, skrip lengkap <a href=\"http://metadataconsulting.blogspot.ca/2016/07/windows-10-registry-size-number-of-keys-number-of-key-value-pairs.html\" rel=\"nofollow noopener\" target=\"_blank\"> sini </a> . </p> <pre><code>$data=Get-WmiObject -Class Win32_Registry -ErrorAction Stop\n#Format the results and write an object to the pipeline \n$data | Select-Object -Property @{Name=\"Computername\";Expression={$_.__SERVER}},\nStatus,\n@{Name=\"Current Size (Mb)\";Expression={$_.CurrentSize}},\n@{Name=\"Max Size (Mb)\";Expression={$_.MaximumSize}},\n@{Name=\"Free Size (Mb)\";Expression={$_.MaximumSize - $_.CurrentSize}},\n@{Name=\"Percent Free (%)\";Expression={ (1 - ($_.CurrentSize/$_.MaximumSize))*100 }},\n@{Name=\"Created\";Expression={$_.ConvertToDateTime($_.InstallDate)}},\n@{Name=\"Age\";Expression={(Get-Date) - ( $_.ConvertToDateTime($_.InstallDate)) }}\n</code></pre>","votes":"1","source":"https://superuser.com/a/1205309","author":"<a href=\"https://superuser.com/users/715138/markus\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Markus</span></a>","replies":[]},{"answer":"<p> Jika Anda dapat memprogram sedikit, lihat <a href=\"https://docs.microsoft.com/en-us/windows/desktop/sysinfo/determining-the-registry-size\" rel=\"nofollow noopener\" target=\"_blank\"> https://docs.microsoft.com/en-us/windows/desktop/sysinfo/determining-the-registry-size </a> . </p>\n\n<p> Salinan: </p> <pre><code>//*******************************************************************\n// \n//  Determines the current and maximum registry size.\n//\n//*******************************************************************\n\n#include &lt;windows.h&gt;\n#include &lt;tchar.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;pdh.h&gt;\n\nPDH_STATUS GetRegistrySize( LPTSTR szMachineName, \n    LPDWORD lpdwCurrentSize, LPDWORD lpdwMaximumSize );\n\n//*******************************************************************\n// \n//  Entry point for the program. This function demonstrates how to\n//  use the GetRegistrySize function implemented below.\n// \n//  It will use the first argument, if present, as the name of the\n//  computer whose registry you wish to determine. If unspecified,\n//  it will use the local computer.\n//*******************************************************************\n\nint _tmain( int argc, TCHAR *argv[] ) \n{\n\n    LPTSTR      szMachineName  = NULL;\n    PDH_STATUS  pdhStatus      = 0;\n    DWORD       dwCurrent      = 0;\n    DWORD       dwMaximum      = 0;\n\n    // Allow a computer name to be specified on the command line.\n    if ( argc &gt; 1 )\n        szMachineName = argv[1];\n\n    // Get the registry size.\n    pdhStatus=GetRegistrySize(szMachineName, &amp;dwCurrent, &amp;dwMaximum);\n\n    // Print the results.\n    if ( pdhStatus == ERROR_SUCCESS ) \n    {\n        _tprintf( TEXT(\"Registry size: %ld bytes\\n\"), dwCurrent );\n        _tprintf( TEXT(\"Max registry size: %ld bytes\\n\"), dwMaximum );\n\n    } \n    else \n    {\n        // If the operation failed, print the PDH error message.\n        LPTSTR szMessage = NULL;\n\n        FormatMessage( FORMAT_MESSAGE_ALLOCATE_BUFFER |\n            FORMAT_MESSAGE_FROM_HMODULE,\n            GetModuleHandle( TEXT(\"PDH.DLL\") ), pdhStatus,\n            MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT),\n            szMessage, 0, NULL );\n\n        _tprintf( TEXT(\"GetRegistrySize failed:  %s\"), szMessage );\n\n        LocalFree( szMessage );\n    }\n\n    return 0;\n}\n\n//*******************************************************************\n// \n//  Retrieves the current and maximum registry size. It gets this\n//  information from the raw counter values for the \"% Registry Quota \n//  In Use\" performance counter within the System object.\n// \n//  PARAMETERS:   \n//      szMachineName - Null-terminated string that specifies the\n//          name of the computer whose registry you wish to query.\n//          If this parameter is NULL, the local computer is used.\n// \n//      lpdwCurrentSize - Receives the current registry size.\n// \n//      lpdwMaximumSize - Receives the maximum registry size.\n// \n//  RETURN VALUE: \n//      ERROR_SUCCESS if successful. Otherwise, the function\n//      returns a PDH error code. These error codes can be\n//      found in PDHMSG.H. A textual error message can be\n//      retrieved from PDH.DLL using the FormatMessage function.\n// \n//******************************************************************\n\nPDH_STATUS GetRegistrySize( LPTSTR szMachineName, \n    LPDWORD lpdwCurrentSize, LPDWORD lpdwMaximumSize ) \n{\n    PDH_STATUS  pdhResult   = 0;\n    TCHAR       szCounterPath[1024];\n    DWORD       dwPathSize  = 1024;\n    PDH_COUNTER_PATH_ELEMENTS pe;\n    PDH_RAW_COUNTER pdhRawValues;\n    HQUERY      hQuery      = NULL;\n    HCOUNTER    hCounter    = NULL;\n    DWORD       dwType      = 0;\n\n    // Open PDH query\n    pdhResult = PdhOpenQuery( NULL, 0, &amp;hQuery );\n    if ( pdhResult != ERROR_SUCCESS )\n        return pdhResult;\n\n    __try \n    {\n        // Create counter path\n        pe.szMachineName     = szMachineName;\n        pe.szObjectName      = TEXT(\"System\");\n        pe.szInstanceName    = NULL;\n        pe.szParentInstance  = NULL;\n        pe.dwInstanceIndex   = 1;\n        pe.szCounterName     = TEXT(\"% Registry Quota In Use\");\n\n        pdhResult = PdhMakeCounterPath( &amp;pe, szCounterPath, \n            &amp;dwPathSize, 0 );\n        if ( pdhResult != ERROR_SUCCESS )\n            __leave;\n\n        // Add the counter to the query\n        pdhResult=PdhAddCounter(hQuery, szCounterPath, 0, &amp;hCounter);\n        if ( pdhResult != ERROR_SUCCESS ) \n            __leave;\n\n        // Run the query to collect the performance data\n        pdhResult = PdhCollectQueryData( hQuery );\n        if ( pdhResult != ERROR_SUCCESS ) \n            __leave;\n\n        // Retrieve the raw counter data:\n        //    The dividend (FirstValue) is the current registry size\n        //    The divisor (SecondValue) is the maximum registry size\n        ZeroMemory( &amp;pdhRawValues, sizeof(pdhRawValues) );\n        pdhResult = PdhGetRawCounterValue( hCounter, &amp;dwType,\n            &amp;pdhRawValues );\n        if ( pdhResult != ERROR_SUCCESS )\n            __leave;\n\n        // Store the sizes in variables.\n        if ( lpdwCurrentSize )\n            *lpdwCurrentSize = (DWORD) pdhRawValues.FirstValue;\n\n        if ( lpdwMaximumSize )\n            *lpdwMaximumSize = (DWORD) pdhRawValues.SecondValue;\n\n    } \n    __finally \n    {\n        // Close the query\n        PdhCloseQuery( hQuery );\n    }\n\n    return 0;\n}\n</code></pre>","votes":"1","source":"https://superuser.com/a/1413024","author":"<a href=\"https://superuser.com/users/1006499/gast128\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">gast128</span></a>","replies":[]},{"answer":"<p> Ada juga utilitas <code>dureg</code>: </p>\n\n<p> Deskripsi: <a href=\"http://support.microsoft.com/kb/317382\" rel=\"nofollow noopener\" target=\"_blank\"> http://support.microsoft.com/kb/317382 </a></p>\n\n<p> Unduhan dalam uraian di atas salah, tetapi Anda dapat mencari di google <code>dureg</code> dan menemukan file yang dapat dieksekusi. Sebagai contoh: <a href=\"http://www.pctools.com/guides/software/detail/30/?act=download\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.pctools.com/guides/software/detail/30/?act=download </a></p>","votes":"0","source":"https://superuser.com/a/838324","author":"<a href=\"https://superuser.com/users/74567/anon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">anon</span></a>","replies":[]}]}
