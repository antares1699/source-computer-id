{"title":"Mengapa robocopy masih menyalin file yang terbuka, dibuka oleh editor txt di windows","draft":false,"url":"/mengapa-robocopy-masih-menyalin-file-yang-terbuka-dibuka-oleh-editor-txt-di-windows-zfk41h5z","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["command-line","batch","file-transfer","robocopy","notepad"],"snippet":"Dari wikipedia, diceritakan bahwa robocopy akan melewatkan penyalinan file dalam status terbuka.  Namun, ketika sedang diuji untuk perilaku robocopy, robocopy masih menyalin file yang dibuka oleh editor teks paling sederhana di windows....","body":"<p> Dari wikipedia, diceritakan bahwa robocopy akan melewatkan penyalinan file dalam status terbuka. </p>\n\n<p> Namun, ketika sedang diuji untuk perilaku robocopy, robocopy masih menyalin file yang dibuka oleh editor teks paling sederhana di windows. Mengapa? </p>","source":"https://superuser.com/questions/1360780/why-robocopy-still-copy-an-open-file-opened-by-txt-editor-in-windows","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ken</span></a>","replies":[{"reply":"Kemungkinan duplikat dari <a href=\"https://superuser.com/questions/853420/why-is-windows-not-warning-about-file-in-use-for-certain-programs\" target=\"_blank\" rel=\"nofollow noopener\"> Mengapa Windows tidak memperingatkan tentang file yang digunakan untuk program tertentu? </a>","author":"<a href=\"https://superuser.com/users/241386/phuclv\" target=\"_blank\" rel=\"nofollow noopener\">phuclv</a>"}],"answers":[{"answer":"<p> Pertama, seperti yang dicatat dengan benar oleh @fejyesynb, Notepad tidak menyimpan pegangan file yang aktif - ini membuka file, dengan cepat membaca (atau menulis) data, dan menutup file lagi. Itu <em> data </em> ada di layar, tetapi file tersebut sebenarnya ditutup sepanjang waktu. </p>\n\n<p> Kedua, Windows telah mewarisi dari MS-DOS konsep &quot;mode berbagi&quot; sebagai bentuk penguncian file yang sederhana. Saat membuka file, Anda dapat memilih untuk membagikannya untuk dibaca / ditulis, hanya untuk dibaca, atau tidak sama sekali. </p>\n\n<p> Misalnya, jika program Anda (robocopy) ingin membuka file untuk dibaca (FileAccess.Read), itu akan <em> hanya </em> berhasil jika semua pegangan file yang ada mengizinkan mode berbagi &#39;baca&#39; (atau jika tidak ada pegangan file yang terbuka sama sekali). Tetapi jika file dibuka dengan &quot;share none&quot;, maka Anda akan mendapatkan &quot;File in use&quot; jika Anda mencoba membukanya untuk <em> apa saja </em> tujuan. </p>\n\n<p> Anda dapat melakukan ini di PowerShell, dengan memanggil .NET tingkat rendah <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.file.open?view=netframework-4.7.2\" rel=\"nofollow noopener\" target=\"_blank\"> System.IO.File.Open () </a> fungsi: </p> <pre><code>$fh = [System.IO.File]::Open($path,\n                             [System.IO.FileMode]::Open,\n                             [System.IO.FileAccess]::Read,\n                             [System.IO.FileShare]::None)\n</code></pre> <p> Parameter ke-4 bisa apa saja <a href=\"https://docs.microsoft.com/en-us/dotnet/api/system.io.fileshare?view=netframework-4.7.2\" rel=\"nofollow noopener\" target=\"_blank\"> System.IO.FileShare enum </a> nilai, misalnya: </p>\n\n<ul>\n<li> <code>[System.IO.FileShare]::None</code> - tidak berbagi apa-apa </li>\n<li> <code>[System.IO.FileShare]::Read</code> - bagikan baca (blokir tulis / hapus) </li>\n<li> <code>[System.IO.FileShare]::ReadWrite</code> - bagikan baca / tulis (hapus blok) </li>\n</ul>\n\n<p> Setelah selesai: </p> <pre><code>$fh.Close()\n</code></pre>","votes":"5","source":"https://superuser.com/a/1360809","author":"<a href=\"https://superuser.com/users/1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">grawity</span></a>","replies":[{"reply":"Notepad tidak membuka file. <a href=\"https://stackoverflow.com/a/45645766/995714\" target=\"_blank\" rel=\"nofollow noopener\"> Ini memetakan file secara langsung </a>","author":"<a href=\"https://superuser.com/users/241386/phuclv\" target=\"_blank\" rel=\"nofollow noopener\">phuclv</a>"}]},{"answer":"<p> Karena Anda memikirkan arti yang berbeda dari &quot;terbuka&quot;. </p>\n\n<p> Notepad (dan semua editor teks lain yang saya tahu) membuka file untuk dibaca, lalu Anda melihatnya di layar. Lalu itu <em> tutup </em> file sementara Anda masih dapat melihat isinya (sekarang dalam RAM). </p>\n\n<p> Jika, misalnya, Anda memiliki <code>fd = open(\"file.txt\", FLAGS);</code> dan belum (belum) ditutup pada <code>close(fd)</code>, maka tidak akan disalin dengan robocopy. </p>","votes":"3","source":"https://superuser.com/a/1360783","author":"<a href=\"https://superuser.com/users/860739/fejyesynb\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">fejyesynb</span></a>","replies":[{"reply":"Jadi, bagaimana saya bisa mensimulasikan kasus untuk tetap membuka file dengan cara yang sederhana? Saya ingin menunjukkan properti robocopy yang akan menghindari penyalinan properti file yang terbuka. Tetapi tidak dapat menemukan cara sederhana untuk terus membukanya","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"},{"reply":"Cara paling sederhana yang dapat saya pikirkan (di Windows) adalah dengan membuat program C sederhana yang membuka file, tidur selama 60 detik dan menutup setelahnya. Anda kemudian memiliki waktu 60 detik untuk menguji robocopy.","author":"<a href=\"https://superuser.com/users/860739/fejyesynb\" target=\"_blank\" rel=\"nofollow noopener\">fejyesynb</a>"},{"reply":"@cuda Untuk jawaban yang lebih konkret, buka pertanyaan baru (1 pertanyaan per posting di SE)","author":"<a href=\"https://superuser.com/users/860739/fejyesynb\" target=\"_blank\" rel=\"nofollow noopener\">fejyesynb</a>"},{"reply":"Selain membuat program dan tempat di komputer sesi jarak jauh itu, ada cara yang lebih sederhana dengan skrip windows? tidak tahu program C / JAVA / C #","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"},{"reply":"Saya rasa skrip tidak cukup rendah untuk panggilan sistem <code>open</code> dan <code>close</code>","author":"<a href=\"https://superuser.com/users/860739/fejyesynb\" target=\"_blank\" rel=\"nofollow noopener\">fejyesynb</a>"},{"reply":"stackexchange memberlakukan aturan untuk membuat pertanyaan lain dalam 40 menit kemudian. Apakah ada cara lain untuk menjaga file tetap terbuka tanpa menulis program C yang paling sederhana, tidak memiliki alat IDE atau hak istimewa untuk menginstal","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"},{"reply":"tebak sesuatu seperti ini <a href=\"https://social.technet.microsoft.com/Forums/en-US/a6231646-57df-43ca-86db-dc04d93c32de/opening-text-file-with-vbscript?forum=ITCG\" rel=\"nofollow noopener\" target=\"_blank\"> social.technet.microsoft.com/Forums/en-US/… </a>","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"},{"reply":"membuka pertanyaan lain di sini <a href=\"https://superuser.com/questions/1360787/how-to-simply-keep-a-file-in-open-status-without-help-of-program-in-c-language-e\" title=\"how to simply keep a file in open status without help of program in c language e\" target=\"_blank\" rel=\"nofollow noopener\"> superuser.com/questions/1360787/… </a> tetapi tampaknya tidak berfungsi dengan skrip itu ... file masih disalin ... robocoy tidak mengabaikan penyalinannya","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"},{"reply":"@fejyesynb: Hampir semuanya <i> di atas level Cmd </i> bisa mengatasinya. PowerShell memiliki akses runtime .NET penuh, misalnya.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"@grawity akan sangat dihargai jika Anda dapat memberikan beberapa wawasan tentang cara bekerja untuk membuka dan menahan pegangan file tanpa menutup file, kemudian saya menjalankan robocopy untuk melihat apakah itu benar-benar berfungsi dengan menghindari menyalin file yang dibuka.","author":"<a href=\"https://superuser.com/users/947206/ken\" target=\"_blank\" rel=\"nofollow noopener\">Ken</a>"}]},{"answer":"<h1 class=\"h3\"> Tergantung bagaimana file tersebut dibuka! </h1>\n<p> Banyak aplikasi <strong> memuat seluruh file ke memori dan tutup </strong> itu, jadi sebenarnya file tersebut tidak digunakan. Ini tentu saja tidak dapat digunakan dengan file besar, oleh karena itu editor untuk file teks besar memiliki berbagai teknik untuk bekerja secara efisien, seperti memuat sebagian file ke memori sekaligus </p>\n<p> Banyak orang lain yang tetap membuka pegangan file, tetapi mereka <strong><a href=\"https://stackoverflow.com/q/26198169/995714\" target=\"_blank\" rel=\"nofollow noopener\"> jangan mengunci file </a></strong></p>\n<p><strong> Catatan OTOH <a href=\"https://blogs.msdn.microsoft.com/oldnewthing/20180521-00/?p=98795\" rel=\"nofollow noopener\" target=\"_blank\"> memetakan file ke memori </a></strong> , menghasilkan file yang tidak <em> terlihat seperti sedang dibuka </em> . Itu berarti apa yang dikatakan fejyesynb tidak benar, karena tidak memuat file ke RAM </p>\n<p> Untuk informasi lebih lanjut Anda dapat membaca </p>\n<ul>\n<li><a href=\"https://superuser.com/q/853420/241386\" target=\"_blank\" rel=\"nofollow noopener\"> Mengapa Windows tidak memperingatkan tentang file yang digunakan untuk program tertentu? </a></li>\n<li><a href=\"https://stackoverflow.com/q/45644934/995714\" target=\"_blank\" rel=\"nofollow noopener\"> Notepad mengalahkan semuanya? </a></li>\n<li><a href=\"https://superuser.com/q/1184789/241386\" target=\"_blank\" rel=\"nofollow noopener\"> Powershell: Dapatkan-Konten tanpa mengunci file </a></li>\n</ul>","votes":"1","source":"https://superuser.com/a/1360839","author":"<a href=\"https://superuser.com/users/241386/phuclv\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">phuclv</span></a>","replies":[]}]}
