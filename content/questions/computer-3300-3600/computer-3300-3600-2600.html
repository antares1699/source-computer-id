{"title":"Periksa apakah ada file kosong di dalam folder","draft":false,"url":"/periksa-apakah-ada-file-kosong-di-dalam-folder-hbqv13e8","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["bash","script"],"snippet":"Saya memiliki skrip yang mengunduh 17 file dari server FTP setiap saat, tetapi terkadang beberapa file berbobot &quot;0&quot; karena beberapa alasan.  Jadi saya mencari skrip bash yang memeriksa apakah ada file yang...","body":"<p> Saya memiliki skrip yang mengunduh 17 file dari server FTP setiap saat, tetapi terkadang beberapa file berbobot &quot;0&quot; karena beberapa alasan. </p>\n\n<p> Jadi saya mencari skrip bash yang memeriksa apakah ada file yang ukurannya nol. </p>\n\n<p> Bagaimana saya bisa melakukan ini? </p>\n\n<p> EDIT: Saya ingin menggunakan pernyataan if-else: jika ada file 0 byte, saya harus menjalankan skrip bash lagi. </p>","source":"https://superuser.com/questions/988111/check-if-there-are-any-empty-files-in-a-folder","author":"<a href=\"https://superuser.com/users/308034/giacomo\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Giacomo</span></a>","replies":[],"answers":[{"answer":"<p> Jika Anda hanya ingin membuat daftar file 0-byte, Anda dapat menggunakan <code>find</code>: </p>\n\n<p> Contoh menggunakan <code>find</code>: </p> <pre><code>$ find . -type f -size 0b\n./4.txt\n./5.txt\n./6.txt\n</code></pre> <p> Keuntungan menggunakan <code>find</code> adalah Anda dapat dengan mudah menyalurkannya ke <code>xargs</code> untuk melakukan apa yang Anda inginkan dengan file (seperti menghapusnya), yang jauh lebih mudah daripada menggunakan loop <code>for</code>. </p>\n\n<p> Jika Anda ingin melakukan sesuatu dengan file-file ini setelah menemukannya, misalnya, menghapus semua file 0-byte (sambil memperhitungkan nama file yang aneh), saya akan melakukan sesuatu seperti ini: </p> <pre><code>$ find -type f -size 0b -print0 | xargs -0I file rm -v file\nremoved ‘./4.txt’\nremoved ‘./5.txt’\nremoved ‘./6.txt’\n</code></pre> <p> Selain itu, opsi lain untuk hanya mencantumkan semua file di direktori bersama dengan ukuran file dalam format yang dapat dibaca manusia, gunakan <code>du -h</code>. </p>\n\n<p> Contoh menggunakan <code>du</code>: </p> <pre><code>$ du -h *\n1.0K    1.txt\n1.0K    2.txt\n1.0K    3.txt\n0       4.txt\n0       5.txt\n0       6.txt\n</code></pre> <p><strong> EDIT: </strong> Selama Anda mengetahui cara menemukan file kosong, Anda dapat melakukan operasi tambahan dengan beberapa cara. Contoh berikut mungkin bukan cara terbaik untuk melakukannya, tetapi jika Anda benar-benar mencari pernyataan <code>if/else</code>, Anda dapat melakukan sesuatu seperti ini: </p> <pre><code>#!/bin/bash\n\nfor i in *; do\n  if [[ $(du -h \"$i\" | awk '{print $1}') = 0 ]]; then\n    echo \"$i is empty.\"\n  else\n    echo \"$i is not empty.\"\n  fi\ndone\n</code></pre> <p> Pengembalian: </p> <pre><code>1.txt is not empty.\n2.txt is not empty.\n3.txt is not empty.\n4.txt is empty.\n5.txt is empty.\n6.txt is empty.\n</code></pre>","votes":"7","source":"https://superuser.com/a/988115","author":"<a href=\"https://superuser.com/users/501366/rubynorails\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">rubynorails</span></a>","replies":[{"reply":"@Giacomo - Saya telah memperbarui jawaban saya untuk mencerminkan permintaan Anda untuk operasi <code>if&#47;else</code>.","author":"<a href=\"https://superuser.com/users/501366/rubynorails\" target=\"_blank\" rel=\"nofollow noopener\">rubynorails</a>"},{"reply":"<code>wc -c</code> juga berfungsi, menggantikan <code>du -h</code>. :)","author":"<a href=\"https://superuser.com/users/246582/h-j-k\" target=\"_blank\" rel=\"nofollow noopener\">h.j.k.</a>"}]}]}
