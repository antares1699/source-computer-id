{"title":"Bagaimana cara menanyakan DNS melalui HTTPS / DNS melalui TLS menggunakan baris perintah?","draft":false,"url":"/bagaimana-cara-menanyakan-dns-melalui-https-dns-melalui-tls-menggunakan-baris-perintah-81y20dqe","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["command-line","dns"],"snippet":"Saya sedang menulis skrip yang perlu meminta data DNS dengan server DNS yang ditentukan pengguna. Server DNS mungkin menggunakan protokol apa pun, termasuk UDP, TCP, DNS over HTTPS (DoH), dan DNS over...","body":"<p> Saya sedang menulis skrip yang perlu meminta data DNS dengan server DNS yang ditentukan pengguna. Server DNS mungkin menggunakan protokol apa pun, termasuk UDP, TCP, DNS over HTTPS (DoH), dan DNS over TLS (DoT). </p>\n\n<p> Saya tahu <code>dig</code> mampu menangani DNS untuk UDP dan TCP (dengan bendera <code>+tcp</code>). Apakah ada cara agar saya dapat menggunakan <code>dig</code> atau alat lain untuk menanyakan server DoH dan DoT? </p>\n\n<p> Saya lebih suka alat populer yang sudah ada seperti <code>curl</code> sehingga skrip saya lebih portabel, tetapi saran lain juga diterima. </p>","source":"https://superuser.com/questions/1532975/how-to-query-for-dns-over-https-dns-over-tls-using-command-line","author":"<a href=\"https://superuser.com/users/136726/shou-ya\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Shou Ya</span></a>","replies":[{"reply":"Berikut salah satu alat yang saya temukan yang menggunakan curl untuk kueri DoH: <a href=\"https://github.com/curl/doh\" rel=\"nofollow noopener\" target=\"_blank\"> github.com/curl/doh </a> . Itu tidak mendukung DoT.","author":"<a href=\"https://superuser.com/users/136726/shou-ya\" target=\"_blank\" rel=\"nofollow noopener\">Shou Ya</a>"}],"answers":[{"answer":"<p> Saya tidak menemukan satu alat pun untuk kedua tujuan tersebut, tetapi saya menemukan cara untuk menggunakannya. </p>\n<p> Ada dua cara untuk menanyakan DoH: </p> <pre><code># json\ncurl -H 'accept: application/dns-json' 'https://cloudflare-dns.com/dns-query?name=example.com&amp;type=A' | jq .\n# dns wireformat\ncurl -H 'accept: application/dns-message' 'https://dns.google/dns-query?dns=q80BAAABAAAAAAAAA3d3dwdleGFtcGxlA2NvbQAAAQAB'  | hexdump -c\n</code></pre> <p> Untuk DoT, Anda dapat menggunakan alat <code>kdig</code> yang disediakan oleh <code>knot</code>. Baris perintahnya mirip dengan <code>dig</code>: </p> <pre><code>apt-get install knot-dnsutils\n# For macOS:\n# brew install knot\nkdig -d @8.8.8.8 +tls-ca +tls-host=dns.google.com example.com\n</code></pre> <p> di mana <code>8.8.8.8</code> adalah alamat yang telah diselesaikan sebelumnya dari host tls (<code>dns.google.com</code>). </p>\n<hr>\n<p> Pembaruan: Ini adalah alat ( <a href=\"https://github.com/ameshkov/dnslookup\" rel=\"nofollow noopener\" target=\"_blank\"> https://github.com/ameshkov/dnslookup </a> ) yang mendukung semua protokol DNS utama sendiri dan mampu menghasilkan keluaran yang dapat dibaca mesin. </p>","votes":"8","source":"https://superuser.com/a/1562943","author":"<a href=\"https://superuser.com/users/136726/shou-ya\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Shou Ya</span></a>","replies":[{"reply":"Di baris dns.google, bagaimana &#39;q80BAAABAAAAAAAAA3d3dwdleGFtcGxlA2NvbQAAAQAB&#39; dibuat / dihitung?","author":"<a href=\"https://superuser.com/users/170017/john-siu\" target=\"_blank\" rel=\"nofollow noopener\">John Siu</a>"},{"reply":"@JohnSiu: Di sini, Anda dapat melihat artikel ini: <a href=\"https://developers.cloudflare.com/1.1.1.1/dns-over-https/wireformat/\" rel=\"nofollow noopener\" target=\"_blank\"> developers.cloudflare.com/1.1.1.1/dns-over-https/wireformat </a>","author":"<a href=\"https://superuser.com/users/136726/shou-ya\" target=\"_blank\" rel=\"nofollow noopener\">Shou Ya</a>"}]},{"answer":"<p><strong> keriting </strong> memiliki resmi <strong> DoH </strong> mendukung sejak versi 7.62.0 (pertanyaannya adalah berapa banyak titik akhir target Anda yang telah diperbarui ke versi ini.) </p>\n\n<p> Gunakan dengan memanfaatkan opsi <code>--doh-url</code>. Contoh: </p> <pre><code>curl --doh-url https://cloudflare-dns.com/dns-query https://www.google.com\n</code></pre> <p> Lihat: <a href=\"https://github.com/curl/curl/wiki/DOH-implementation\" rel=\"nofollow noopener\" target=\"_blank\"> https://github.com/curl/curl/wiki/DOH-implementation </a>\n<a href=\"https://daniel.haxx.se/blog/2018/09/06/doh-in-curl/\" rel=\"nofollow noopener\" target=\"_blank\"> https://daniel.haxx.se/blog/2018/09/06/doh-in-curl/ </a></p>","votes":"4","source":"https://superuser.com/a/1533013","author":"<a href=\"https://superuser.com/users/368970/yisroel-tech\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Yisroel Tech</span></a>","replies":[]},{"answer":"<p> Jika dig dikompilasi untuk mendukungnya + tls: </p> <pre><code>dig @127.0.0.1 google.com +tls\n\n; &lt;&lt;&gt;&gt; DiG 9.17.8 &lt;&lt;&gt;&gt; @127.0.0.1 google.com +tls\n; (1 server found)\n;; global options: +cmd\n;; Got answer:\n;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 54991\n;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1\n\n;; OPT PSEUDOSECTION:\n; EDNS: version: 0, flags:; udp: 1232\n; COOKIE: 065928dae0bd1d28010000005fdd61d904c6723221991bf3 (good)\n;; QUESTION SECTION:\n;google.com.                    IN      A\n\n;; ANSWER SECTION:\ngoogle.com.             300     IN      A       172.217.0.238\n\n;; Query time: 1123 msec\n;; SERVER: 127.0.0.1**#853**(127.0.0.1) **(TLS)**\n;; WHEN: Sat Dec 19 02:13:45 UTC 2020\n;; MSG SIZE  rcvd: 83\n</code></pre>","votes":"0","source":"https://superuser.com/a/1611099","author":"<a href=\"https://superuser.com/users/1253012/guest\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">guest</span></a>","replies":[]}]}
