{"title":"Bagaimana cara mengubah ukuran indentasi secara massal","draft":false,"url":"/bagaimana-cara-mengubah-ukuran-indentasi-secara-massal-tuptfder","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["text-editing"],"snippet":"Saya memiliki sejumlah besar file yang diindentasi dengan cara tertentu dan ingin mengonversinya ke gaya indentasi yang berbeda (file tersebut diindentasi dengan 4 spasi dan saya ingin menggunakan 2 spasi). Bagaimana saya...","body":"<p> Saya memiliki sejumlah besar file yang diindentasi dengan cara tertentu dan ingin mengonversinya ke gaya indentasi yang berbeda (file tersebut diindentasi dengan 4 spasi dan saya ingin menggunakan 2 spasi). Bagaimana saya dapat menyesuaikan lekukan secara otomatis untuk sekumpulan file massal (sebaiknya diberi daftar file, karena hanya file dengan ekstensi tertentu yang memiliki ukuran tab ini). </p>\n\n<p> Saya menggunakan Windows tetapi memiliki akses ke mesin Linux dan menginstal Cygwin. </p>\n\n<p> Untuk apa nilainya, saya memiliki lekukan yang sangat bersih dan konsisten. Ini tidak sesederhana mengganti 4 spasi dengan 2, karena kami hanya ingin mengganti spasi di depan. </p>","source":"https://superuser.com/questions/860555/how-do-i-bulk-change-indentation-sizes","author":"<a href=\"https://superuser.com/users/224406/kat\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Kat</span></a>","replies":[{"reply":"Apa itu &#39;sejumlah besar&#39;?","author":"<a href=\"https://superuser.com/users/141909/jan-doggen\" target=\"_blank\" rel=\"nofollow noopener\">Jan Doggen</a>"},{"reply":"@JanDoggen, sebenarnya tidak terlalu besar, mungkin seratus. Cukup kecil setiap metode otomatis seharusnya berfungsi dengan baik tetapi terlalu besar untuk dilakukan secara manual.","author":"<a href=\"https://superuser.com/users/224406/kat\" target=\"_blank\" rel=\"nofollow noopener\">Kat</a>"},{"reply":"Itulah mengapa saya bertanya: untuk seratus file (dengan asumsi ini adalah operasi sekali-saja) editor teks Anda mungkin cukup baik jika memiliki makro keyboard (atau fungsi berulang) dan dapat memilih semua + outdent.","author":"<a href=\"https://superuser.com/users/141909/jan-doggen\" target=\"_blank\" rel=\"nofollow noopener\">Jan Doggen</a>"}],"answers":[{"answer":"<p> Satu baris berikut: </p> <pre class=\"lang-bash prettyprint-override\"><code>perl -ne '$_ =~ s|^((    )+)|\"  \" x (length($1)/4)|eg; print $_' &lt; test.txt\n</code></pre> <p> Mengganti indentasi 4 spasi dengan indentasi 2 spasi. </p>\n\n<p> (Anda dapat memverifikasi dengan mengganti <code>\"  \"</code> dengan <code>\"-+\"</code> untuk melihat pola yang dihasilkan) </p>\n\n<p> Sekarang, kita dapat membuat file bash, sebut saja <code>indent-changer.sh</code>: </p> <pre class=\"lang-bsh prettyprint-override\"><code>#!/bin/bash\nwhile read filename; do\n    if ! [[ -r \"$filename\" ]]; then\n        echo \"Skipping '$filename' because not readable\"\n        continue\n    fi\n    tempfile=\"$(mktemp)\"\n    if perl -ne '$_ =~ s|^((    )+)|\"  \" x (length($1)/4)|eg; print $_' &lt; \"$filename\" &gt; \"$tempfile\"; then\n        mv \"$filename\" \"$filename\".orig\n        mv \"$tempfile\" \"$filename\"\n        echo \"Success processing '$filename'\"\n    else\n        echo \"Failure processing '$filename'\"\n    fi\ndone &lt; \"$1\"\n</code></pre> <p> Buang daftar file yang akan diproses menjadi file, dan jalankan skrip di atas. File asli masih ada dengan akhiran <code>.orig</code> ditambahkan. Misalnya: </p> <pre class=\"lang-bsh prettyprint-override\"><code>find . -type f -iname \"*.txt\" &gt; files-to-process.lst\n# Verify or edit the .lst file as needed\n./indent-changer.sh files-to-process.lst &gt; processing.log\n</code></pre> <p> Anda dapat memeriksa processing.log untuk kegagalan dengan mudah, dengan melakukan <code>egrep -v '^Success' processing.log</code>. </p>\n\n<hr>\n\n<p> PS: Saya menguji one-liner (tetapi bukan skrip bash) pada instalasi Cygwin saya; Saya tidak ingat apakah <code>perl</code> adalah bagian dari instalasi asli, atau ditambahkan sesudahnya. Tapi saya pikir itu bagian dari instalasi asli. </p>\n\n<p> Menguji pola <code>\"-+\"</code> dengan file berikut: </p> <pre class=\"lang-none prettyprint-override\"><code>THis is a test file\n    With indentation\n        more indentation\n        plus    internal spaces\n    outdent\n        indent again\n        another    internal space example\n          two spaces after two indents\n        end\n    end\nend\n</code></pre> <p> Hasil dalam: </p> <pre class=\"lang-none prettyprint-override\"><code>THis is a test file\n-+With indentation\n-+-+more indentation\n-+-+plus    internal spaces\n-+outdent\n-+-+indent again\n-+-+another    internal space example\n-+-+  two spaces after two indents\n-+-+end\n-+end\nend\n</code></pre> <hr>\n\n<p><strong> Edit 2: </strong> Berikut adalah versi Perl one-liner yang lebih umum: </p> <pre><code>perl -ne '$f=\"    \";$t=\"  \";$_=~s|^(($f)+)|$t x (length($1)/length($f))|eg; print $_' &lt; test.txt\n</code></pre> <p> Dengan versi ini, cukup edit definisi untuk <code>$f</code> dan <code>$t</code> sesuai kebutuhan. </p>","votes":"4","source":"https://superuser.com/a/860725","author":"<a href=\"https://superuser.com/users/70507/pepoluan\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">pepoluan</span></a>","replies":[{"reply":"Sebuah karya seni! Terima kasih :)","author":"<a href=\"https://superuser.com/users/575300/micahblu\" target=\"_blank\" rel=\"nofollow noopener\">micahblu</a>"}]},{"answer":"<p> Cara paling sederhana yang dapat saya pikirkan untuk menggunakan <code>unexpand</code> dan <code>expand</code>, tergantung pada sistem yang Anda gunakan, perintah berikut (berfungsi di Arch Linux) mungkin atau mungkin tidak berfungsi (perintah ini di OS X dan Arch Linux memiliki kumpulan argumen yang berbeda. <code>man unexpand</code> dan <code>man expand</code> milik Anda sendiri untuk penggunaan terperinci.), </p> <pre><code>unexpand  -t 4 --first-only [your_file] &gt; [temp]\nexpand -i -t 2 [temp] &gt; [output]\n</code></pre> <p> Apa yang dilakukan oleh perintah pertama adalah mengganti semua indentasi 4 spasi utama di <code>[your_file]</code> menjadi tab, hasilnya disimpan sebagai <code>[temp]</code>. Perintah kedua mengganti semua tab utama di <code>[temp]</code> menjadi grup 2 spasi, keluarannya <code>[output]</code>. </p>\n\n<p> Tentu saja Anda juga bisa menyalurkannya ke dalam bentuk yang lebih pendek </p> <pre><code>unexpand --first-only -t 4 [your_file] | expand -i -t 2 &gt; [output]\n</code></pre> <p> Untuk mengubah indentasi untuk sejumlah besar file, Anda dapat menulis file script kecil, <code>example.sh</code> </p> <pre><code>FILES=/path/to/*.[your_suffix]\nOLD_LENGTH=4        # old indentation length\nNEW_LENGTH=2        # new indentation length\nfor f in $FILES; do\n  unexpand --first-only -t $OLD_LENGTH f | expand -i -t $NEW_LENGTH &gt; f\ndone\n</code></pre> <p> Dengan memohon </p> <pre><code>sh ./example.sh\n</code></pre> <p> Anda akan mengubah indentasi semua file sesuai dengan pola <code>/path/to/*.[your_suffix]</code>. </p>","votes":"5","source":"https://superuser.com/a/861211","author":"<a href=\"https://superuser.com/users/208708/chong\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Chong</span></a>","replies":[]}]}
