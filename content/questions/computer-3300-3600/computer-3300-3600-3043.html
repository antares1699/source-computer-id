{"title":"Linux shell: mengemas kembali arsip bz2 ke xz","draft":false,"url":"/linux-shell-mengemas-kembali-arsip-bz2-ke-xz-biwsycya","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["bash","bzip2"],"snippet":"Bagaimana cara mengemas ulang arsip .bz2 ke format .xz, jika saya ingin menyimpan stempel tanggal file dan pengaturan chmod-chownnya?  Saya dapat menggunakan alat standar apa saja dan xz, lzma, p7zip","body":"<p> Bagaimana cara mengemas ulang arsip .bz2 ke format .xz, jika saya ingin menyimpan stempel tanggal file dan pengaturan chmod-chownnya? </p>\n\n<p> Saya dapat menggunakan alat standar apa saja dan xz, lzma, p7zip </p>","source":"https://superuser.com/questions/322571/linux-shell-repack-a-bz2-archive-into-xz","author":"<a href=\"https://superuser.com/users/15484/osgx\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">osgx</span></a>","replies":[],"answers":[{"answer":"<p> Anda perlu memecahnya menjadi dua bagian </p>\n\n<p> 1) Konversi dari bz2 ke xz, yang dijawab oleh billc.cn </p>\n\n<p> 2) Perbaiki kepemilikan, izin, dan stempel waktu file xz agar sesuai dengan bz2. </p> <pre><code>chown \"`stat --printf '%u:%g' file.bz2`\" file.xz\nchmod \"`stat -c '%a' file.bz2`\" file.xz\ntouch -a -d \"`stat -c '%x' file.bz2`\" file.xz\ntouch -m -d \"`stat -c '%y' file.bz2`\" file.xz\n</code></pre>","votes":"2","source":"https://superuser.com/a/323273","author":"<a href=\"https://superuser.com/users/93263/brightlancer\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">brightlancer</span></a>","replies":[]},{"answer":"<p> Anda cukup menggunakan <code>bzcat</code> untuk menghapus kompresi bzip2 tetapi tetap menggunakan format tar dan kemudian menyalurkan hasilnya ke <code>xz</code>: </p> <pre><code>bzcat file.tar.bz | xz &gt; file.tar.xz\n</code></pre> <p> Anda dapat menambahkan opsi kompresi Anda ke <code>xz</code> seperti biasa, tetapi tinggalkan nama file sehingga input standar yang digunakan. </p>","votes":"5","source":"https://superuser.com/a/322593","author":"<a href=\"https://superuser.com/users/58450/billc-cn\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">billc.cn</span></a>","replies":[{"reply":"dan bagaimana &quot;menyimpan stempel tanggal file dan pengaturan chmod-chownnya?&quot;","author":"<a href=\"https://superuser.com/users/15484/osgx\" target=\"_blank\" rel=\"nofollow noopener\">osgx</a>"},{"reply":"Info meta file disimpan dalam file tar dan tidak ditangani oleh algoritma kompresi. Jika Anda tidak menyentuh tar, maka tidak akan ada yang berubah. Jika Anda mengompresi file tanpa tar, Anda sudah kehilangan semua info meta.","author":"<a href=\"https://superuser.com/users/58450/billc-cn\" target=\"_blank\" rel=\"nofollow noopener\">billc.cn</a>"},{"reply":"maaf, saya tidak bertanya tentang &quot;tar.bz2&quot; tapi tentang &quot;bz2&quot;. Tar ditambahkan dalam jawaban Anda oleh Anda. Saya ingin menyimpan stempel File.bz2 (File.xz harus memiliki stempel yang sama).","author":"<a href=\"https://superuser.com/users/15484/osgx\" target=\"_blank\" rel=\"nofollow noopener\">osgx</a>"},{"reply":"Dalam hal ini pertanyaannya tidak ada hubungannya dengan bzip atau xz karena format ini TIDAK menyimpan cap waktu di file arsip. Saat Anda mendekompresi, stempel waktu dari file yang dikompresi akan digunakan untuk keluaran. Untuk menyetel stempel waktu file, Anda dapat menggunakan <code>touch</code>. <code>ls</code> memiliki opsi tambahan untuk menampilkan waktu {pembuatan, akses, modifikasi} lengkap dari file asli Anda.","author":"<a href=\"https://superuser.com/users/58450/billc-cn\" target=\"_blank\" rel=\"nofollow noopener\">billc.cn</a>"},{"reply":"Bukan di dalam file, tapi dari arsip itu sendiri. Saya ingin mengemas kembali banyak bzip2 backup dengan xz dan timestamp arsip adalah informasi berharga dalam kasus saya.","author":"<a href=\"https://superuser.com/users/15484/osgx\" target=\"_blank\" rel=\"nofollow noopener\">osgx</a>"},{"reply":"Kemudian Anda dapat menggunakan <code>ls</code> (atau <code>stat</code>) untuk mendapatkan tanggal dari bzip2 dan menggunakan <code>touch</code> untuk mengaturnya pada xz baru. Anda mungkin harus menulis skrip shell untuk ini.","author":"<a href=\"https://superuser.com/users/58450/billc-cn\" target=\"_blank\" rel=\"nofollow noopener\">billc.cn</a>"},{"reply":"sulit untuk mengurai keluaran ls karena dalam format yang berbeda. Saya benar-benar memiliki banyak file dan tidak dapat mengonversi secara manual; file terlama 4+ tahun yang lalu, lebih baru beberapa minggu.","author":"<a href=\"https://superuser.com/users/15484/osgx\" target=\"_blank\" rel=\"nofollow noopener\">osgx</a>"},{"reply":"Dalam hal ini gunakan <code>stat -c %X</code> untuk mendapatkan nilai mentahnya. Ubah X untuk Y dan Z, untuk mendapatkan modifikasi dan mengubah waktu. Lihat halaman manual untuk <code>stat</code>.","author":"<a href=\"https://superuser.com/users/58450/billc-cn\" target=\"_blank\" rel=\"nofollow noopener\">billc.cn</a>"}]}]}
