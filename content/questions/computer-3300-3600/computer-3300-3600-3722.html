{"title":"apa itu `ssh-agent bin / bash` dan mengapa saya harus` ssh-add` setiap saat","draft":false,"url":"/apa-itu-ssh-agent-bin-bash-dan-mengapa-saya-harus-ssh-add-setiap-saat-5upo62ut","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","bash","ssh","git","bashrc"],"snippet":"Saya harus menjalankan perintah berikut setiap kali saya memulai ulang:  ssh-agent /bin/bashssh-add ~/.ssh/key_rsa  Pertanyaan pertama adalah mengapa /bin/bash diperlukan dan digunakan untuk apa?  Kedua, Bolehkah saya menjalankan perintah ini setiap kali...","body":"<p> Saya harus menjalankan perintah berikut setiap kali saya memulai ulang: </p> <pre><code>ssh-agent /bin/bash\nssh-add ~/.ssh/key_rsa\n</code></pre> <p> Pertanyaan pertama adalah mengapa <code>/bin/bash</code> diperlukan dan digunakan untuk apa? </p>\n\n<p> Kedua, Bolehkah saya menjalankan perintah ini setiap kali restart, atau haruskah saya meletakkan ini di <code>.bashrc</code> atau di suatu tempat sehingga saya tidak perlu <code>ssh-add</code> setiap saat. </p>\n\n<p> Perhatikan bahwa saya menggunakan <code>screen</code> dan setiap tab layar berbeda dan saya harus menjalankan perintah ini untuk setiap tab layar. </p>\n\n<p><strong> Edit: </strong></p>\n\n<p> Misalnya ketika saya perlu melakukan push ke github, saya perlu melakukan <code>ssh-add ~/.ssh/github_rsa</code>, tetapi ini tidak berfungsi kecuali saya melakukan <code>ssh-agent /bin/bash</code> terlebih dahulu. </p>\n\n<p> Ini mungkin terkait dengan <code>screen</code> karena <code>ssh-agent</code> biasa tidak berfungsi, dan ssh-agent sudah berjalan, namun saya harus melakukan <code>ssh-agent /bin/bash</code>. </p>","source":"https://superuser.com/questions/819709/what-is-ssh-agent-bin-bash-and-why-i-have-to-ssh-add-everytime","author":"<a href=\"https://superuser.com/users/326953/mattheew\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">mattheew</span></a>","replies":[{"reply":"Hanya ingin tahu masalah apa yang Anda coba selesaikan - bagaimana Anda menentukan &quot;Saya harus menjalankan yang berikut ini&quot;; untuk mendapatkan kunci ssh di setiap login saya memiliki yang berikut ini sebagai satu baris di .bashrc &quot;eval <code>keychain --eval id_rsa id_dsa</code>&quot; saya","author":"<a href=\"https://superuser.com/users/108088/nwaltham\" target=\"_blank\" rel=\"nofollow noopener\">nwaltham</a>"},{"reply":"@nwaltham misalnya saya menjalankan perintah ini jika saya ingin mendorong ke github, saya perlu melakukan <code>ssh-add github_rsa</code> jika saya belum melakukannya. (<code>ssh-add</code> tidak berfungsi secara default jadi saya harus menjalankan <code>ssh-agent &#47;bin&#47;bash</code> terlebih dahulu). Dapatkah Anda menjelaskan solusi Anda sedikit lebih banyak, yaitu <code>keychain</code> dan mempostingnya sebagai jawaban. Silakan juga lihat hasil edit saya.","author":"<a href=\"https://superuser.com/users/326953/mattheew\" target=\"_blank\" rel=\"nofollow noopener\">mattheew</a>"},{"reply":"Anda harus memeriksa ssh-ident jika Anda belum menemukan atau mendengarnya. Jelas sudah lama sejak operasi, tetapi Anda tidak pernah tahu. Ini memperbaiki masalah Anda karena harus selalu memulai ulang agen dan menambahkan kunci Anda - dan melakukannya dengan cara paling aman yang tersedia saat ini ... kecuali saya melewatkan sesuatu. <a href=\"https://github.com/ccontavalli/ssh-ident\" rel=\"nofollow noopener\" target=\"_blank\"> github.com/ccontavalli/ssh-ident </a>","author":"<a href=\"https://superuser.com/users/291721/creationtribe\" target=\"_blank\" rel=\"nofollow noopener\">CreationTribe</a>"}],"answers":[{"answer":"<p> <code>ssh-agent</code> adalah daemon yang menyimpan kunci ssh yang didekripsi ke dalam memori ketika Anda <code>ssh-add</code>, sehingga Anda tidak perlu mengetikkan kata sandi untuk mendekripsinya setiap kali <code>ssh</code> mencoba menggunakannya untuk otentikasi. Itu sedang di-cache dalam memori berarti bahwa saat <code>ssh-agent</code> dimulai, kunci harus didekripsi dan ditambahkan ke agen lagi, itulah mengapa Anda perlu <code>ssh-add</code> lagi. </p>\n\n<p> Bagian <code>/bin/bash</code> sebenarnya tidak diperlukan. Biasanya ketika Anda memulai <code>ssh-agent</code> itu akan mencetak beberapa variabel lingkungan ke stdout yang dimaksudkan menjadi <code>eval</code>ed sehingga <code>ssh</code> mengetahui di mana soket <code>ssh-agent</code> berada. Jika Anda malah memberikan perintah <code>ssh-agent</code> ketika Anda memulainya, perintah itu akan menjalankan perintah itu dengan variabel lingkungan yang ditetapkan sebagai gantinya. </p>\n\n<p> Ini berarti instance bash yang Anda gunakan setelah menjalankan perintah adalah subkulit dari yang Anda gunakan sebelumnya. Masalah dengan menambahkannya ke <code>.bashrc</code> Anda adalah bahwa shell baru <code>ssh-agent</code> mulai akan berjalan <code>ssh-agent</code> lagi, menyebabkan loop rekursif, yang tidak Anda inginkan. Sebaliknya, Anda mungkin ingin memulai <a href=\"https://wiki.archlinux.org/index.php/SSH_keys#ssh-agent\" rel=\"nofollow noopener\" target=\"_blank\"> <code>ssh-agent</code> di <code>.bash_profile</code> Anda </a> dan evaluasi hasilnya daripada memulai subkulit, lalu gunakan <code>ssh-add</code> sendiri secara manual sekali setiap kali Anda masuk. </p>\n\n<p> Pilihan lainnya adalah menggunakan <a href=\"https://wiki.archlinux.org/index.php/GNOME_Keyring\" rel=\"nofollow noopener\" target=\"_blank\"> Gantungan Kunci GNOME </a> Emulasi agen SSH alih-alih menggunakan <code>ssh-agent</code>. Tidak seperti <code>ssh-agent</code> yang tidak menyimpan frasa sandi Anda, GNOME Keyring akan menyimpan frasa sandi ke kunci dalam sebuah keyring sehingga Anda tidak perlu menambahkan kunci secara manual. </p>","votes":"4","source":"https://superuser.com/a/819805","author":"<a href=\"https://superuser.com/users/86534/remmy\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">remmy</span></a>","replies":[{"reply":"Bagaimana ini terkait dengan saya menggunakan <code>screen</code>. Juga bagian <code>&#47;bin&#47;bash</code> diperlukan dalam kasus saya, ketika saya hanya menjalankan <code>ssh-agent</code> dan melakukan kesalahan <code>ssh-add -l</code>: <code>Failed connection to auth agent</code>. Apa yang menjadi masalah tentang itu? Terakhir, apakah praktik yang baik untuk meletakkan <code>ssh-add id_rsa</code> ke <code>bashrc</code> bersama dengan <code>ssh-agent</code>? Terima kasih @kyrias.","author":"<a href=\"https://superuser.com/users/326953/mattheew\" target=\"_blank\" rel=\"nofollow noopener\">mattheew</a>"},{"reply":"Ini terkait karena Anda tidak memiliki variabel lingkungan yang disetel pada <code>screen</code>. Ketika Anda memulai <code>ssh-agent</code> itu akan mencetak beberapa keluaran yang berisi perintah untuk mengatur variabel (<code>foo=&quot;bar&quot;</code>) dan kemudian mengekspornya ke lingkungan (<code>export foo</code>), dan karena Anda belum menjalankan perintah tersebut <code>ssh-add</code> tidak akan dapat menemukan soket <code>ssh-agent</code> (Bagian <code>SSH_AUTH_SOCK</code> dari keluaran <code>ssh-agent</code>).","author":"<a href=\"https://superuser.com/users/86534/remmy\" target=\"_blank\" rel=\"nofollow noopener\">remmy</a>"},{"reply":"Re: <code>ssh-add id_rsa</code>, jika kunci Anda tidak memiliki set frasa sandi, itu akan berfungsi dengan baik, tetapi <code>ssh-agent</code> akan agak tidak berguna untuk digunakan, dan jika kunci ssh Anda <i> tidak </i> memiliki frasa sandi, ini mungkin tidak berfungsi karena mungkin tidak dapat meminta frasa sandi untuk mendekripsi kunci.","author":"<a href=\"https://superuser.com/users/86534/remmy\" target=\"_blank\" rel=\"nofollow noopener\">remmy</a>"}]},{"answer":"<p> Saya sarankan Anda menggunakan gantungan kunci <a href=\"http://www.funtoo.org/Keychain\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.funtoo.org/Keychain </a></p>\n\n<p> Keychain membantu Anda mengelola kunci ssh dan GPG dengan cara yang nyaman dan aman. Ini bertindak sebagai frontend untuk ssh-agent dan ssh-add, tetapi memungkinkan Anda untuk dengan mudah memiliki satu proses ssh-agent yang berjalan lama per sistem, daripada norma satu ssh-agent per sesi login. </p>\n\n<p> Pertama Anda akan menginstalnya sesuai dengan distribusi Anda untuk debian / ubuntu </p> <pre><code>apt-get install keychain\n</code></pre> <p> Kemudian tambahkan yang berikut ini ke file ~ / .bashrc: </p> <pre><code>eval `keychain --eval id_rsa`\n</code></pre>","votes":"2","source":"https://superuser.com/a/819811","author":"<a href=\"https://superuser.com/users/108088/nwaltham\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">nwaltham</span></a>","replies":[{"reply":"Ini cara terbaik untuk pergi. JAUH lebih baik daripada meminta setiap kali Anda melakukan subkulit.","author":"<a href=\"https://superuser.com/users/92115/erik-aronesty\" target=\"_blank\" rel=\"nofollow noopener\">Erik Aronesty</a>"}]}]}
