{"title":"keluar dari e2fsck saat boot","draft":false,"url":"/keluar-dari-e2fsck-saat-boot-wfw6b9o1","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","boot","debian","fsck"],"snippet":"Apakah mungkin untuk entah bagaimana keluar dari e2fsck saat boot?  Sistem saya menjalankan e2fsck setiap 30 hari, yang menurut saya baik-baik saja dan saya ingin tetap seperti itu. Tetapi terkadang ketika saya...","body":"<p> Apakah mungkin untuk entah bagaimana keluar dari e2fsck saat boot? </p>\n\n<p> Sistem saya menjalankan e2fsck setiap 30 hari, yang menurut saya baik-baik saja dan saya ingin tetap seperti itu. Tetapi terkadang ketika saya menyalakan komputer dan 30 hari telah berlalu, saya masih ingin komputer itu boot dengan cepat. Misalnya ketika saya harus memberikan presentasi dari laptop - bayangkan mengatakan kepada 50 orang &quot;kita hanya perlu menunggu 10 menit ... tidak, saya tidak bisa menghindarinya ... ya, ini Linux, mengapa Anda bertanya ? &quot; :) </p>\n\n<p> Jika saya menekan Ctrl + C itu menghentikan pemeriksaan dan melanjutkan urutan boot, tetapi sistem tidak dapat digunakan karena sistem file root dipasang hanya-baca. Dan setelah saya reboot, pemeriksaan dimulai lagi. </p>\n\n<p> Saya telah mencari di Internet untuk jawabannya dan ada banyak pertanyaan serupa, tetapi saya tidak dapat menemukan solusi. Ada yang tahu solusinya? </p>\n\n<p><strong> Catatan </strong> : Saya mencari solusi yang akan <strong> tidak </strong> nonaktifkan fsck dan itu akan terjadi <strong> tidak </strong> memerlukan tindakan apa pun sebelum me-reboot komputer - Saya tidak tahu sebelumnya, saya harus melewati pemeriksaan. </p>\n\n<p> Jika penting: Debian 6 (Squeeze). \\ </p>\n\n<p><strong> MEMPERBARUI </strong> : Saya belajar bahwa adalah mungkin untuk keluar dari e2fsck dengan kunci Esc di Ubuntu. Inilah yang saya cari - ada yang tahu bagaimana mewujudkannya di Debian? </p>\n\n<p><strong> LARUTAN </strong> : Jawaban Garrett benar, saya harus mengedit <code>/etc/init.d/checkroot.sh</code>. Tepat sebelum baris ini: </p> <pre><code>#\n# The actual checking is done here.\n#\nif [ \"$rootcheck\" = yes ]\nthen\n    ...\n</code></pre> <p> Saya menambahkan baris ini: </p> <pre><code>if [ \"$rootcheck\" = yes ]\nthen\n    if [ -f /forcefsck ] || grep -s -w -i \"forcefsck\" /proc/cmdline\n    then\n        echo \"fsck was forced.\"\n    else\n        echo \"********************************************************************************************************\"\n        echo \"*                                                                                                      *\"\n        echo \"*  WARNING: fsck should be run, but it is disabled. Create /forcefsck and reboot at your convenience.  *\"\n        echo \"*                                                                                                      *\"\n        echo \"********************************************************************************************************\"\n        rootcheck=\"no\"\n    fi\nfi\n</code></pre> <p> Bekerja dengan baik - Saya tersenyum setiap kali saya melihat pesan tersebut, karena tahu saya baru saja menyelamatkan setengah jam dari hidup saya. :) </p>","source":"https://superuser.com/questions/384243/break-out-of-e2fsck-on-boot","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">johndodo</span></a>","replies":[{"reply":"Bagaimanapun juga, pemeriksaan itu tidak ada gunanya, jadi yang terbaik adalah menonaktifkannya.","author":"<a href=\"https://superuser.com/users/62814/psusi\" target=\"_blank\" rel=\"nofollow noopener\">psusi</a>"},{"reply":"Sangat tidak setuju dengan komentar sebelumnya. Mereka ada karena suatu alasan, dan kecuali Anda menyukai data yang tidak konsisten, saya tidak akan mengikuti komentar yang begitu berani.","author":"<a href=\"https://superuser.com/users/103171/garrett\" target=\"_blank\" rel=\"nofollow noopener\">Garrett</a>"},{"reply":"Saya menduga bahwa Anda menggunakan filesystem ext3. Jika Anda malah menggunakan ext4, Anda akan merasakan fsck lebih cepat ... partisi ~ 200GB saya dengan lebih dari 100GB data mungkin membutuhkan 10 detik. Faktanya, itulah salah satu fitur yang membuat filesystem ini sangat menarik bagi saya (saya mulai menggunakannya sebelum dinyatakan stabil).","author":"<a href=\"https://superuser.com/users/34953/tshepang\" target=\"_blank\" rel=\"nofollow noopener\">tshepang</a>"},{"reply":"Namun, lebih cepat tidak cukup baik - Saya ingin melewati langkah ini kecuali saya bersedia menunggu.","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"},{"reply":"Jika Anda tidak menyukai otomatis <code>fsck</code>, sebaiknya Anda menggunakan <code>tune2fs</code> dengan opsi <code>-c</code> dan <code>-C</code> dan <code>-i</code>. Lihat <code>man tune2fs</code> untuk lebih jelasnya. Kemudian lakukan membuat manual <code>fsck</code> berjalan sesekali. Pemeriksaan berkala tidak hanya untuk kemungkinan kesalahan driver sistem file, itu juga dimaksudkan untuk mendeteksi kemungkinan masalah perangkat keras.","author":"<a href=\"https://superuser.com/users/100154/mikko-rantalainen\" target=\"_blank\" rel=\"nofollow noopener\">Mikko Rantalainen</a>"},{"reply":"Sebenarnya saya suka ide otomatis <code>fsck</code> (komputer lebih baik dalam mengingat untuk menjalankannya), saya hanya ingin memilih keluar sekarang dan nanti (bila tidak nyaman). Terima kasih atas sarannya, mereka mungkin membantu orang lain.","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"}],"answers":[{"answer":"<p> Ada tiga cara mudah untuk mencapai apa yang ingin Anda lakukan, tergantung situasinya. </p>\n\n<ol>\n<li> Saat mematikan, gunakan baris perintah <code>shutdown</code> biner dan teruskan saklar <code>-f</code>, mis. untuk reboot: <code>shutdown -rf now</code>. Anda juga dapat membuat pintasan dengan ini jika Anda mau. Ini akan melewati pemeriksaan fsck hanya pada reboot berikutnya. </li>\n<li> Ketika menu grub ditampilkan saat boot, tekan &#39;e&#39; untuk mengedit kernel boot saat ini, edit baris vmlinuz dan tambahkan <code>fastboot</code> di bagian akhir. Seperti opsi 1, ini melewatkan pemeriksaan fsck untuk boot itu saja. </li>\n<li> Jika kamu <em> Betulkah </em> ingin menonaktifkan pemeriksaan seluruhnya (tidak disarankan), Anda dapat mengedit file <code>/etc/fstab</code>. Temukan baris dengan filesystem root Anda dan pada akhirnya akan ada dua angka, biasanya <code>1 2</code>. Mengubah angka terakhir (2 di sini) menjadi 0 akan mencegah semua pemeriksaan fsck waktu boot otomatis agar tidak berjalan pada volume itu. </li>\n</ol>\n\n<p> Edit untuk # 2: Anda dapat menambahkan entri baru ke grub untuk <code>fastboot</code>, yang mungkin lebih cocok untuk contoh kasus Anda. Ini mempertahankan pemeriksaan fsck normal sambil memberikan pilihan selama boot. </p>","votes":"6","source":"https://superuser.com/a/384401","author":"<a href=\"https://superuser.com/users/103171/garrett\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Garrett</span></a>","replies":[{"reply":"+1! Opsi pertama dan ketiga tidak memungkinkan bagi saya, tetapi opsi kedua adalah. Jika centang &quot;terjadi&quot;, saya dapat menggunakan Ctrl + C, reboot dan menggunakan opsi fastboot (yang dapat saya persiapkan sebelumnya). Saya akan menunggu untuk melihat apakah ada cara yang lebih mudah, tetapi itu juga akan membantu! Terima kasih! :)","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"},{"reply":"Saya tidak dapat membuatnya berfungsi dengan opsi 2, tetapi saya telah menemukan cara untuk menyelesaikan masalah ini untuk saya (saya telah memperbarui pertanyaan dengan jawabannya). Terima kasih!","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"}]},{"answer":"<p> Meskipun tidak secara langsung menjawab pertanyaan Anda tentang bagaimana membatalkan fsck yang sedang berjalan, jika sebelumnya Anda mengetahui bahwa Anda akan membutuhkan boot cepat (seperti jika Anda berencana untuk memberikan presentasi) maka Anda pasti dapat menjalankan fsck secara manual di beberapa sebelumnya. waktu. Ini akan memberi Anda waktu 30 hari baru sebelum pemeriksaan sistem file otomatis berikutnya tanpa menyentuh konfigurasi sistem apa pun. </p>","votes":"1","source":"https://superuser.com/a/384257","author":"<a href=\"https://superuser.com/users/53590/user\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user</span></a>","replies":[{"reply":"Terima kasih, tetapi saya memiliki hal-hal yang lebih baik untuk dilakukan daripada menghitung berapa hari berlalu dari cek terakhir, Anda tahu ...;) Selain lelucon, saya benar-benar tidak senang dengan prospek mengurus pemeriksaan fs secara manual.","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"},{"reply":"Yah, selalu ada <code>dumpe2fs -h</code> dan <code>Mount count</code>, <code>Maximum mount count</code> dan <code>Next check after</code> bit informasinya. Saya setuju bahwa ini tidak optimal (dan poin @ Garrett pada <code>fastboot</code> mungkin lebih baik, jika berhasil untuk Anda) tetapi peringatan dari jawaban saya <i> dulu </i> khususnya &quot;jika Anda tahu sebelumnya&quot;.","author":"<a href=\"https://superuser.com/users/53590/user\" target=\"_blank\" rel=\"nofollow noopener\">user</a>"},{"reply":"Ya, tapi pertanyaan saya secara khusus menyatakan &quot;Saya tidak tahu sebelumnya&quot; ...;) Tetap saja, terima kasih atas jawabannya. Alasan untuk menjawabnya adalah bahwa sebagian besar pertanyaan yang saya temukan memiliki jenis jawaban yang sama - tidak ada yang sesuai dengan tagihan saya. Saya menghargai usaha itu.","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"}]},{"answer":"<p> Anda dapat mengedit skrip startup yang memanggil fsck. Misalnya, Anda dapat membuatnya bertanya kepada konsol apakah akan melakukan fsck, dengan batas waktu. Skripnya ada di /etc/init.d/checkroot.sh dan /etc/init.d/checkfs.sh. </p>\n\n<p> Saya perhatikan bahwa salinan saya memiliki kode ini di dalamnya yang dapat Anda aktifkan kembali: </p> <pre><code># Disabled AC power check until fsck can be told to only check the\n# file system if it is corrupt when running on battery. (bug #526398)\n#       if which on_ac_power &gt;/dev/null 2&gt;&amp;1 &amp;&amp; [ \"$rootcheck\" = yes ]\n#       then\n#               on_ac_power &gt;/dev/null 2&gt;&amp;1\n#               if [ \"$?\" -eq 1 ]\n#               then\n#                       log_warning_msg \"On battery power, so skipping file system check.\"\n#                       rootcheck=no\n#               fi\n#       fi\n</code></pre>","votes":"1","source":"https://superuser.com/a/384274","author":"<a href=\"https://superuser.com/users/10680/pjc50\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">pjc50</span></a>","replies":[{"reply":"jika saya mengerti dengan benar, ini akan melewati pemeriksaan setiap kali saya menggunakan baterai?","author":"<a href=\"https://superuser.com/users/103984/johndodo\" target=\"_blank\" rel=\"nofollow noopener\">johndodo</a>"},{"reply":"Ya, jika on_ac_power ada dan berfungsi dengan baik.","author":"<a href=\"https://superuser.com/users/10680/pjc50\" target=\"_blank\" rel=\"nofollow noopener\">pjc50</a>"}]}]}
