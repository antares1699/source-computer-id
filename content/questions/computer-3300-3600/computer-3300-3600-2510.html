{"title":"Menggunakan perintah sed untuk baris tertentu","draft":false,"url":"/menggunakan-perintah-sed-untuk-baris-tertentu-cpd9hvpp","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","bash","script","sed"],"snippet":"Saya ingin mengubah sel dalam file ketika keadaan yang saya inginkan ada. Contoh:  Mengajukan:  id311    vmName1    state0id312    vmName2    state0id313    vmName3    state0  Saya akan mengetikkan skrip dan skrip ini mengubah kolom...","body":"<p> Saya ingin mengubah sel dalam file ketika keadaan yang saya inginkan ada. Contoh: </p>\n\n<p> Mengajukan: </p> <pre><code>id311    vmName1    state0\nid312    vmName2    state0\nid313    vmName3    state0\n</code></pre> <p> Saya akan mengetikkan skrip dan skrip ini mengubah kolom status hanya satu baris. Jadi jika saya mengetik <code>sed -i 's/state0/state1/g'</code> semua <code>state0</code> menjadi <code>state1</code>. Saya ingin mengubah status hanya satu baris seperti: </p>\n\n<p> Mengajukan: </p> <pre><code>id311    vmName1    state0\nid312    vmName2    state1\nid313    vmName3    state0 \n</code></pre> <p> Bagaimana saya bisa menggunakan perintah <code>sed</code> untuk baris khusus dengan use id?\ncatatan: id unik. </p>","source":"https://superuser.com/questions/1239822/using-sed-command-for-a-specific-line","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Arda G&#252;ven</span></a>","replies":[],"answers":[{"answer":"<p> Tambahkan saja nomor baris sebelumnya: <code>sed '&lt;line number&gt;s/&lt;search pattern&gt;/&lt;replacement string&gt;/</code>. </p> <pre><code>$ sed '1s/state0/XXXX/' file\nid311    vmName1    XXXX\nid312    vmName2    state0\nid313    vmName3    state0\n</code></pre> <p> Karena Anda ingin mengedit di tempat, ucapkan: </p> <pre><code>sed -i.bak '1s/state0/XXXX/' file\n</code></pre> <p> Catatan Saya menggunakan <code>.bak</code> setelah bendera <code>-i</code>. Ini akan melakukan perubahan pada <code>file</code> itu sendiri tetapi juga akan membuat file cadangan <code>file.bak</code> dengan konten <code>file</code> saat ini sebelum perubahan. </p>\n\n<hr>\n\n<p> Untuk nomor baris variabel, gunakan variabel secara normal, serta tanda kutip ganda agar diperluas: </p> <pre><code>sed -i.bak \"${lineNumber}s/state0/XXXX/\" file\n</code></pre>","votes":"5","source":"https://superuser.com/a/1239832","author":"<a href=\"https://superuser.com/users/204979/fedorqui\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">fedorqui</span></a>","replies":[{"reply":"Terima kasih tetapi tidak mengubah file. Saya kira begitu. Saya ingin mengubah baris di file.","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\">Arda G&#xFC;ven</a>"},{"reply":"@ A.Guven hanya menempatkan <code>-i</code> sebagai percobaan Anda menunjukkan.","author":"<a href=\"https://superuser.com/users/204979/fedorqui\" target=\"_blank\" rel=\"nofollow noopener\">fedorqui</a>"},{"reply":"Nah, bagaimana saya bisa menggunakan ini dengan variabel seperti $ lineNumber?","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\">Arda G&#xFC;ven</a>"},{"reply":"@ A.Guven lihat pembaruan.","author":"<a href=\"https://superuser.com/users/204979/fedorqui\" target=\"_blank\" rel=\"nofollow noopener\">fedorqui</a>"}]},{"answer":"<blockquote>\n  <p> Bagaimana saya bisa menggunakan perintah <code>sed</code> untuk baris khusus dengan use id? catatan: id unik. </p>\n</blockquote>\n\n<p> Karena <code>id</code> unik, masuk akal untuk menggunakan bidang pertama sebagai kunci: </p> <pre><code>sed -i '/id312/s/state0/state1/' file\n</code></pre> <hr>\n\n<p> Anda mungkin ingin membuat perintah, dan meneruskan nomor id dan file sebagai parameter: </p> <pre><code>#!/usr/bin/env bash\nsed -i \"/id$1/s/state0/state1/\" $2\n</code></pre> <p> memanggilnya seperti ini: </p> <pre><code>./sed.sh 312 file\n</code></pre> <p><strong> catatan: </strong> Selalu berhati-hati dengan sakelar <code>-i</code>: uji dulu tanpanya. </p>","votes":"2","source":"https://superuser.com/a/1239986","author":"<a href=\"https://superuser.com/users/700617/simlev\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">simlev</span></a>","replies":[{"reply":"Terima kasih. tetapi saya tidak dapat menggunakan parameter dengan skrip. ada bug di platform saya, saya rasa begitu. tapi bagaimanapun solusi Anda benar. Terima kasih lagi.","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\">Arda G&#xFC;ven</a>"},{"reply":"saya mendapatkan nomor baris dengan menggunakan id dengan &quot;cat -n&quot; untuk saat ini.","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\">Arda G&#xFC;ven</a>"},{"reply":"@ A.Guven Anda dapat melewati bagian perantara tentang nomor baris dan menggunakan id seperti pada contoh pertama.","author":"<a href=\"https://superuser.com/users/700617/simlev\" target=\"_blank\" rel=\"nofollow noopener\">simlev</a>"},{"reply":"ya benar. maaf, otak saya tidak bekerja sekarang :)","author":"<a href=\"https://superuser.com/users/707269/arda-g%c3%bcven\" target=\"_blank\" rel=\"nofollow noopener\">Arda G&#xFC;ven</a>"}]}]}
