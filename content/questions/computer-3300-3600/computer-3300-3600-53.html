{"title":"Folder / tmp saya bukan partisi tetapi ukurannya tetap. Mengapa?","draft":false,"url":"/folder-tmp-saya-bukan-partisi-tetapi-ukurannya-tetap-mengapa-6olpo2y2","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","memory","partitioning"],"snippet":"Saya sedang mengompilasi 2 kernel sekaligus tetapi proses kompilasi terhenti. Alasan: / tmp direktori penuh. Saya memeriksa dengan df dan ... / tmp memiliki ukuran tetap 2GB! (PC saya memiliki RAM 4GB)...","body":"<p> Saya sedang mengompilasi 2 kernel sekaligus tetapi proses kompilasi terhenti. Alasan: / tmp direktori penuh. Saya memeriksa dengan df dan ... / tmp memiliki ukuran tetap 2GB! (PC saya memiliki RAM 4GB) Mengapa? Saya bahkan tidak memiliki partisi / tmp ... bagaimana cara mengubahnya? </p> <pre><code>    File system    1K-blocks    Usati Disponib. Uso% Montato su\n/dev/sda5       35431432 13651652  19973276  41% /\ndev              1989592        0   1989592   0% /dev\nrun              1992432      976   1991456   1% /run\ntmpfs            1992432      280   1992152   1% /dev/shm\ntmpfs            1992432        0   1992432   0% /sys/fs/cgroup\ntmpfs            1992432  1436412    556020  73% /tmp\n</code></pre>","source":"https://superuser.com/questions/619324/my-tmp-folder-isnt-a-partition-but-has-fixed-size-why","author":"<a href=\"https://superuser.com/users/237883/peperunas\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">peperunas</span></a>","replies":[{"reply":"Linux apa yang Anda gunakan? Apakah ini 32 atau 64bit? Bisakah Anda memperbarui pertanyaan Anda dengan keluaran <code>free -h</code>?","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\">terdon</a>"}],"answers":[{"answer":"<p> Menempatkan batas pada ukuran <code>/tmp</code> jika dipasang sebagai <code>tmpfs</code> adalah untuk mencegah serangan DOS. Jika satu layanan disusupi atau satu pengguna jahat, mereka cukup menulis ke <code>/tmp</code> hingga semua swap dan memori terisi. </p>\n\n<p> Karena kondisi OOM tidak berlaku untuk file, proses akan dimatikan sampai shell pengguna yang jahat akan dimatikan (dan dia tidak akan bisa masuk karena kekurangan memori) atau layanan yang dikompromikan akan dimatikan. Pada tahap ini sistem akan terlalu lambat bagi administrator untuk benar-benar melakukan apa pun selain memulai ulang, yang akan menghapus bukti sehingga menjadikannya teknik DOS yang efektif. </p>\n\n<p> Tidak memiliki <code>/tmp</code> sebagai mount terpisah maka masalah yang sedikit berbeda akan terjadi. Membuat partisi <code>/</code> penuh dapat membuat sistem tidak dapat di-boot dan dalam situasi yang sangat buruk (katakanlah pembaruan glibc) mungkin memerlukan lebih banyak perbaikan. </p>\n\n<p> Meskipun masalah tersebut dapat menjadi signifikan untuk multi-sistem, ada juga alasan untuk mencegahnya bagi pengguna desktop. Misalnya saya pernah menggunakan program yang mencoba menulis beberapa GB file pada saat 512 MiB adalah sejumlah besar RAM, yang akan membuat sistem tidak dapat digunakan seandainya <code>tmpfs</code> tidak terbatas. Dengan cara demikian, ini hanya menyebabkan masalah bagi program itu sendiri dan program lain yang mencoba menulis ke <code>/tmp</code>. </p>\n\n<p> 50% dari RAM untuk tmpfs memungkinkan untuk menggunakan 50% dari RAM untuk hal-hal lain seperti menjalankan program sehingga mencegah pertukaran yang besar. Karena secara umum diasumsikan bahwa jumlah informasi minimal disimpan di sana (41M di sistem saya), tetapi itu perlu diakses dengan cepat adalah alasan menggunakan tmpfs di tempat pertama (tidak perlu menyimpannya di reboot mengaktifkannya). Jadi 50% adalah &#39;masuk akal&#39; untuk keduanya memiliki kelonggaran besar jika penggunaan puncak <code>/tmp</code> terjadi sementara pada saat yang sama mencegah perlambatan sistem. </p>\n\n<p> Seperti yang disebutkan oleh abdelsaid, Anda dapat mengubah pengaturan di <code>/etc/fstab</code>: </p> <pre><code>none /tmp tmpfs size=2G 0 0 # Change the size= parameter to whatever you want\n</code></pre> <p> PS. Di mana Anda mencoba untuk mengkompilasi kernel (pada <code>/tmp</code>)? Biasanya Anda mengkompilasinya dengan hak pengguna DAN menyimpan hasilnya jika Anda membutuhkan modul pihak ketiga, dll. Gcc harus menyimpan jumlah file minimal pada <code>/tmp</code> sehingga menghindari keseluruhan masalah. </p>\n\n<p> Setelah Anda menggunakan 4 GB <code>/tmp</code> pada sistem 4GB, mungkin (terutama bila Anda menggunakan lingkungan desktop kelas berat) bahwa sistem Anda akan melambat secara signifikan. </p>","votes":"7","source":"https://superuser.com/a/619398","author":"<a href=\"https://superuser.com/users/30462/maciej-piechotka\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Maciej Piechotka</span></a>","replies":[]},{"answer":"<p> Dengan instalasi default, RHEL dan sebagian besar distribusi Linux me-mount tmpfs (sistem file sementara berbasis RAM) ke direktori / dev / shm dan ukuran sistem file sementara ini selalu <strong> diatur menjadi setengah dari memori yang terpasang </strong> . </p>\n\n<p> sumber: <a href=\"http://www.walkernews.net/2010/05/04/how-to-resize-devshm-filesystem-in-linux/\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.walkernews.net/2010/05/04/how-to-resize-devshm-filesystem-in-linux/ </a></p>\n\n<p> Anda dapat mengubahnya dengan menentukan size = ... di / etc / fstab: </p>\n\n<p> misalnya 2 GB: </p> <pre><code>tmpfs      /dev/shm      tmpfs   defaults,size=2g   0   0\n</code></pre> <p> misalnya 4 GB: </p> <pre><code>tmpfs      /dev/shm      tmpfs   defaults,size=4g   0   0\n</code></pre>","votes":"5","source":"https://superuser.com/a/619337","author":"<a href=\"https://superuser.com/users/117319/vimdude\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">vimdude</span></a>","replies":[{"reply":"Masalahnya adalah dengan <code>&#47;tmp</code> bukan <code>&#47;dev&#47;shm</code> (yang terakhir hampir tidak digunakan).","author":"<a href=\"https://superuser.com/users/30462/maciej-piechotka\" target=\"_blank\" rel=\"nofollow noopener\">Maciej Piechotka</a>"},{"reply":"/ tmp menggunakan tmpfs yang sama persis dengan / dev / shm","author":"<a href=\"https://superuser.com/users/117319/vimdude\" target=\"_blank\" rel=\"nofollow noopener\">vimdude</a>"}]},{"answer":"<p> Jika Anda lebih suka tidak memasang / tmp di tmpfs, lihat di / etc / fstab untuk baris yang mirip dengan ini: </p> <pre><code>tmpfs /tmp tmpfs defaults,noexec,nosuid 0 0\n</code></pre> <p> Hapus jika ada. </p>\n\n<p> Bergantung pada distribusinya, ini juga dapat dikonfigurasi di / etc / default / tmpfs atau / etc / default / rcS. Edit file itu dan jika baris berikut ada, beri komentar (tambahkan tanda #): </p> <pre><code>RAMTMP=yes\n</code></pre>","votes":"2","source":"https://superuser.com/a/619354","author":"<a href=\"https://superuser.com/users/237500/paulo-almeida\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Paulo Almeida</span></a>","replies":[]}]}
