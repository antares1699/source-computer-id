{"title":"Perbaiki baris perintah P4 agar selalu berfungsi","draft":false,"url":"/perbaiki-baris-perintah-p4-agar-selalu-berfungsi-ftnedchu","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["windows","command-line","perforce"],"snippet":"Ringkasan:  Baris perintah Perforce p4 tidak berfungsi dengan benar kecuali saya membuka shell dari P4V. Bagaimana / di mana saya mengedit sesuatu untuk memperbaiki konfigurasi saya agar selalu berfungsi?  Detail  Di Windows...","body":"<p><em> Ringkasan: </em> Baris perintah Perforce <code>p4</code> tidak berfungsi dengan benar kecuali saya membuka shell dari P4V. Bagaimana / di mana saya mengedit sesuatu untuk memperbaiki konfigurasi saya agar selalu berfungsi? </p>\n\n<h2 class=\"h4\"> Detail </h2>\n\n<p> Di Windows 7x64, jika saya menjalankan <code>cmd.exe</code> dan kemudian menggunakan baris perintah p4, ia mencoba menyambung ke server lama yang sudah tidak ada: </p> <pre><code>C:\\&gt;p4 info\nPerforce client error:\n        Connect to server failed; check $P4PORT.\n        TCP connect to p4proxy-bdr:2006 failed.\n        connect: p4proxy-bdr:2006: WSAETIMEDOUT\n\nC:\\&gt;echo %P4PORT%\n%P4PORT%\n</code></pre> <p> Namun, jika saya meluncurkan P4V (yang terhubung ke server yang benar), klik kanan pada file apa pun di Workspace saya dan pilih &quot;Buka Jendela Perintah di Sini&quot;, perintah yang sama bekerja dengan benar: </p> <pre><code>C:\\&gt;p4 info\nUser name: gkistner\nClient name: gkistner-dt2\nClient host: gkistner-dt2\nClient root: C:/p4/p4sw\nCurrent directory: c:\\\nPeer address: &lt;redacted&gt;\nClient address: &lt;redacted&gt;\nServer address: &lt;redacted&gt;\nServer root: &lt;redacted&gt;\nServer date: 2013/08/13 10:05:09 -0700 PDT\nServer uptime: 1512:04:23\nServer version: &lt;redacted&gt;\nServer license: &lt;redacted&gt;\nServer license-ip: &lt;redacted&gt;\nCase Handling: sensitive\n\nC:\\&gt;echo %P4PORT%\np4sw:2006\n</code></pre> <p> Di mana P4 mendapatkan konfigurasi saat saya meluncurkannya dari vanilla <code>cmd.exe</code>, dan bagaimana cara mengubahnya agar sama dengan yang disiapkan P4V? </p>","source":"https://superuser.com/questions/631443/fix-p4-command-line-to-always-work","author":"<a href=\"https://superuser.com/users/57219/phrogz\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Phrogz</span></a>","replies":[{"reply":"Terkait: <a href=\"http://stackoverflow.com/q/9885053/405017\" target=\"_blank\" rel=\"nofollow noopener\"> stackoverflow.com/q/9885053/405017 </a>","author":"<a href=\"https://superuser.com/users/57219/phrogz\" target=\"_blank\" rel=\"nofollow noopener\">Phrogz</a>"}],"answers":[{"answer":"<p> Pengaturan baris perintah P4 dapat diatur dengan menggunakan perintah <code>p4 set</code>. Tanpa argumen, di bawah shell yang berfungsi, ini mencantumkan nilai saat ini: </p> <pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;p4 set\nP4CLIENT=gkistner-dt2\nP4EDITOR=C:\\Windows\\SysWOW64\\notepad.exe (set)\nP4PASSWD=&lt;redacted&gt; (set)\nP4PORT=p4sw:2006\nP4USER=gkistner\n</code></pre> <p> Kemudian, buka shell yang tidak berfungsi dan salin / tempel masing-masing, diawali dengan <code>p4 set</code>: </p> <pre class=\"lang-none prettyprint-override\"><code>C:\\&gt;p4 set P4CLIENT=gkistner-dt2\nC:\\&gt;p4 set P4EDITOR=C:\\Windows\\SysWOW64\\notepad.exe\nC:\\&gt;p4 set P4PASSWD=&lt;redacted&gt;\nC:\\&gt;p4 set P4PORT=p4sw:2006\nC:\\&gt;p4 set P4USER=gkistner\n</code></pre> <p> Sekarang Anda dapat menutup shell ini dan membuka yang baru, dan P4 akan berfungsi. </p>","votes":"7","source":"https://superuser.com/a/631471","author":"<a href=\"https://superuser.com/users/57219/phrogz\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Phrogz</span></a>","replies":[]},{"answer":"<p> Pendekatan yang saya gunakan adalah sebagai berikut: </p>\n\n<p> 1 Semua pengaturan kekuatan global yang saya tetapkan melalui variabel lingkungan: </p> <pre><code>P4EDITOR=C:\\Program Files (x86)\\Vim\\vim74\\gvim.exe\n</code></pre> <p> 2 Beri tahu secara paksa bahwa konfigurasi klien tertentu disimpan dalam file <code>.p4config</code> yang terletak di folder akar tampilan klien. Ini juga dilakukan melalui variabel lingkungan: </p> <pre><code>P4CONFIG=.p4config\n</code></pre> <p> 3 Kemudian di folder root setiap klien saya membuat file <code>.p4config</code> dan mengatur di sana konfigurasi klien tertentu sebagai berikut: </p> <pre><code>P4CLIENT=my_client_1\nP4PORT=server:1234\nP4USER=myusername\n</code></pre>","votes":"0","source":"https://superuser.com/a/1068045","author":"<a href=\"https://superuser.com/users/585482/kiril-aleksandrov\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Kiril Aleksandrov</span></a>","replies":[]}]}
