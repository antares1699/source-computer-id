{"title":"Bagaimana saya bisa menjalankan mogrify, tetapi mengawali nama file?","draft":false,"url":"/bagaimana-saya-bisa-menjalankan-mogrify-tetapi-mengawali-nama-file-s49cz5eb","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","imagemagick"],"snippet":"Saya memiliki 300k + file jpg di direktori yang sama. File seperti:  /covers    0788862281217.jpg0788863155104.jpg7888311516341.jpg7888370920479.jpg7888497074277.jpg  Saya perlu mengubah ukuran batch menyimpan gambar yang diubah ukurannya di file  direktori yang...","body":"<p> Saya memiliki 300k + file jpg di direktori yang sama. File seperti: </p> <pre><code>/covers    \n0788862281217.jpg\n0788863155104.jpg\n7888311516341.jpg\n7888370920479.jpg\n7888497074277.jpg\n</code></pre> <p> Saya perlu mengubah ukuran batch menyimpan gambar yang diubah ukurannya di file <strong> direktori yang sama </strong> dengan awalan <strong> th_ </strong> dalam nama file seperti </p> <pre><code>th_0788862281217.jpg\nth_0788863155104.jpg\nth_7888311516341.jpg\nth_7888370920479.jpg\nth_7888497074277.jpg\n</code></pre> <p> semua di dalam <code>/covers</code> </p>\n\n<p> Berikut ini berfungsi tetapi menimpa file sumber </p> <pre><code>$ find thumbs -type f -name \"*.jpg\" | xargs mogrify -resize 75x75\n</code></pre> <p> jadi saya harus menyalin semua gambar ke direktori baru (/ covers / thumbs) dan kemudian menjalankan batch dan kemudian memindahkan semua file kembali ke / cover </p>","source":"https://superuser.com/questions/597428/how-can-i-run-mogrify-but-prefix-the-filename","author":"<a href=\"https://superuser.com/users/225459/gabriele\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gabriele</span></a>","replies":[],"answers":[{"answer":"<p> Dari manual: </p>\n\n<blockquote>\n  <p> Mogrify menimpa file gambar asli, sedangkan convert (1) menulis ke file gambar yang berbeda. </p>\n</blockquote>\n\n<p> Anda dapat melakukan: </p> <pre><code>find ./covers -type f -name '*.jpg' -execdir convert {} -resize 75x75 th_{} \\;\n</code></pre> <p> Ini mungkin yang paling efisien jika Anda memiliki banyak file. </p>\n\n<p><sub> Secara umum, <a href=\"http://mywiki.wooledge.org/ParsingLs\" rel=\"nofollow noopener\" target=\"_blank\"> karena berbagai alasan </a> adalah ide yang buruk untuk menyalurkan output dari <code>find</code> ke <code>xargs</code>, kecuali jika Anda menggunakan pola berikut, yang didukung oleh varian GNU dan BSD <code>find</code>: <code>find … -print0 | xargs -0 …</code> </sub></p>\n\n<hr>\n\n<p> Jika Anda ingin menggunakan perintah khusus shell, Anda dapat melakukan loop pada file seperti ini: </p> <pre><code>for image in ./covers/*.jpg; do convert \"$image\" -resize 75x75 \"$(dirname $image)/th_$(basename $image)\"; done\n</code></pre> <p> Itu yang termudah (dan teraman) yang bisa Anda dapatkan, tanpa harus menggunakan perintah eksternal. Namun, Anda harus membagi jalur dan nama file dan memasukkan awalan di antaranya. Jika Anda sudah berada di folder yang sama, ini jauh lebih mudah: </p> <pre><code>for i in *.jpg; do convert \"$i\" -resize 75x75 \"th_$i\"; done\n</code></pre> <p> Solusi universal dan lebih pendek dengan Zsh: </p> <pre><code>for i (./covers/*.jpg) convert \"$i\" -resize 75x75 \"${i:h}/th_${i:t}\"    \n</code></pre>","votes":"9","source":"https://superuser.com/a/597432","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">slhck</span></a>","replies":[{"reply":"hai disana! File saya TIDAK ada di folder / thumbs tetapi di / cover. Jadi saya berasumsi baris perintah akan menjadi: untuk gambar di sampul / *. Jpg; lakukan konversi &quot;$ image&quot; -resize 75x75 &quot;th _ $ (basename $ image)&quot;; done Apakah ini akan disimpan di direktori yang sama dengan file master? Benar? Tnx!","author":"<a href=\"https://superuser.com/users/225459/gabriele\" target=\"_blank\" rel=\"nofollow noopener\">Gabriele</a>"},{"reply":"Saya mencoba dengan sampel dir / files. Tidak berhasil","author":"<a href=\"https://superuser.com/users/225459/gabriele\" target=\"_blank\" rel=\"nofollow noopener\">Gabriele</a>"},{"reply":"Maaf, salah folder disana. Lihat pembaruan terbaru saya. Jika Anda ingin perintah berfungsi dengan folder sembarang, Anda perlu membagi jalur antara <code>dirname</code> dan <code>basename</code> dan memasukkan awalan di sana. Berikut ini akan lebih mudah, jika Anda sudah berada di dalam folder tersebut: <code>for i in *.jpg; do convert &quot;$i&quot; -resize 75x75 &quot;th_$i&quot;; done</code>.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Tes dengan 3 gambar berhasil. Saya akan menjalankannya di direktori utama dengan 300K + file dan saya akan kembali ke sini. Terima kasih slhck!","author":"<a href=\"https://superuser.com/users/225459/gabriele\" target=\"_blank\" rel=\"nofollow noopener\">Gabriele</a>"},{"reply":"Jika daftar argumen Anda berakhir terlalu panjang (karena 300K + file), coba varian menggunakan <code>find</code> dengan <code>execdir</code> yang saya tambahkan ke jawaban saya di atas.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Ok itu berhasil! Inilah yang telah saya gunakan ... untuk saya masuk <i> .jpg; lakukan konversi &quot;$ i&quot; -ukuran 135x135 &quot;sm_ $ i&quot;; selesai ------- lalu saya menggunakan gambar &quot;sm_&quot; dan saya telah mengubah ukurannya menjadi 75x75 dengan ...------ untuk i di sm_ </i> .jpg; lakukan konversi &quot;$ i&quot; -ukuran 75x75 &quot;th_ $ i&quot;; selesai (masih dalam proses)","author":"<a href=\"https://superuser.com/users/225459/gabriele\" target=\"_blank\" rel=\"nofollow noopener\">Gabriele</a>"}]}]}
