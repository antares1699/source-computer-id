{"title":"Grub2: apakah mungkin untuk menonaktifkan driver grafis melalui perintah boot kernel?","draft":false,"url":"/grub2-apakah-mungkin-untuk-menonaktifkan-driver-grafis-melalui-perintah-boot-kernel-plpevlzr","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","drivers","grub","fglrx"],"snippet":"Pertanyaan  Berikut adalah pertanyaan saya: apakah mungkin untuk menonaktifkan driver fglrx Linux atau melakukan sesuatu untuk menekan fungsionalitas (misalnya akselerasi 3D) yang tidak kompatibel lintas-perangkat keras melalui konfigurasi grub? Jika ya, bagaimana...","body":"<h1 class=\"h3\"> Pertanyaan </h1>\n<p> Berikut adalah pertanyaan saya: apakah mungkin untuk menonaktifkan driver fglrx Linux atau melakukan sesuatu untuk menekan fungsionalitas (misalnya akselerasi 3D) yang tidak kompatibel lintas-perangkat keras melalui konfigurasi grub? Jika ya, bagaimana caranya? </p>\n<p> Secara khusus, saya mengatur lingkungan pengembangan perangkat lunak pilihan saya pada SSD yang saya gunakan di banyak mesin, hanya beberapa yang memiliki GPU Radeon terpisah - yang lain memiliki iGPU Intel. Pada mesin dengan GPU Radeon, gmd memerlukan driver fglrx untuk bekerja dengan mulus (akselerasi 3D sangat buruk tanpa mereka). Saya harus dapat membuat / memilih opsi boot di grub yang memungkinkan saya melakukan boot pada perangkat Intel menggunakan iGPU atau perangkat AMD dengan GPU Radeon. </p>\n<p> Semua informasi yang saya temukan tentang memodifikasi menu boot grub sudah usang, jadi saya beralih ke SU untuk klarifikasi. </p>\n<h1 class=\"h3\"> Latar Belakang </h1>\n<p> Saya memiliki dual boot yang disiapkan pada PC saya: Windows 7 pada satu SSD dan Ubuntu Gnome 14.04 pada yang lain (saya menggunakan Ubuntu sebagian besar untuk pengembangan perangkat lunak). Saya baru-baru ini memutakhirkan PC saya dari beberapa Radeon HD 7700s ke AMD R9 280, di mana driver radeon berhenti bekerja untuk akselerasi 3D, menyebabkan semuanya tersendat. Saya kemudian beralih ke fglrx, dan semua masalah berhenti. Semuanya baik-baik saja di mikrokosmos elektronik desktop saya. </p>\n<p> Satu-satunya masalah adalah saya mentransfer SSD Ubuntu ini dari mesin ke mesin saat saya berpindah-pindah kantor, rumah, dan kota. Tidak semua mesin memiliki GPU Radeon, yang dapat menyebabkan masalah dengan driver fglrx. Baru hari ini, misalnya, saya pergi ke kantor dan meletakkan SSD saya di komputer yang telah diberikan kepada saya di sana; ini memiliki CPU Intel dan tidak memiliki GPU terpisah. Grub akan menampilkan opsi boot saya seperti biasa, tetapi upaya saya untuk memulai Ubuntu (bahkan dalam mode grafis &quot;gagal aman&quot;) akan gagal. Saya cukup beruntung memiliki stik USB langsung, jadi boot distro langsung, dipasang / di-chroot ke SSD, hapus / hapus fglrx, lalu boot ulang. </p>\n<p> Ini bukanlah solusi yang optimal. Solusi ideal adalah membuat opsi menu grub untuk boot tanpa akselerasi 3D khusus fglrx. </p>\n<h1 class=\"h3\"> Beberapa Lebih Spesifik </h1> <pre><code>root@toor:/$ grub-install --version\ngrub-install (GRUB) 2.02~beta2-9ubuntu1.3\nroot@toor:/$ uname -orvp\n3.16.0-50-generic #67~14.04.1-Ubuntu SMP Fri Oct 2 22:07:51 UTC 2015 x86_64 GNU/Linux\n</code></pre> <p> Saat driver fglrx diinstal, booting pada mesin Intel menghasilkan fenomena yang agak menjengkelkan: layar akan memiliki tulisan hijau yang mengatakan sesuatu seperti &quot;Memulai apache server web ...&quot;, yang kemudian akan kembali secara konstan tidak peduli terminal virtual apa yang dipilih . Butuh sekitar 5 menit untuk masuk dan <code>sudo reboot</code> karena layar dengan teks hijau terus mengambil alih setiap 2-10 detik (waktu yang sangat bervariasi dan tidak dapat diprediksi). Menekan ctrl + alt + del terkadang tidak akan menyebabkan mesin melakukan boot ulang, atau terkadang hanya akan tertinggal selama setengah menit atau lebih sebelum merespons. Namun, ketika itu merespons, layar splash gdm akan muncul sebentar sebelum di-boot ulang. </p>","source":"https://superuser.com/questions/986875/grub2-is-it-possible-to-disable-graphics-drivers-through-kernel-boot-command","author":"<a href=\"https://superuser.com/users/485882/jonathan-voss\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jonathan Voss</span></a>","replies":[],"answers":[{"answer":"<p> Anda harus menggunakan <a href=\"http://ubuntuforums.org/showthread.php?t=1613132\" rel=\"nofollow noopener\" target=\"_blank\"> nomodeset </a> parameter: </p>\n\n<blockquote>\n  <p><strong> nomodeset </strong></p>\n  \n  <p> Kernel terbaru telah memindahkan pengaturan mode video ke dalam kernel. Jadi semua pemrograman tingkat jam khusus perangkat keras dan register pada kartu video terjadi di kernel daripada di driver X ketika server X dimulai .. Hal ini memungkinkan untuk memiliki layar splash (boot) yang tampak bagus dan berkedip dengan resolusi tinggi transisi gratis dari boot splash ke layar login. Sayangnya, pada beberapa kartu ini tidak berfungsi dengan baik dan Anda berakhir dengan layar hitam. Menambahkan parameter nomodeset memerintahkan kernel untuk tidak memuat driver video dan menggunakan mode BIOS sebagai gantinya sampai X dimuat. </p>\n</blockquote>\n\n<p> Dengan cara ini Anda dapat melakukan booting dengan aman, dan kemudian membagikan kepada X urusan memilih drive yang sesuai untuk kebutuhan Anda. Anda bahkan mungkin memutuskan untuk tidak melakukan pemrograman apa pun, dan melihat apakah perintahnya sederhana </p> <pre><code>    dpkg-reconfigure xserver-xorg\n</code></pre> <p> (ini berfungsi pada Debian dan turunannya, yang merupakan kasus Anda) mungkin dapat dilakukan dalam kasus Anda. </p>\n\n<p><strong> EDIT: </strong> </p>\n\n<p> Anda dapat menonaktifkan boot grafis sepenuhnya. Salinan </p> <pre><code>      cp /etc/default/grub /etc/default/grub-orig\n</code></pre> <p> Edit / etc / default / grub, komentari baris ini, </p> <pre><code>      #GRUB_CMDLINE_LINUX_DEFAULT=\"quiet splash\"\n</code></pre> <p> ubah baris ini agar terlihat seperti </p> <pre><code>      GRUB_CMDLINE_LINUX=\"text\"\n</code></pre> <p> lalu hapus tanda komentar pada baris ini, </p> <pre><code>      GRUB_TERMINAL=console\n</code></pre> <p> Simpan, lari </p> <pre><code>       update-grub\n</code></pre> <p> ketika Anda reboot, jika Anda tidak memiliki instalasi yang rusak, Anda akan mengetik sendiri dalam mode teks. Setelah mengkonfigurasi ulang X, Anda dapat memulai sesi grafis dengan </p> <pre><code>       startx\n</code></pre>","votes":"6","source":"https://superuser.com/a/986918","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">MariusMatutiae</span></a>","replies":[{"reply":"Saya sedang menguji ini sekarang. Kalau berhasil saya akan bikin saran edit biar jawabannya lebih lengkap.","author":"<a href=\"https://superuser.com/users/485882/jonathan-voss\" target=\"_blank\" rel=\"nofollow noopener\">Jonathan Voss</a>"},{"reply":"Ini tidak bekerja. Saya menambahkan <code>GRUB_CMDLINE_LINUX_DEFAULT=&quot;nomodeset&quot;</code> ke / etc / default / grub dan kemudian menggunakan <code>update-grub</code> daripada <code>dpkg-reconfigure</code> karena gagal menemukan paket xserver-xorg. (Apakah maksud Anda xserver-xorg- *?) Hasilnya adalah layar splash Ubuntu diganti dengan layar teks yang lebih nostalgia yang mau tidak mau berhenti setelah &quot;memulai apache ... memulihkan status penyelesai ... memulai daemon Quagga ... operator suara dinonaktifkan ... &quot;Layar kemudian terus berkedip dengan cara yang sama seperti yang saya jelaskan di bagian latar belakang. Ada ide?","author":"<a href=\"https://superuser.com/users/485882/jonathan-voss\" target=\"_blank\" rel=\"nofollow noopener\">Jonathan Voss</a>"},{"reply":"@JonathanVoss Pls baca suntingan saya.","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\">MariusMatutiae</a>"},{"reply":"Saya tidak akan punya waktu untuk menguji solusi baru itu sampai besok. Kelihatannya menjanjikan, tetapi saya harus mencari cara untuk menjadikannya sebagai opsi sekunder (mungkin di bawah &quot;opsi boot lanjutan&quot;).","author":"<a href=\"https://superuser.com/users/485882/jonathan-voss\" target=\"_blank\" rel=\"nofollow noopener\">Jonathan Voss</a>"},{"reply":"Saya mencoba ini dan agak hampir berhasil. Ini akan menurunkan saya ke tty1, dan saya bisa menjalankan startx dari sana. Masalahnya adalah saya masih harus menghapus driver sebelum boot dengan Intel iGPU, dan kemudian saya harus menginstal ulang dan reboot sebelum menjalankan mesin dengan AMD GPU. Saya juga harus menjalankan startx setiap saat. Bagaimana cara menambahkan entri ubahsuaian dalam padanan modern &quot;menu.lst&quot;?","author":"<a href=\"https://superuser.com/users/485882/jonathan-voss\" target=\"_blank\" rel=\"nofollow noopener\">Jonathan Voss</a>"},{"reply":"@JonathanVoss Setelah Anda berhasil boot tanpa grafis dan mendarat di file <b> menghibur </b> (bukan emulator terminal) mengkonfigurasi ulang server X Anda seharusnya mudah, baca di sini: <code>https:&#47;&#47;wiki.debian.org&#47;Xorg</code> terutama bagian <code>What if I do not have an xorg config file?</code>. Jika Anda menginginkan entri khusus GRUB, mohon ajukan pertanyaan lain, ini menjadi telenovela.","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\">MariusMatutiae</a>"}]}]}
