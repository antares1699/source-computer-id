{"title":"Automount ZFS zpool di Ubuntu 12.04","draft":false,"url":"/automount-zfs-zpool-di-ubuntu-1204-pvhrzd4p","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","ubuntu-12.04","automount","zfs"],"snippet":"Jadi, saya telah diberi tahu bahwa ZFS untuk Linux memiliki kemampuan untuk memasang zpool secara otomatis pada startup sistem di Ubuntu 12.04, tetapi itu tidak berfungsi untuk saya dan saya tidak dapat...","body":"<p> Jadi, saya telah diberi tahu bahwa ZFS untuk Linux memiliki kemampuan untuk memasang zpool secara otomatis pada startup sistem di Ubuntu 12.04, tetapi itu tidak berfungsi untuk saya dan saya tidak dapat menemukan dokumentasi apa pun tentang cara membuatnya berfungsi. </p>\n\n<p> Saya memiliki 5 disk raidz zpool yang dipasang di / zstorage. Saat ini, ketika server saya mulai, saya harus mengetik <code>sudo zfs mount zstorage</code> agar dapat diakses, yang merupakan sedikit masalah karena saya memiliki sejumlah program yang dimulai secara otomatis dan mencari folder di sana. </p>\n\n<p> Dalam kasus aktif, SabNZBD +, jika tidak menemukan folder yang dibutuhkannya akan kembali ke default. Ini terutama menjadi masalah karena folder default ada di SSD kecil yang dimaksudkan hanya sebagai volume boot. </p>","source":"https://superuser.com/questions/458500/automount-zfs-zpool-in-ubuntu-12-04","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">dougoftheabaci</span></a>","replies":[],"answers":[{"answer":"<p> Jika Anda menggunakan zfs-fuse, menjalankan skrip init zfs-fuse saat startup saja sudah cukup. Saya memiliki beberapa komputer dengan zpools pada disk eksternal dan semuanya dipasang secara otomatis saat boot dengan zfs-fuse. </p>\n\n<p> Secara khusus, skrip init berisi baris </p> <pre><code>zfs mount -a\n</code></pre> <p> yang me-mount semua filesystem zfs yang tersedia. Anda dapat menambahkan baris ini ke skrip init zfs apa pun yang Anda miliki atau meletakkan baris ini ke dalam skrip init lokal. </p>","votes":"5","source":"https://superuser.com/a/458716","author":"<a href=\"https://superuser.com/users/115521/lars-kotthoff\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Lars Kotthoff</span></a>","replies":[{"reply":"Saya menggunakan &#39;ZFS di Linux&#39;: <a href=\"http://zfsonlinux.org/\" rel=\"nofollow noopener\" target=\"_blank\"> zfsonlinux.org </a>","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\">dougoftheabaci</a>"},{"reply":"Sudahkah Anda mencoba menjalankan <code>zfs mount -a</code> saat memulai?","author":"<a href=\"https://superuser.com/users/115521/lars-kotthoff\" target=\"_blank\" rel=\"nofollow noopener\">Lars Kotthoff</a>"},{"reply":"Saya membayangkan itu akan berhasil tetapi bagaimana cara mengotomatiskannya? Maaf, saya harus mengklarifikasi, ini adalah pengalaman nyata pertama saya dengan Ubuntu dan saya mungkin baru saja menyelam lebih dalam.","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\">dougoftheabaci</a>"},{"reply":"Cara termudah mungkin adalah dengan menambahkan perintah ke <code>&#47;etc&#47;rc.local</code>. Lihat juga <a href=\"http://en.kioskea.net/faq/3348-ubuntu-executing-a-script-at-startup-and-shutdown\" rel=\"nofollow noopener\" target=\"_blank\"> en.kioskea.net/faq/â€¦ </a>","author":"<a href=\"https://superuser.com/users/115521/lars-kotthoff\" target=\"_blank\" rel=\"nofollow noopener\">Lars Kotthoff</a>"},{"reply":"Akhirnya punya kesempatan untuk mencobanya. Bekerja dengan baik. Terima kasih!","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\">dougoftheabaci</a>"}]},{"answer":"<p> Jika Anda pergi ke / etc / default / zfs di situlah Anda akan mengatur flag untuk memasang volume ZFS secara normal saat startup tetapi sekarang tidak lagi. Seperti yang dinyatakan dalam file konfigurasi yang disebutkan di atas, yang dapat Anda coba adalah menginstal zfs-mountall dengan apt-get: </p> <pre><code>sudo apt-get install zfs-mountall\n</code></pre> <p> Ini akan berfungsi, asalkan Anda telah menginstal ZFS asli dan bukan zfs-fuse. Informasi lebih lanjut tersedia di sini: <a href=\"http://zfsonlinux.org/faq.html\" rel=\"nofollow noopener\" target=\"_blank\"> http://zfsonlinux.org/faq.html </a></p>","votes":"4","source":"https://superuser.com/a/460770","author":"<a href=\"https://superuser.com/users/123659/henric\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Henric</span></a>","replies":[{"reply":"Membaca daftar paket ... Selesai Membangun pohon ketergantungan Membaca informasi status ... Selesai Catatan, memilih &#39;mountall&#39; daripada &#39;zfs-mountall&#39; mountall sudah menjadi versi terbaru. 0 ditingkatkan, 0 baru dipasang, 0 untuk menghapus dan 0 tidak ditingkatkan.","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\">dougoftheabaci</a>"},{"reply":"Ada kemajuan dalam hal ini untuk Anda? Saya baru saja menginstal Ubuntu 11.10 sebagai gantinya (tidak suka 12.04) dan yang saya lakukan adalah menginstal zfs, membuat mountpoint, mengubah izin di mountpoint ke 777, mengimpor zpool saya, memeriksa apakah sudah terpasang dengan benar dengan sudo zfs mount -a , reboot dan jalankan sudo apt-get update &amp;&amp; sudo apt-get upgrade. Paket mountall kemudian diperbarui dengan zfs dan zpool saya sekarang terpasang saat startup. Saya tidak tahu mengapa itu tidak berhasil untuk Anda, tetapi proses di atas berhasil untuk saya.","author":"<a href=\"https://superuser.com/users/123659/henric\" target=\"_blank\" rel=\"nofollow noopener\">Henric</a>"},{"reply":"Ini mungkin masalah 12,04. Apa keuntungan menggunakan 11.10 vs. 12.04? Saya mungkin dapat menginstal ulang 11.10 daripada 12.04 (tampaknya hal-hal mendukungnya sedikit lebih baik sekarang) tetapi ini sedikit harus dilakukan karena saya perlu meminjam layar dari tempat kerja.","author":"<a href=\"https://superuser.com/users/90910/dougoftheabaci\" target=\"_blank\" rel=\"nofollow noopener\">dougoftheabaci</a>"},{"reply":"Ada beberapa alasan mengapa saya memilih untuk menginstal 11.10 sebagai gantinya, tetapi yang utama adalah bahwa saya tidak bisa mendapatkan unity-2d untuk bekerja yang saya butuhkan untuk VNC (unity 3d tidak diperbarui melalui VNC). Karena mesin saya tidak memiliki kepala, itu adalah sesuatu yang sangat saya butuhkan. Saya juga menemukan 11.10 jauh lebih cepat untuk apa yang saya gunakan untuk (server iTunes di kotak virtual Windows XP, server file, server web, dll.). Saya tidak dapat menunjukkan manfaat khusus apa pun karena inilah yang saya alami. Saya pikir dukungan lebih baik untuk 11,10 jadi itu mungkin alasan untuk berubah.","author":"<a href=\"https://superuser.com/users/123659/henric\" target=\"_blank\" rel=\"nofollow noopener\">Henric</a>"}]},{"answer":"<p> Bagi saya di Ubuntu 14.04 LTS, saya harus mengatur yang berikut ini </p>\n\n<p> Untuk mengimpor zpools secara otomatis, ubah nilainya dari <code>1</code> menjadi <code>0</code>: </p>\n\n<p><strong> Mengajukan: </strong> <code>/etc/init/zpool-import.conf</code> </p> <pre><code>modprobe zfs zfs_autoimport_disable=0\n</code></pre> <p> Untuk memasang dudukan zfs secara otomatis, tambahkan baris berikut: </p>\n\n<p><strong> Mengajukan: </strong> <code>/etc/rc.local</code> </p> <pre><code>zfs mount -a\n</code></pre> <p> Dimulai ulang, dan dudukan ZFS zpool dipasang secara otomatis. </p>","votes":"3","source":"https://superuser.com/a/853691","author":"<a href=\"https://superuser.com/users/251073/nick-grealy\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Nick Grealy</span></a>","replies":[]}]}
