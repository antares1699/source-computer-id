{"title":"OS X, SSH: gunakan file kunci pribadi yang berbeda untuk server yang berbeda","draft":false,"url":"/os-x-ssh-gunakan-file-kunci-pribadi-yang-berbeda-untuk-server-yang-berbeda-9chdp2if","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["ssh","openssh","private-key"],"snippet":"Saya ingin menggunakan file kunci pribadi yang berbeda untuk terhubung ke server SSH yang berbeda (ssh://git-server:port/repository). Bagaimana cara mengelolanya? SSH tampaknya mengasumsikan file kunci pribadi pada ~/.ssh/id_rsa.","body":"<p> Saya ingin menggunakan file kunci pribadi yang berbeda untuk terhubung ke server SSH yang berbeda (<code>ssh://git-server:port/repository</code>). Bagaimana cara mengelolanya? SSH tampaknya mengasumsikan file kunci pribadi pada <code>~/.ssh/id_rsa</code>. </p>","source":"https://superuser.com/questions/360302/os-x-ssh-use-different-private-key-files-for-different-servers","author":"<a href=\"https://superuser.com/users/44021/mike-l\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mike L.</span></a>","replies":[],"answers":[{"answer":"<p> Itulah mengapa ada opsi <code>-i</code>: </p>\n<blockquote>\n<p> <code>-i identity_file</code> </p>\n<p> Memilih file dari mana identitas (kunci pribadi) untuk otentikasi RSA atau DSA dibaca. Standarnya adalah <code>~/.ssh/identity</code> untuk protokol versi 1, dan <code>~/.ssh/id_rsa</code> dan <code>~/.ssh/id_dsa</code> untuk protokol versi 2. </p>\n<p> File identitas juga dapat ditentukan pada basis per-host di file konfigurasi. Dimungkinkan untuk memiliki beberapa opsi <code>-i</code> (dan banyak identitas yang ditentukan dalam file konfigurasi). </p>\n</blockquote>\n<p> Jika Anda ingin menjadikannya permanen, Anda harus melakukannya <a href=\"http://kb.mediatemple.net/questions/1625/Using+a+SSH+Config+File\" rel=\"nofollow noopener\" target=\"_blank\"> siapkan file konfigurasi SSH Anda </a> dan atur sesuai <a href=\"http://www.openbsd.org/cgi-bin/man.cgi?query=ssh_config&sektion=5\" rel=\"nofollow noopener\" target=\"_blank\"> <code>IdentityFile</code> pilihan </a> . </p>\n<blockquote>\n<p> <code>IdentityFile</code> </p>\n<p> Menentukan file dari mana identitas otentikasi DSA, ECDSA atau DSA pengguna dibaca. [â€¦] </p>\n</blockquote>\n<p> Jika Anda melihat dialog seperti ini: </p>\n<p><img src=\"https://i.stack.imgur.com/sm5UT.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>\n<p> Anda harus memasukkan file <strong> kata sandi pengguna </strong> untuk akun OS X Anda. Bukan kata sandi kunci Anda, atau kata sandi SSH jarak jauh. Ini karena identitas mereka belum disimpan di rantai kunci. </p>\n<p> Berdasarkan <a href=\"http://om4.com.au/ssh-rsa-key-pairs-passphrases-leopard/\" rel=\"nofollow noopener\" target=\"_blank\"> tutorial ini </a> , perintah berikut harus menambahkannya dengan benar: </p> <pre><code>ssh-add -K\n</code></pre>","votes":"6","source":"https://superuser.com/a/360303","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">slhck</span></a>","replies":[{"reply":"Oke, saya sudah melakukannya sekarang, tetapi ketika mencoba masuk, OS X bertanya dalam dialog terpisah untuk file <i> kata sandi </i> dari pada <i> frasa sandi </i> . Saya memasukkan frasa sandi yang benar untuk file kunci pribadi, tetapi masih tidak dapat masuk. Ada gagasan lebih lanjut?","author":"<a href=\"https://superuser.com/users/44021/mike-l\" target=\"_blank\" rel=\"nofollow noopener\">Mike L.</a>"},{"reply":"Jika itu meminta Anda untuk <i> kata sandi </i> , itu kata sandi SSH di mesin jarak jauh, bukan frasa sandi untuk kunci tersebut.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Tidak, tidak, itu meminta saya untuk <i> kata sandi </i> untuk file kunci pribadi saya - setidaknya itulah yang dikatakan dalam dialog. BTW, tanpa <i> frasa sandi </i> SSH tidak dapat melakukan apa pun di mesin jarak jauh.","author":"<a href=\"https://superuser.com/users/44021/mike-l\" target=\"_blank\" rel=\"nofollow noopener\">Mike L.</a>"},{"reply":"Hm. Saya bukan ahli SSH, saya harus mengakui. Apa sebenarnya yang dikatakan dialog itu?","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Saya telah mengkonfigurasi <code>IdentityFile = ~&#47;secret&#47;pk-file</code> pada <code>~&#47;.ssh&#47;config</code> dan memanggil <code>ssh myserver</code>. Dialog yang muncul mengatakan <code>Enter your password for the SSH key &quot;pk-file&quot;.</code>, menunjukkan bidang masukan <code>Password</code> dan dua kotak centang (<code>Show password</code> dan <code>Remember passwod in my keychain</code>). Saya memasukkan frasa sandi yang benar, tetapi saya diminta 2 kali lagi dan kemudian SSH dibatalkan dengan <code>RSA host key for IP address &#39;1.2.3.4&#39; not in list of known hosts. Permission denied (publickey).</code> (1.2.3.4 adalah tiruan).","author":"<a href=\"https://superuser.com/users/44021/mike-l\" target=\"_blank\" rel=\"nofollow noopener\">Mike L.</a>"},{"reply":"Oh, ini Keychain Mac OS X Anda. Lihat jawaban saya yang diperbarui.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Saya telah menemukan bahwa Mac saya tidak akan pernah menerima kata sandi kunci ssh saya pada 2 percobaan pertama! Saya selalu harus memasukkan kata sandi 3 kali ketika ditampilkan dengan prompt kata sandi yang ditunjukkan di atas.","author":"<a href=\"https://superuser.com/users/167769/spuder\" target=\"_blank\" rel=\"nofollow noopener\">spuder</a>"},{"reply":"Saat saya melakukan ini, muncul pesan &quot;Gagal menyimpan sandi ke keychain&quot;","author":"<a href=\"https://superuser.com/users/253134/daniel-w\" target=\"_blank\" rel=\"nofollow noopener\">Daniel W.</a>"}]},{"answer":"<p> Cara termudah untuk melakukannya adalah dengan file konfigurasi ssh. </p>\n\n<p> kucing ~ / .ssh / config </p> <pre><code>HOST *  \n     USER root\n</code></pre> <p> Anda juga dapat menentukan subdomain tertentu menggunakan pengguna tertentu. Berguna jika laptop Anda berpindah antar jaringan. </p> <pre><code>HOST 192.168.*.*\n     USER homeuser\n\nHOST 10.2.*.*\n     USER workuser\n</code></pre> <p> Anda bahkan dapat mengonfigurasi berdasarkan domain, dan menggunakan kunci ssh yang berbeda untuk domain yang berbeda. </p> <pre><code>HOST *.microsoft.com\n     USER bill\n     IdentityFile ~/.ssh/microsoft/id_rsa\n\nHOST *.apple.com\n     USER steve\n     IdentityFile ~/.ssh/apple/id_rsa\n</code></pre>","votes":"1","source":"https://superuser.com/a/744919","author":"<a href=\"https://superuser.com/users/167769/spuder\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">spuder</span></a>","replies":[]}]}
