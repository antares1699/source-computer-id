{"title":"Jadikan PS1 Bash menampilkan nama direktori asli dan bukan symlink?","draft":false,"url":"/jadikan-ps1-bash-menampilkan-nama-direktori-asli-dan-bukan-symlink-0pph1mxz","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["command-line","bash","symbolic-link","prompt","ps1"],"snippet":"Saat ini saya memiliki PS1='\\W' tetapi ketika dalam direktori tautan simbolis, prompt menunjukkan nama symlink, bagaimana saya dapat membuat PS1 untuk menampilkan nama direktori asli?","body":"<p> Saat ini saya memiliki <code>PS1='\\W'</code> tetapi ketika dalam direktori tautan simbolis, prompt menunjukkan nama symlink, bagaimana saya dapat membuat PS1 untuk menampilkan nama direktori asli? </p>","source":"https://superuser.com/questions/422123/make-bashs-ps1-show-original-directory-name-and-not-symlink","author":"<a href=\"https://superuser.com/users/20610/petruza\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Petruza</span></a>","replies":[],"answers":[{"answer":"<p> Di Linux, Anda dapat menggunakan yang berikut ini: </p> <pre><code>export PS1='$( readlink -f . )'\n</code></pre> <p> Contoh: </p> <pre><code>$ export PS1='$( readlink -f . ) \\$ '\n/home/danielbeck $ ln -s /etc foo\n/home/danielbeck $ cd foo\n/etc $ _\n</code></pre> <p> Perhatikan bahwa Anda masih akan berada di <code>/home/danielbeck/foo</code> untuk yang lainnya, seperti menyelesaikan direktori induk dengan <code>cd ..</code>, jadi, untuk melanjutkan contoh: </p> <pre><code>/etc $ cd ..\n/home/danielbeck $ _\n</code></pre> <p> Pilihan lain mungkin mengganti <code>cd</code> dengan fungsi yang masuk ke direktori kanonik alih-alih symlink, seperti: </p> <pre><code>function cd {\n    if [[ $# -ne 1 ]] ; then\n        builtin cd \"$@\"\n    elif [[ \"$1\" = \"-\" ]] ; then\n        builtin cd -\n    else\n        builtin cd \"$( readlink -f \"$1\" )\"\n    fi\n}\n</code></pre> <p> Ini mungkin juga berfungsi untuk argumen <code>cd</code> apa pun dan bahkan mendukung <code>CDPATH</code>: </p> <pre><code>function cd {\n    builtin cd \"$@\"\n    builtin cd \"$( readlink -f . )\"\n}\n</code></pre>","votes":"6","source":"https://superuser.com/a/422125","author":"<a href=\"https://superuser.com/users/22317/daniel-beck\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Daniel Beck</span></a>","replies":[]},{"answer":"<p> Untuk menambahkan sedikit bantuan kepada orang-orang seperti saya yang ingin PS1 diselesaikan dengan symlink yang dirujuk, edit .bashrc sebagai berikut: </p> <pre><code>if [ \"$color_prompt\" = yes ]; then\n        PS1='${debian_chroot:+($debian_chroot)}\\[\\033[01;32m\\]\\u@\\h\\[\\033[00m\\]:\\[\\033[01;34m\\]$(readlink -f \\w)\\[\\033[00m\\]\\$ '\nelse\n    PS1='${debian_chroot:+($debian_chroot)}\\u@\\h:$(readlink -f \\w)\\$ '\nfi\nunset color_prompt force_color_prompt\n\n# If this is an xterm set the title to user@host:dir\ncase \"$TERM\" in\nxterm*|rxvt*)\n        PS1=\"\\[\\e]0;${debian_chroot:+($debian_chroot)}\\u@\\h: $(readlink -f .)\\a\\]$PS1\"\n    ;;\n*)\n    ;;\nesac\n</code></pre>","votes":"0","source":"https://superuser.com/a/1439569","author":"<a href=\"https://superuser.com/users/257027/robin-coe\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Robin Coe</span></a>","replies":[]}]}
