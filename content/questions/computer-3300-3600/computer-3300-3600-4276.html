{"title":"Virtualbox: Menghubungkan jaringan Host-Only pada host terpisah","draft":false,"url":"/virtualbox-menghubungkan-jaringan-host-only-pada-host-terpisah-juqsrhbh","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["networking","virtualbox","lan"],"snippet":"Jika saya membuat beberapa tamu ubuntu di host yang sama (windows 7), semua dengan adaptor jaringan yang dikonfigurasi sebagai &quot;Hanya-Host&quot;, hasilnya adalah semua tamu di host dapat melakukan ping satu sama lain...","body":"<p> Jika saya membuat beberapa tamu ubuntu di host yang sama (windows 7), semua dengan adaptor jaringan yang dikonfigurasi sebagai &quot;Hanya-Host&quot;, hasilnya adalah semua tamu di host dapat melakukan ping satu sama lain </p>\n\n<p> Pada host windows 7, dengan <code>ipconfig</code> saya melihat sesuatu seperti </p>\n\n<p> Adaptor Ethernet Koneksi Area Lokal: </p> <pre><code>   Connection-specific DNS Suffix  . : wr\n   Link-local IPv6 Address . . . . . : ......\n   IPv4 Address. . . . . . . . . . . : 10.15.38.101\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . : 10.16.2.254\n</code></pre> <p> Adaptor Ethernet Jaringan Hanya Host VirtualBox: </p> <pre><code>   Connection-specific DNS Suffix  . :\n   Link-local IPv6 Address . . . . . : .........\n   IPv4 Address. . . . . . . . . . . : 192.168.56.1\n   Subnet Mask . . . . . . . . . . . : 255.255.255.0\n   Default Gateway . . . . . . . . . :\n</code></pre> <p> dan pada kenyataannya semua tamu menunjukkan ip mereka berada di subnet 192.168.56.X. </p>\n\n<p><strong> Pertanyaan: </strong> apakah mungkin untuk dengan mudah menghubungkan tamu yang berjalan di <em> host yang berbeda </em> dengan jaringan Host-Only ini yang dapat diakses melalui LAN? </p>","source":"https://superuser.com/questions/280241/virtualbox-connecting-host-only-networks-on-separate-hosts","author":"<a href=\"https://superuser.com/users/76545/lurscher\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">lurscher</span></a>","replies":[{"reply":"Bukan jawaban jika seseorang dapat melakukan ini, tetapi saya akan menulis: Tujuan dari jaringan hanya host adalah bahwa ia hanya ada di host itu. Untuk melakukan apa yang Anda inginkan, saya sarankan menggunakan jaringan yang dijembatani dan menyiapkan Vlan.","author":"<a href=\"https://superuser.com/users/4386/william-hilsum\" target=\"_blank\" rel=\"nofollow noopener\">William Hilsum</a>"},{"reply":"ok, tapi bagaimana cara menyetel vlan?","author":"<a href=\"https://superuser.com/users/76545/lurscher\" target=\"_blank\" rel=\"nofollow noopener\">lurscher</a>"}],"answers":[{"answer":"<p> Jawaban singkatnya tidak. Anda tidak dapat menggunakan &quot;Jaringan Khusus Host&quot; dan menghubungkan tamu di beberapa host fisik. Anda mungkin lebih baik menggunakan jaringan yang dijembatani jika Anda perlu menghubungkan tamu ke LAN Anda. </p>\n\n<p> Jika Anda dapat memberikan detail lebih lanjut tentang apa yang ingin Anda capai, kami mungkin dapat membuat rekomendasi yang lebih baik. </p>","votes":"1","source":"https://superuser.com/a/280263","author":"<a href=\"https://superuser.com/users/2724/goyuix\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Goyuix</span></a>","replies":[{"reply":"tentu, ini adalah versi yang lebih detail dari apa yang ingin saya capai: <a href=\"http://superuser.com/questions/272962/virtualbox-vpn-networking-test-environment\" title=\"virtualbox vpn networking test environment\" target=\"_blank\" rel=\"nofollow noopener\"> superuser.com/questions/272962/â€¦ </a>","author":"<a href=\"https://superuser.com/users/76545/lurscher\" target=\"_blank\" rel=\"nofollow noopener\">lurscher</a>"}]},{"answer":"<p> Jawaban yang lebih lama dan lebih baik adalah &quot;ya&quot;. </p>\n\n<p> Anda dapat melakukan jaringan khusus host dan menghubungkan tamu (dan host) ke tamu lain di jaringan khusus host di beberapa host, atau beberapa jaringan khusus host di host yang sama, tetapi itu tidak mudah. Tidak terlalu sulit, tapi tidak mudah. </p>\n\n<p> Yang memungkinkan adalah bahwa tuan rumah juga berpartisipasi dalam jaringan khusus-host (satu-satunya skema jaringan virtual di mana tuan rumah berpartisipasi secara langsung), selama tuan rumah dapat melakukan perutean yang diperlukan. Itu memang membutuhkan beberapa akses administratif, jadi mungkin sulit dilakukan karena alasan itu juga. </p>\n\n<h1 class=\"h3\"> Empat Langkah Mudah </h1>\n\n<p> Berikut adalah empat hal yang perlu Anda lakukan, dari dalam ke luar: konfigurasikan jaringan khusus host Anda, tambahkan gateway ke tamu Anda, jadikan host Anda sebagai router, dan tambahkan rute statis antar host. </p>\n\n<h2 class=\"h4\"> Konfigurasi Jaringan Khusus Host </h2>\n\n<p> Pastikan jaringan khusus host Anda unik (setidaknya semua yang berpartisipasi dalam skema). Artinya, setiap jaringan khusus host harus berbeda, dan tidak semua jaringan default 192.168.56.0/24 sama. </p>\n\n<p> Contoh Anda menempatkan host Anda di jaringan 10.15.38.0/24, yang sudah termasuk dalam jangkauan privat (tidak terlalu penting), sehingga Anda dapat memilih untuk menggunakan jaringan 10.xy0 / 24 lainnya (Anda memiliki sekitar 64 ribu pilihan! ) untuk jaringan khusus host Anda. (Perhatikan bahwa karena contoh gateway Anda tidak ada di jaringan Anda, ini menunjukkan bahwa jaringan Anda benar-benar 10.0.0.0/8, jadi waspadalah terhadap potensi konflik lainnya.) Tentu saja, Anda dapat terus menggunakan 192.168.y.0 / 24 jaringan juga, tetapi pastikan setiap jaringan khusus host menggunakan nilai &quot;y&quot; yang berbeda. </p>\n\n<p> Dokumentasi VirtualBox di <a href=\"https://www.virtualbox.org/manual/ch08.html#idp59149232\" rel=\"nofollow noopener\" target=\"_blank\"> https://www.virtualbox.org/manual/ch08.html#idp59149232 </a> menguraikan cara mengkonfigurasi antarmuka khusus host dan server DHCP terkait untuk mengubah alamat. GUI juga menawarkan mekanisme, jika baris perintah bukan teman Anda, tetapi dokumen membantu membuatnya dapat dimengerti (atau seharusnya), dan tidak benar-benar menangani GUI. </p>\n\n<h2 class=\"h4\"> Gateway Tamu </h2>\n\n<p> Konfigurasikan tamu Anda agar memiliki rute keluar dari jaringan khusus host melalui IP jaringan khusus host host. Tidak seperti jaringan virtual NAT, server DHCP khusus host tidak memberikan informasi perutean kepada tamu, hanya alamat. </p>\n\n<p> Ini dapat dilakukan dengan berbagai cara, seperti mengganti server DHCP, tetapi pada dasarnya yang harus Anda lakukan adalah memberi tahu setiap OS tamu cara keluar dari jaringan khusus host. Untuk sebagian besar OS, itu adalah perintah yang sama (yang membutuhkan kekuatan administratif): </p> <pre><code>route add default gw &lt;&lt;host-only-if&gt;&gt;\n</code></pre> <p> Secara default, antarmuka khusus host akan diberikan node .1 jaringan, jadi 10.x.y.1 dalam contoh ini, sehingga perintah menjadi <strong> rute menambahkan gw 10.x.y.1 default </strong> (di mana x dan y adalah nilai riil, tentunya). </p>\n\n<p> Membuat ini permanen berbeda-beda menurut OS tamu, tetapi gunakan GUI atau edit file / etc / seperlunya, atau jalankan <strong> rute menambahkan </strong> berbaris setiap kali Anda menjalankan VM. </p>\n\n<h2 class=\"h4\"> Perutean Host Antar NIC </h2>\n\n<p> Konfigurasikan host VM Anda untuk merutekan antar antarmuka. Di sinilah menjadi rumit dan banyak orang menyerah. Sejauh menyangkut OS host Anda, menggunakan jaringan khusus host berarti mereka adalah mesin multi-NIC, dan mereka dapat dikonfigurasi untuk memindahkan lalu lintas dari jaringan virtual ke jaringan nyata. </p>\n\n<p> Karena Anda menggunakan Windows, <a href=\"http://windows.microsoft.com/en-us/windows/configuring-multiple-network-gateways\" rel=\"nofollow noopener\" target=\"_blank\"> http://windows.microsoft.com/en-us/windows/configuring-multiple-network-gateways </a> menguraikan konsep ini dan memberikan beberapa detail tentang perintah rute. Tampaknya menyalakan Pendengar RIP dan menambahkan / memverifikasi perutean &quot;hanya itu yang diperlukan&quot;. </p>\n\n<p> Pada host Linux, ini sebagai <em> mudah </em> seperti mengatur file / proc / sys / net / ipv4 / ip_forward agar memiliki nilai 1 di dalamnya, dan memastikan tabel perutean menyertakan jaringan virtual dan nyata. Ini berfungsi pada host Ubuntu saya: </p> <pre><code>echo \"1\" | sudo tee /proc/sys/net/ipv4/ip_forward\n</code></pre> <p> Lebih baik lagi, host Ubuntu saya sudah memiliki perutean yang benar untuk jaringan nyata dan virtual, jadi yang harus saya lakukan hanyalah mengubah nilai itu di file itu. </p>\n\n<p> Google &quot;OS saya sebagai router&quot; atau semacamnya sampai Anda menemukan sesuatu yang membuat Anda nyaman. Anda dapat menggunakan mekanisme apa pun yang membuat Anda senang untuk mengaktifkan perutean dan menyiapkan rute. </p>\n\n<h2 class=\"h4\"> Perutean Statis </h2>\n\n<p> Konfigurasikan host Anda untuk merutekan ke jaringan virtual host lain. Di sinilah keadaan menjadi berantakan dan bahkan orang yang dapat melalui langkah 3 terkadang akan menyerah. Ini berantakan karena pada setiap host mesin virtual Anda perlu melakukan konfigurasi ini, dan jika Anda memiliki banyak host dan jaringan khusus host, mungkin sulit untuk dilacak dan sibuk untuk menyelesaikannya. </p>\n\n<p> Konfigurasi jaringan default umum Anda akan menjadi &quot;semua yang tidak ada di subnet saya ada di sisi lain gateway default saya.&quot; Dalam contoh Anda, jika tidak ada di jaringan 10.15.38.0/24, itu di sisi lain 10.16.2.254 (yang sekali lagi menunjukkan jaringan Anda benar-benar 10.0.0.0/8, dan network mask Anda salah, tapi itu BAIK). Yang perlu Anda lakukan adalah memberi tahu host Anda untuk menyiapkan rute statis ke jaringan virtual host lain. Atau, Anda dapat mengkonfigurasi router default host Anda (milik Anda adalah 10.16.2.254) untuk mengetahui rute ini ... lalu lintas akan meninggalkan host, tekan router, kembali ke host lain ... </p>\n\n<p> Sesuatu seperti ini akan berfungsi pada sebagian besar OS host. </p> <pre><code>route add -net &lt;&lt;guest-ip-range&gt;&gt; netmask &lt;&lt;correct-mask&gt;&gt; gw &lt;&lt;host-lan-IP&gt;&gt;\n</code></pre> <p> Jadi dalam kasus contoh Anda, Anda akan memasukkan <strong> rute add -net 10.x.y.0 netmask 255.255.255.0 gw 10.15.38.101 </strong> pada setiap host lain yang perlu mengakses jaringan virtual host Anda. </p>\n\n<p> Ini juga dapat dilakukan pada sistem lain di jaringan host yang perlu mengakses perangkat di jaringan khusus host, meskipun perangkat tersebut tidak menghosting jaringan virtualnya sendiri. </p>\n\n<h1 class=\"h3\"> Contoh ujung-ke-ujung </h1>\n\n<p> Misalkan Anda memiliki dua host di jaringan yang ingin Anda terapkan ini: 10.15.38.101 dan 10.15.38.201. Untuk memudahkan mengingat, ubah setiap jaringan khusus host mereka untuk menggunakan oktet terakhir mereka sebagai definisi jaringan, jadi 10.101.0.0/24 pada host .101, dan 10.201.0.0/24 pada host .201. </p>\n\n<p> Pada setiap tamu di jaringan khusus host, tambahkan rute melalui antarmuka host khusus host. Begitu juga pada mesin 10.101.0.0/24 <strong> rute menambahkan gw default 10.101.0.1 </strong> dan pada mesin 10.201.0.0/24 <strong> rute tambahkan gw default 10.201.0.1 </strong> akan melakukan triknya. </p>\n\n<p> Di setiap host, aktifkan perutean dan pastikan tabel perutean menyertakan kedua jaringan. Di host Ubuntu saya, saya melakukannya <strong> echo &quot;1&quot; | sudo tee / proc / sys / net / ipv4 / ip_forward </strong> lalu <strong> rute -n </strong> akan menunjukkan sesuatu seperti ini (diedit agar cocok dengan contoh Anda): </p> <pre><code>Kernel IP routing table\nDestination     Gateway         Genmask         Flags Metric Ref    Use Iface\n0.0.0.0         10.16.2.254     0.0.0.0         UG    0      0        0 eth0\n10.15.38.0      0.0.0.0         255.255.255.0   U     1      0        0 eth0\n10.101.0.0      0.0.0.0         255.255.255.0   U     0      0        0 vboxnet0\n</code></pre> <p> Kemudian pada setiap host Anda perlu menambahkan rute statis ke jaringan khusus host host lainnya. Jadi pada host .101 Anda akan masuk <strong> rute menambahkan -net 10.201.0.0 netmask 255.255.255.0 gw 10.15.38.201 </strong> dan pada host .201 Anda akan masuk <strong> rute menambahkan -net 10.101.0.0 netmask 255.255.255.0 gw 10.15.38.101 </strong> untuk menetapkan rute statis. </p>\n\n<p> Sekarang Anda seharusnya dapat menggunakan jaringan untuk berpindah dari 10.101.0.101 (alamat DHCP default pertama di jaringan host) ke mesin virtual 10.201.0.101 Anda di host lain. Saya tidak tahu apa yang ditawarkan OS tamu Anda, tetapi SSH atau browser web, atau biasanya ping, seharusnya berfungsi. </p>\n\n<p> Dengan semua itu, host dan mesin virtual Anda harus dapat melihat satu sama lain bahkan saat berada di jaringan khusus host yang berbeda. </p>\n\n<h1 class=\"h3\"> Peringatan </h1>\n\n<p> Yang tersisa adalah mengkonfigurasi layanan lain, seperti DNS untuk membuat penyelesaian semua host lebih mudah. Ini bisa semudah menambahkan baris ke /etc/resolv.conf atau mekanisme GUI apa pun di OS tamu, atau mengedit file / etc / hosts dengan alamat host lain. </p>\n\n<p> Ini mungkin tidak jelas, tetapi trik perutean statis harus ada di sistem apa pun yang perlu diakses oleh tamu jaringan khusus host. Dalam contoh langkah demi langkah, hanya dua host yang dikonfigurasi dengan alamat statis. Itu berarti mesin apa pun di jaringan 10.101.0.0/24 atau 10.201.0.0/24, atau host 10.15.38.101 atau 10.15.38.201 dapat berinteraksi, tetapi perangkat di jaringan khusus host tidak dapat berinteraksi dengan host lain di 10.15 .38.0 / 24 jaringan (atau jaringan 10.0.0.0/8 lainnya) yang tidak juga memiliki rute statis yang ditambahkan. </p>\n\n<p> Ini dapat diubah dengan mengonfigurasi lebih lanjut host VM dengan aturan penerusan yang lebih kuat, menambahkan NAT atau perangkat lunak proxy. Perangkat lunak tersebut tidak perlu berada di lebih dari satu host VM, atau sistem yang berbeda, selama perangkat tersebut dikonfigurasi dengan rute statis ke semua jaringan khusus host yang diperlukan untuk melayani. Solusi perutean yang lebih besar dapat dibuat jika ini adalah kebutuhan yang kritis. </p>","votes":"5","source":"https://superuser.com/a/700383","author":"<a href=\"https://superuser.com/users/289194/jekewa\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jekewa</span></a>","replies":[]}]}
