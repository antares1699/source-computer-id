{"title":"Bagaimana saya menggunakan terminal LAYAR saat di-chroot?","draft":false,"url":"/bagaimana-saya-menggunakan-terminal-layar-saat-di-chroot-ouvfm3it","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","bash","gnu-screen","chroot"],"snippet":"Bagaimana cara mengizinkan pengguna menggunakan SCREEN pada pengguna chroot?  Saya telah mencoba segalanya tetapi saya terus gagal.  Saya membutuhkan pengguna untuk dapat menggunakan LAYAR ketika mereka masuk ke bash sebagai pengguna chroot.","body":"<p> Bagaimana cara mengizinkan pengguna menggunakan SCREEN pada pengguna chroot? </p>\n\n<p> Saya telah mencoba segalanya tetapi saya terus gagal. </p>\n\n<p> Saya membutuhkan pengguna untuk dapat menggunakan LAYAR ketika mereka masuk ke bash sebagai pengguna chroot. </p>","source":"https://superuser.com/questions/487013/how-do-i-use-the-terminal-screen-when-chrooted","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Muktadir Miah</span></a>","replies":[{"reply":"Pengguna yang di-chroot harus memiliki akses yang cukup untuk membuka pty baru, juga pertanyaan Anda memerlukan info lebih lanjut, apakah Anda menggunakan keamanan tambahan pada sistem Anda (grsec, selinux, other)?","author":"<a href=\"https://superuser.com/users/164765/xception\" target=\"_blank\" rel=\"nofollow noopener\">xception</a>"}],"answers":[{"answer":"<p> LAYAR mungkin perlu <em> devpts </em> , filesystem pseudo-terminal, untuk dipasang pada <code>/dev/pts</code> di dalam chroot. </p> <pre><code>mount -t devpts none \"$rootpath/dev/pts\" -o ptmxmode=0666,newinstance\n\nln -fs \"pts/ptmx\" \"$rootpath/dev/ptmx\"\n</code></pre> <p> (Bendera <code>newinstance</code> adalah opsional; ini memberi pengguna daftar pty yang benar-benar terpisah, mencegah mereka mengetahui pengguna lain yang masuk.) </p>","votes":"5","source":"https://superuser.com/a/487016","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user1686</span></a>","replies":[{"reply":"Apakah saya melakukannya pada pengguna root?","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\">Muktadir Miah</a>"},{"reply":"@MuktadirMiah: Ya, dan Anda melakukannya untuk setiap chroot pengguna. (Anda dapat mengotomatiskannya dengan <code>pam_exec</code>.)","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"&quot;Saya menjalankan&quot; mount -t devpts none &quot;/ home / jail / dev / pts&quot; -o ptmxmode = 0666, newinstance &quot;I get the error&quot; mount: mount point / home / jail / dev / pts tidak ada &quot;Saya menggunakan tutorial ini untuk chroot pengguna: <a href=\"http://dharmitshah.blogspot.co.uk/2011/12/sftp-server-configuration-with-chroot.html\" rel=\"nofollow noopener\" target=\"_blank\"> dharmitshah.blogspot.co.uk/2011/12/â€¦ </a>","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\">Muktadir Miah</a>"},{"reply":"Jika mountpoint tidak ada, <b> menciptakannya. </b> Dengan <code>mkdir</code>.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Saya telah melakukannya tetapi saya masih mendapatkan &quot;-su: screen: command not found&quot; pada pengguna yang di-chroot.","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\">Muktadir Miah</a>"},{"reply":"Kemudian salin <code>screen</code> dan file-nya ke chroot ... (Tip: Lain kali, sebutkan pesan kesalahan lebih cepat.)","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Saya sekarang mendapatkan kesalahan &quot;layar: kesalahan saat memuat pustaka bersama: libtinfo.so.5: tidak dapat membuka file objek bersama: Tidak ada file atau direktori seperti itu&quot;","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\">Muktadir Miah</a>"},{"reply":"Kemudian salin pustaka ke chroot.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Bagaimana saya melakukan ini?","author":"<a href=\"https://superuser.com/users/163819/muktadir-miah\" target=\"_blank\" rel=\"nofollow noopener\">Muktadir Miah</a>"},{"reply":"Jalankan <code>ldd &#47;usr&#47;bin&#47;screen</code>, lalu copy semua file yang terdaftar ...","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"}]},{"answer":"<p> Di Ubuntu-14.04 yang kehabisan stok ini juga dapat dicapai dengan satu &quot;mount&quot; dan satu &quot;chmod&quot;. </p>\n\n<p> Berikut ini <code>/mnt/old</code> adalah direktori target chroot (&quot;root&quot; baru).\nJuga diasumsikan pengguna <code>user</code> termasuk dalam grup direktori <code>/mnt/old/run</code> (akan menjadi <code>/run</code> dalam lingkungan chroot-ed). </p>\n\n<p> <code>\nsudo mount --bind /dev/pts /mnt/old/dev/pts\nsudo chmod g+w /mnt/old/run\nsudo chroot --userspec=user:user /mnt/old\nscreen\n</code> </p>\n\n<p> Peringatan: Tidak yakin apakah berbagi <code>/dev/pts</code> benar-benar ide yang bagus dari perspektif keamanan, dan saya akan melakukannya <em> tidak </em> merekomendasikan metode ini jika keamanan menjadi perhatian. </p>","votes":"1","source":"https://superuser.com/a/789369","author":"<a href=\"https://superuser.com/users/350970/georgiy\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Georgiy</span></a>","replies":[]}]}
