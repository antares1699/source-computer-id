{"title":"Docker dengan Ubuntu 20.10: `strconv.Atoi: parsing&quot; 0-beta1 &quot;: sintaks` tidak valid","draft":false,"url":"/docker-dengan-ubuntu-2010-strconvatoi-parsingquot-0-beta1-quot-sintaks-tidak-valid-yewszd1k","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","ubuntu","docker"],"snippet":"Saya baru saja memperbarui semua paket yang diinstal di mesin saya dengan menggunakan yang biasa:  sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp; sudo apt autoremove -y  Setelah me-reboot sistem, saya...","body":"<p> Saya baru saja memperbarui semua paket yang diinstal di mesin saya dengan menggunakan yang biasa: </p> <pre><code>sudo apt update &amp;&amp; sudo apt upgrade -y &amp;&amp; sudo apt autoremove -y\n</code></pre> <p> Setelah me-reboot sistem, saya melihat container Docker saya hilang dari eksekusi, lalu saya memutuskan untuk memulai container <code>hello-world</code> yang biasa. Saya mendapatkan kembali pesan kesalahan berikut. </p> <pre><code>sudouser@machine:~$ sudo docker run hello-world\ndocker: Error response from daemon: AppArmor enabled on system but the docker-default profile could not be loaded: strconv.Atoi: parsing &quot;0-beta1&quot;: invalid syntax.\nERRO[0004] error waiting for container: context canceled \n</code></pre> <h2 class=\"h4\"> Solusi mencoba </h2>\n<ul>\n<li> Copot dan instal ulang Docker: <em> tidak ada perubahan </em> . </li>\n</ul>\n<h3 class=\"h5\"> Informasi berguna </h3> <pre><code>Distributor ID: Ubuntu\nDescription:    Ubuntu Groovy Gorilla (development branch)\nRelease:    20.10\nCodename:   groovy\nKernel:     GNU/Linux 5.8.0-19-generic x86_64\n</code></pre>","source":"https://superuser.com/questions/1588174/docker-with-ubuntu-20-10-strconv-atoi-parsing-0-beta1-invalid-syntax","author":"<a href=\"https://superuser.com/users/1222509/piero-macaluso\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Piero Macaluso</span></a>","replies":[],"answers":[{"answer":"<p> halo saya memecahkan masalah dengan menambahkan file buruh pelabuhan secara manual di direktori /etc/apparmor.d: </p> <pre><code>$ /etc/apparmor.d$ cat docker \n#include &lt;tunables/global&gt;\nprofile docker-default flags=(attach_disconnected,mediate_deleted) {\n  #include &lt;abstractions/base&gt;\n  network,\n  capability,\n  file,\n  umount,\n  deny @{PROC}/* w,   # deny write for all files directly in /proc (not in a subdir)\n  # deny write to files not in /proc/&lt;number&gt;/** or /proc/sys/**\n  deny @{PROC}/{[^1-9],[^1-9][^0-9],[^1-9s][^0-9y][^0-9s],[^1-9][^0-9][^0-9][^0-9]*}/** w,\n  deny @{PROC}/sys/[^k]** w,  # deny /proc/sys except /proc/sys/k* (effectively /proc/sys/kernel)\n  deny @{PROC}/sys/kernel/{?,??,[^s][^h][^m]**} w,  # deny everything except shm* in /proc/sys/kernel/\n  deny @{PROC}/sysrq-trigger rwklx,\n  deny @{PROC}/mem rwklx,\n  deny @{PROC}/kmem rwklx,\n  deny @{PROC}/kcore rwklx,\n  deny mount,\n  deny /sys/[^f]*/** wklx,\n  deny /sys/f[^s]*/** wklx,\n  deny /sys/fs/[^c]*/** wklx,\n  deny /sys/fs/c[^g]*/** wklx,\n  deny /sys/fs/cg[^r]*/** wklx,\n  deny /sys/firmware/efi/efivars/** rwklx,\n  deny /sys/kernel/security/** rwklx,\n  # suppress ptrace denials when using 'docker ps' or using 'ps' inside a container ptrace (trace,read) peer=docker-default,\n}\n\n$ /etc/init.d/apparmor restart\n$ docker run hello-world\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n</code></pre>","votes":"6","source":"https://superuser.com/a/1590230","author":"<a href=\"https://superuser.com/users/1225109/roma59\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">roma59</span></a>","replies":[{"reply":"Saya harus membuat file <code>docker</code> dan membuat kesalahan dengan awalnya meletakkannya <code>&#47;etc&#47;apparmor</code> bukan <code>&#47;etc&#47;apparmor.d</code> tetapi setelah saya memperbaikinya, solusi ini bekerja seperti mimpi! Terima kasih @ roma59","author":"<a href=\"https://superuser.com/users/1225660/screamer\" target=\"_blank\" rel=\"nofollow noopener\">Screamer</a>"},{"reply":"Saya mengonfirmasi menambahkan file buruh pelabuhan ke /etc/apparmor.d dan memulai ulang apparmor memperbaiki kesalahan. Saya tidak tahu mengapa itu berhasil. Terima kasih atas solusinya.","author":"<a href=\"https://superuser.com/users/599830/rex\" target=\"_blank\" rel=\"nofollow noopener\">Rex</a>"}]},{"answer":"<p> Saya melihat ini juga setelah peningkatan dari 20,04. </p>\n<p> Berikut adalah langkah-langkah yang saya ambil dan saya bisa menjalankan Docker kembali. </p> <pre><code>sudo apt install docker.io\n\n# Unmask docker, otherwise cannot start docker because &quot;docker.service is masked&quot;\nsudo systemctl unmask docker\n\nsudo service docker start\n</code></pre> <p> Kemudian saya bisa menjalankan perintah buruh pelabuhan </p>","votes":"2","source":"https://superuser.com/a/1588330","author":"<a href=\"https://superuser.com/users/1222680/pat-viafore\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Pat Viafore</span></a>","replies":[{"reply":"Terima kasih @PatViafore! Solusi Anda sepertinya berhasil! Saya akan mengujinya di hari-hari berikutnya dan saya akan membalas Anda untuk &quot;Jawaban yang diterima&quot;.","author":"<a href=\"https://superuser.com/users/1222509/piero-macaluso\" target=\"_blank\" rel=\"nofollow noopener\">Piero Macaluso</a>"},{"reply":"Gagal memulai docker.service: Unit docker.service disamarkan.","author":"<a href=\"https://superuser.com/users/13818/natim\" target=\"_blank\" rel=\"nofollow noopener\">Natim</a>"}]},{"answer":"<p> Jawaban @PatViafore benar jika Anda tidak ingin menjalankan <strong> buruh pelabuhan </strong></p>\n<p> Jika Anda ingin menjalankan paket docker-ce, Anda harus mengedit file sources.list Anda dan menambahkan / mengedit baris sebagai berikut: </p> <pre><code>deb https://download.docker.com/linux/ubuntu focal stable edge test\n</code></pre> <p> Setelah meningkatkan <strong> buruh pelabuhan </strong> paket, Anda harus menjalankan buruh pelabuhan sekarang: </p> <pre><code>$ docker run hello-world\n\nHello from Docker!\nThis message shows that your installation appears to be working correctly.\n\nTo generate this message, Docker took the following steps:\n 1. The Docker client contacted the Docker daemon.\n 2. The Docker daemon pulled the &quot;hello-world&quot; image from the Docker Hub.\n    (amd64)\n 3. The Docker daemon created a new container from that image which runs the\n    executable that produces the output you are currently reading.\n 4. The Docker daemon streamed that output to the Docker client, which sent it\n    to your terminal.\n\nTo try something more ambitious, you can run an Ubuntu container with:\n $ docker run -it ubuntu bash\n\nShare images, automate workflows, and more with a free Docker ID:\n https://hub.docker.com/\n\nFor more examples and ideas, visit:\n https://docs.docker.com/get-started/\n</code></pre> <p> Diuji di laptop keren saya: </p> <pre><code>$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Ubuntu\nDescription:    Ubuntu Groovy Gorilla (development branch)\nRelease:    20.10\nCodename:   groovy\n$ docker --version\nDocker version 19.03.13, build 4484c46d9d\n</code></pre>","votes":"0","source":"https://superuser.com/a/1588901","author":"<a href=\"https://superuser.com/users/1223425/cubells\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">cubells</span></a>","replies":[{"reply":"Sayangnya, tidak menghapus kesalahan untuk saya (versi Ubuntu dan Docker yang sama persis). Sepertinya tidak membedakan antara <code>stable</code>, <code>test</code> dan <code>nightly</code>. Bagaimanapun, beralih ke <b> docker.io </b> adalah opsi yang valid: <a href=\"https://stackoverflow.com/questions/45023363/what-is-docker-io-in-relation-to-docker-ce-and-docker-ee\" title=\"what is docker io in relation to docker ce and docker ee\" target=\"_blank\" rel=\"nofollow noopener\"> stackoverflow.com/questions/45023363/â€¦ </a>","author":"<a href=\"https://superuser.com/users/1047589/user-rebo\" target=\"_blank\" rel=\"nofollow noopener\">User Rebo</a>"},{"reply":"Terima kasih atas komentar Anda @cubells! Sayangnya ini tidak menyelesaikan masalah seperti yang ditunjukkan oleh @User Rebo. Apakah Anda punya saran lain?","author":"<a href=\"https://superuser.com/users/1222509/piero-macaluso\" target=\"_blank\" rel=\"nofollow noopener\">Piero Macaluso</a>"}]}]}
