{"title":"Lokasi Pengambilan Tidak Disengaja - Bagaimana Cara Membersihkan?","draft":false,"url":"/lokasi-pengambilan-tidak-disengaja-bagaimana-cara-membersihkan-zlkgbcrg","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["linux","bash","shell","file-management","zip"],"snippet":"Terkadang saya akan melakukan perintah seperti  unzip tons_of_files.zip  Dan saya akan lupa meletakkan -d untuk menunjuk ke subdirektori. Ini menyebabkan folder saat ini dipenuhi dengan banyak file yang bercampur dengan file yang...","body":"<p> Terkadang saya akan melakukan perintah seperti </p> <pre><code>unzip tons_of_files.zip\n</code></pre> <p> Dan saya akan lupa meletakkan -d untuk menunjuk ke subdirektori. Ini menyebabkan folder saat ini dipenuhi dengan banyak file yang bercampur dengan file yang ada. </p>\n\n<p> Apa cara terbaik untuk menghapus semua file baru ini dan / atau memindahkannya ke direktori baru? Saya ingin menghindari pemeriksaan direktori secara manual dan menentukan apakah file tersebut merupakan bagian dari arsip atau sudah ada. </p>","source":"https://superuser.com/questions/198769/accidental-extract-location-how-to-clean-up","author":"<a href=\"https://superuser.com/users/44244/gordon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gordon</span></a>","replies":[{"reply":"Lihat juga <a href=\"http://unix.stackexchange.com/q/5123/885\" target=\"_blank\" rel=\"nofollow noopener\"> Bagaimana cara menghapus zip, menghapus-tar -xvf - membatalkan pengarsipan di folder yang berantakan? </a>","author":"<a href=\"https://superuser.com/users/42315/gilles-so-stop-being-evil\" target=\"_blank\" rel=\"nofollow noopener\">Gilles &#x27;SO- stop being evil&#x27;</a>"}],"answers":[{"answer":"<p> Cara cepatnya mungkin sebagai berikut: </p> <pre><code>unzip -qql tons_of_files.zip | while read -r l d t n ; do rm -fr \"$n\" ; done\n</code></pre> <p> Karena ini melakukan penghapusan otomatis: <strong> gunakan dengan resiko Anda sendiri </strong> . Untuk melihat pratinjau, ganti <code>... rm ...</code> dengan <code>... echo rm ...</code>. </p>","votes":"5","source":"https://superuser.com/a/198774","author":"<a href=\"https://superuser.com/users/46005/cyrus\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">cYrus</span></a>","replies":[]},{"answer":"<p> Jika Anda mengekstrak file dalam direktori di mana Anda belum mengubah atau memindahkan file apa pun selama beberapa menit sebelum ekstraksi, Anda dapat mengetahui file yang diekstrak dengan file yang paling baru. <a href=\"http://en.wikipedia.org/wiki/Stat_%28Unix%29\" rel=\"nofollow noopener\" target=\"_blank\"> ctime </a> . Ini tidak sempurna (jika direktori berisi file yang diekstrak, Anda tidak dapat mengetahui apakah itu dibuat dengan membuka ritsleting atau sudah ada sebelumnya (mungkin kosong)) tetapi bekerja dengan cukup baik dalam praktiknya. </p>\n\n<p> Perintah GNU find berikut memindahkan file dan direktori di direktori saat ini yang ctime-nya kurang dari 2 menit yang lalu ke <code>/other/dir</code>. <code>ls -lctr</code> dapat membantu menemukan waktu cutoff yang sesuai. </p> <pre><code>find . -mindepth 1 -maxdepth 1 -cmin -2 -exec mv {} /other/dir \\;\n</code></pre> <p> Zsh setara: </p> <pre><code>mv *(cm-3) /other/directory\n</code></pre> <p> Perintah GNU find berikut memindahkan file dengan waktu ctime yang serupa di pohon direktori yang berakar pada direktori saat ini ke jalur serupa di bawah <code>/other/dir</code>. </p> <pre><code>find . -mindepth 1 -cmin -2 -type f -exec sh -c '\n    for x; do\n      mkdir -p \"$0/${x%/*}\"\n      mv \"$x\" \"$0/$x\"\n    done\n  ' /other/dir {} +\n</code></pre> <p> Setara dengan Zsh (hampir: yang ini mereproduksi seluruh hierarki direktori, bukan hanya direktori yang akan berisi file): </p> <pre><code>autoload zmv\nmkdir -p ./**/*(/cm-3:s\"|.|/other/dir|\")\nzmv -Q '(**/)(*)(.cm-3)' /other/dir/'$1$2'\n</code></pre>","votes":"1","source":"https://superuser.com/a/198797","author":"<a href=\"https://superuser.com/users/42315/gilles-so-stop-being-evil\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gilles &#39;SO- stop being evil&#39;</span></a>","replies":[]},{"answer":"<blockquote>\n  <p> $ untuk saya di `unzip -qql tons_of_files.zip | tr -s &quot;&quot; | cut -d &quot;&quot; -f 5 | sed &#39;s /^.*///&#39; ``; lakukan echo $ i; selesai </p>\n</blockquote>\n\n<p> Ubah <code>echo</code> menjadi <code>rm</code>. </p>\n\n<p> Apa yang dilakukannya (di dalam backticks): </p>\n\n<ol>\n<li> daftar file (one-bye-one) </li>\n<li> meremas ruang </li>\n<li> pilih bidang ke-5 </li>\n<li> hapus semua yang ada di nama folder </li>\n</ol>","votes":"1","source":"https://superuser.com/a/225575","author":"<a href=\"https://superuser.com/users/56591/karatedog\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">karatedog</span></a>","replies":[]},{"answer":"<p> Dengan asumsi direktori kerja Anda saat ini adalah folder tempat Anda mengekstrak file secara tidak sengaja: </p>\n\n<p> <code>unzip -Z1 ../../accidentally-extracted.zip | xargs rm</code> </p>\n\n<p> Penjelasan: </p>\n\n<ol>\n<li> <code>unzip -Z1</code> mencantumkan semua file dalam file zip baris demi baris </li>\n<li> <code>xargs</code> meneruskan setiap baris sebagai argumen ke <code>rm</code> </li>\n</ol>\n\n<p> Jika Anda tidak berada di dalam folder yang tidak sengaja Anda ekstrak, Anda dapat menghapus file secara tidak sengaja jika cocok dengan salah satu file di zip. </p>\n\n<p> Jika Anda tidak yakin, Anda dapat menjalankan <code>xargs</code> dengan <code>-p</code> untuk membuatnya meminta Anda untuk setiap eksekusi. Anda dapat melakukan beberapa eksekusi pertama untuk memastikan bahwa Anda tidak mengacaukan sesuatu. </p>","votes":"0","source":"https://superuser.com/a/1288597","author":"<a href=\"https://superuser.com/users/202720/sqdk\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">SQDK</span></a>","replies":[]}]}
