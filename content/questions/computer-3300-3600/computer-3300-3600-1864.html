{"title":"Situs web Squid3 Caching berfungsi tetapi tidak untuk file besar meskipun ukuran maksimal 6GB","draft":false,"url":"/situs-web-squid3-caching-berfungsi-tetapi-tidak-untuk-file-besar-meskipun-ukuran-maksimal-6gb-x0m2uere","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","centos","proxy","ftp","squid"],"snippet":"Untuk lingkungan homelab, saya menyiapkan server Caching Squid 3.3.8 di CentOS 7 (minimal) sebagai server proxy (bukan sebagai gateway default dengan cache transparan).  Dengan klien Xubuntu, saya mengatur jaringan proxy dengan:  export...","body":"<p> Untuk lingkungan homelab, saya menyiapkan server Caching Squid 3.3.8 di CentOS 7 (minimal) sebagai server proxy (bukan sebagai gateway default dengan cache transparan). </p>\n\n<p> Dengan klien Xubuntu, saya mengatur jaringan proxy dengan: </p> <pre><code>export http_proxy=\"192.168.1.15:3128\"   (the same pattern for https and ftp)\n</code></pre> <p> Penjelajahan web berfungsi dan saya dapat melihatnya mencapai log <code>/var/log/squid/access.log</code>. Namun, file besar seperti gambar .ISO tidak sedang di-cache meskipun tersedia ruang cache sebesar 30 GB dan batas ukuran objek 6 GB per objek. </p>\n\n<p><strong> Bagaimana cara memecahkan masalah dan memperbaikinya? </strong></p>\n\n<p> Saya melihat dua kesalahan secara berurutan di file log, yang saya mengerti berarti cache squid gagal. </p> <pre>\n1442197979.371 394811 192.168.1.61 TCP_MISS/200 666894705 GET http://ftp.osuosl.org/pub/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1503-01.iso - HIER_DIRECT/140.211.166.134 application/octet-stream\n----\n1442199880.195 414232 192.168.1.61 TCP_MISS/200 666894705 GET http://ftp.osuosl.org/pub/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-1503-01.iso - HIER_DIRECT/140.211.166.134 application/octet-stream</pre> <p> Konfigurasi Squid: </p> <pre>cache_dir ufs /var/spool/squid 30720 16 256\ncache_mem 256 MB\nmaximum_object_size_in_memory 512 KB\nmaximum_object_size 6 GB\ncache_replacement_policy heap LFUDA\nrange_offset_limit -1\nquick_abort_min -1 KB</pre>","source":"https://superuser.com/questions/972665/squid3-caching-websites-works-but-not-for-large-files-despite-max-size-6gb","author":"<a href=\"https://superuser.com/users/485349/stackabstraction\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">StackAbstraction</span></a>","replies":[],"answers":[{"answer":"<p> Berdasarkan <a href=\"https://serverfault.com/a/596982/100013\" target=\"_blank\" rel=\"nofollow noopener\"> jawaban ini di sini di Server Fault </a> —Dan bersumber dari <a href=\"http://squid-web-proxy-cache.1019090.n4.nabble.com/Problem-with-caching-larger-files-td4666004.html#a4666006\" rel=\"nofollow noopener\" target=\"_blank\"> utas ini situs dukungan Squid Proxy resmi </a> —<code>maximum_object_size</code> harus ditempatkan di atas <code>cache_dir</code> dalam file <code>squid.conf</code>. </p>\n\n<p> Mengetahui itu, ubah saja konfigurasi Anda dari ini: </p> <pre><code>cache_dir ufs /var/spool/squid 30720 16 256\ncache_mem 256 MB\nmaximum_object_size_in_memory 512 KB\nmaximum_object_size 6 GB\ncache_replacement_policy heap LFUDA\nrange_offset_limit -1\nquick_abort_min -1 KB\n</code></pre> <p> Untuk ini: </p> <pre><code>maximum_object_size 6 GB\ncache_dir ufs /var/spool/squid 30720 16 256\ncache_mem 256 MB\nmaximum_object_size_in_memory 512 KB\ncache_replacement_policy heap LFUDA\nrange_offset_limit -1\nquick_abort_min -1 KB\n</code></pre> <p> Mulai ulang proxy Squid dan lihat apa yang terjadi. </p>","votes":"8","source":"https://superuser.com/a/972702","author":"<a href=\"https://superuser.com/users/167207/giacomo1968\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Giacomo1968</span></a>","replies":[]}]}
