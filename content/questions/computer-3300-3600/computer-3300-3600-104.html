{"title":"mulai layar gnu secara otomatis","draft":false,"url":"/mulai-layar-gnu-secara-otomatis-x7evahyr","votes":"4","answers_count":"5","categories":["Komputer"],"tags":["gnu-screen"],"snippet":"Saya ingin memulai layar gnu secara otomatis ketika saya masuk ke mesin jarak jauh saya melalui ssh, jadi saya menambahkan  exec screen  ke akhir file .bash_profile, kemudian saya mengetahui bahwa ketika saya...","body":"<p> Saya ingin memulai layar gnu secara otomatis ketika saya masuk ke mesin jarak jauh saya melalui ssh, jadi saya menambahkan </p> <pre><code>exec screen\n</code></pre> <p> ke akhir file .bash_profile, kemudian saya mengetahui bahwa ketika saya menghentikan penyaringan, koneksi saya ke host ssh juga langsung ditutup. Bagaimana saya bisa menghindari ini? </p>\n\n<p> Jika saya ingin melanjutkan layar (mis. Bernama &#39;layar lama&#39;), karena saya memulai penyaringan setiap kali saya masuk, saya menghadapi situasi di mana saya terikat ke &#39;layar baru&#39; dan saya ingin memasang kembali ke &#39;layar lama&#39;. Jika saya hanya </p> <pre><code>screen -r old-screen\n</code></pre> <p> Saya menemukan diri saya dalam layar rekursif, dan saya tidak dapat menavigasi dalam &#39;layar lama&#39; karena semua tombol pintas diterima oleh &#39;layar baru&#39;. Jika saya mencoba keluar dari layar saat ini, koneksi saya ke mesin jarak jauh juga akan segera hilang. </p>\n\n<p> Ada solusi untuk itu? </p>","source":"https://superuser.com/questions/255244/start-gnu-screen-automatically","author":"<a href=\"https://superuser.com/users/61281/zhanwu\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">zhanwu</span></a>","replies":[{"reply":"Jika Anda menukar <code>-r</code> dengan <code>-R</code> itu akan membuat sesi layar baru untuk Anda jika tidak ada untuk melanjutkan.","author":"<a href=\"https://superuser.com/users/62/svish\" target=\"_blank\" rel=\"nofollow noopener\">Svish</a>"},{"reply":"letakkan &#39;layar exec -R&#39; di .bash_profile memecahkan masalah saya. Terima kasih","author":"<a href=\"https://superuser.com/users/61281/zhanwu\" target=\"_blank\" rel=\"nofollow noopener\">zhanwu</a>"},{"reply":"@Svish: Silakan posting saran Anda sebagai jawaban sehingga zhanwu dapat menerimanya.","author":"<a href=\"https://superuser.com/users/310/dennis-williamson\" target=\"_blank\" rel=\"nofollow noopener\">Dennis Williamson</a>"},{"reply":"Menambahkannya sebagai jawaban :)","author":"<a href=\"https://superuser.com/users/62/svish\" target=\"_blank\" rel=\"nofollow noopener\">Svish</a>"}],"answers":[{"answer":"<p> Alih-alih menggunakan <code>screen -r</code> yang mencoba melanjutkan sesi layar, Anda dapat menggunakan <code>screen -R</code> yang mencoba melanjutkan sesi layar dan membuat yang baru jika tidak ada. </p> <pre><code>   -r [pid.tty.host]\n   -r sessionowner/[pid.tty.host]\n        resumes  a detached screen session.  No other options (except com-\n        binations with -d/-D) may be specified, though an optional  prefix\n        of  [pid.]tty.host  may  be needed to distinguish between multiple\n        detached screen sessions.  The second form is used to  connect  to\n        another  user's  screen session which runs in multiuser mode. This\n        indicates that screen should look for sessions in  another  user's\n        directory. This requires setuid-root.\n\n   -R   attempts to resume the first detached screen session it finds.  If\n        successful, all other command-line options  are  ignored.   If  no\n        detached  session exists, starts a new session using the specified\n        options, just as if -R had not been specified. The option  is  set\n        by default if screen is run as a login-shell (actually screen uses\n        \"-xRR\" in that case).  For combinations with the -d/-D option  see\n        there.\n</code></pre> <p> Secara pribadi saya cenderung menggunakan <code>screen -DRA</code>. </p> <pre><code>   -D -R   Attach here and now. In detail this means: If a session is run-\n           ning, then reattach. If necessary detach  and  logout  remotely\n           first.   If  it  was not running create it and notify the user.\n           This is the author's favorite.\n   -A      Adapt  the  sizes of all windows to the size of the current termi-\n           nal.  By default, screen tries to restore  its  old  window  sizes\n           when  attaching  to  resizable  terminals  (those with \"WS\" in its\n           description, e.g. suncmd or some xterm).\n</code></pre>","votes":"8","source":"https://superuser.com/a/255625","author":"<a href=\"https://superuser.com/users/62/svish\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Svish</span></a>","replies":[]},{"answer":"<p> Berikut ini tampaknya bekerja untuk saya di my: ~ / .bash_profile </p> <pre>\n## if $STY is not set...\nif [ -z \"$STY\" ]; then\n    screen  -d -RR\nfi\n</pre> <p> Saya mengambil jawabannya dari sini: <a href=\"https://superuser.com/a/52329/76204\" target=\"_blank\" rel=\"nofollow noopener\"> https://superuser.com/a/52329/76204 </a></p>\n\n<p> tetapi alih-alih membuat layar baru setiap kali itu menyambungkan kembali sesi atau membuatnya jika perlu. Juga tampaknya tidak ada koneksi ssh yang keluar saat layar dipasang kembali atau ditutup. </p>","votes":"4","source":"https://superuser.com/a/497998","author":"<a href=\"https://superuser.com/users/76204/drescherjm\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">drescherjm</span></a>","replies":[{"reply":"Bagaimana jika Anda melanggar <code>.screenrc</code>, atau <code>&#47;etc&#47;screenrc</code> Anda? Setidaknya jika Anda menghapus layar, maka eksekutif akan gagal dan shell Anda tidak akan keluar, tetapi itu akan terjadi jika layar berjalan tetapi hanya keluar dengan kesalahan.","author":"<a href=\"https://superuser.com/users/20798/peter-cordes\" target=\"_blank\" rel=\"nofollow noopener\">Peter Cordes</a>"},{"reply":"Saya belum pernah menjumpai itu dalam 5+ tahun di 50 atau lebih mesin virtual + nyata. Dalam hal ini saya kira saya harus boot dari live iso dan mengomentari baris yang menyinggung di file ~ / .bash_profile.","author":"<a href=\"https://superuser.com/users/76204/drescherjm\" target=\"_blank\" rel=\"nofollow noopener\">drescherjm</a>"},{"reply":"Ya, sepertinya tidak mungkin. Jika pengguna lain di mesin memiliki akun yang tidak rusak, atau jika ada kata sandi root (bukan hanya sudo), Anda dapat memperbaikinya dengan cara itu.","author":"<a href=\"https://superuser.com/users/20798/peter-cordes\" target=\"_blank\" rel=\"nofollow noopener\">Peter Cordes</a>"},{"reply":"Jika Anda merusak .screenrc Anda, cukup <code>ssh ip &quot;bash --noprofile&quot;</code>","author":"<a href=\"https://superuser.com/users/136896/airstrike\" target=\"_blank\" rel=\"nofollow noopener\">airstrike</a>"}]},{"answer":"<p> Saya sendiri sering memikirkan hal yang sama. </p>\n\n<p> Yang paling dekat yang saya temukan adalah menjalankan layar sebagai bagian dari perintah ssh untuk terhubung ke server jarak jauh: </p> <pre><code>$ ssh -t foo@bar.com screen -r\n</code></pre> <p> atau Putty masukkan <code>screen -r</code> ke dalam kotak <code>Remote command</code> preferensi SSH. </p>\n\n<p> Saya cenderung membuat alias sejumlah perintah ssh ke host yang berbeda dan sesi layar yang berbeda. </p>","votes":"1","source":"https://superuser.com/a/255251","author":"<a href=\"https://superuser.com/users/69290/majenko\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Majenko</span></a>","replies":[{"reply":"Ini yang saya gunakan. Sepertinya ide yang lebih baik daripada meretas .bash_profile untuk selalu menjalankan layar.","author":"<a href=\"https://superuser.com/users/20798/peter-cordes\" target=\"_blank\" rel=\"nofollow noopener\">Peter Cordes</a>"}]},{"answer":"<p> Tambahkan ini ke <code>~/.bash_profile</code>. </p> <pre><code>if [ $- = *i* ] &amp;&amp; [ -z \"${STY+x}\" ] &amp;&amp; which screen &amp;&gt;/dev/null; then\n    exec screen -RR -U\nfi\n</code></pre> <p> Ini akan </p>\n\n<ol>\n<li> memeriksa interaktif (hanya jalankan <code>screen</code> saat interaktif, jika tidak maka program otomatis akan gagal (mis. <em> scp </em> , <em> WinSCP </em> ) </li>\n<li> memeriksa bahwa <code>STY</code> tidak disetel (jika <code>STY</code> disetel maka <code>screen</code> sudah berjalan untuk shell ini) </li>\n<li> periksa bahwa <code>screen</code> ditemukan di <code>PATH</code> </li>\n</ol>\n\n<p> Dan terakhir jalankan <code>screen</code> dengan opsi <code>-R</code> untuk melanjutkan sesi yang tidak terpasang, jika tidak ada sesi yang tidak terpasang, mulailah sesi baru. </p>\n\n<hr>\n\n<p> Mulai <code>screen</code> <em> setelah </em> mengimpor <code>~/.bashrc</code>. mis. </p> <pre><code>if [ -f ~/.bashrc ]; then\n   source ~/.bashrc\nfi\nif [ $- = *i* ] &amp;&amp; [ -z \"${STY+x}\" ] &amp;&amp; which screen &amp;&gt;/dev/null; then\n...\n</code></pre>","votes":"1","source":"https://superuser.com/a/1424460","author":"<a href=\"https://superuser.com/users/167043/jamesthomasmoon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">JamesThomasMoon</span></a>","replies":[{"reply":"Ups, adalah <code>exec screen -R</code> yang akan bermasalah jika ada lebih dari satu layar yang terlepas! Dikoreksi menjadi <code>exec screen -RR</code>.","author":"<a href=\"https://superuser.com/users/167043/jamesthomasmoon\" target=\"_blank\" rel=\"nofollow noopener\">JamesThomasMoon</a>"}]},{"answer":"<p> Dapatkah OS Anda mendukung switch baris perintah dengan definisi perintah shell di parameter &quot;login&quot; untuk akun Anda? Jika demikian, coba ubah menjadi: </p>\n\n<ul>\n<li> / path / ke / bash -c &quot;screen -R&quot; </li>\n</ul>","votes":"0","source":"https://superuser.com/a/255553","author":"<a href=\"https://superuser.com/users/26312/randolf-richardson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Randolf Richardson</span></a>","replies":[]}]}
