{"title":"cara mengkonfigurasi radvd untuk linux ipv6 router menuju gateway dsl hulu","draft":false,"url":"/cara-mengkonfigurasi-radvd-untuk-linux-ipv6-router-menuju-gateway-dsl-hulu-axhvfdfz","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","router","ipv6","radvd"],"snippet":"Saya mencoba mendapatkan router Linux rumah saya untuk juga mendukung ipv6 di jaringan rumah.  Saya memiliki router DSL NVG599 yang bertindak sebagai GW untuk internet publik, dan kemudian router Linux saya dengan...","body":"<p> Saya mencoba mendapatkan router Linux rumah saya untuk juga mendukung ipv6 di jaringan rumah. </p>\n\n<p> Saya memiliki router DSL NVG599 yang bertindak sebagai GW untuk internet publik, dan kemudian router Linux saya dengan dua antarmuka: eth0 menuju jaringan rumah dan eth1 menuju router DSL. </p>\n\n<p><strong> Jaringan HOME &lt;----eth0-----&gt; LinuxRouter &lt;------eth1------&gt; DSLrouter - &gt;&gt;&gt;&gt;&gt; </strong></p>\n\n<p> Router DSL dikonfigurasi dengan awalan jaringan / 64 dari ISP saya (anggap saja 2001: 0: 0: 1234 :: / 64) dan router DSL memiliki alamat global ipv6 2001: 0: 0: 1234 :: 1 . Saya telah mengatur router Linux dengan radvd untuk mengiklankan awalan jaringan / 64 yang sama ini ke eth0 menuju LAN rumah, dan memang saya melihat host di LAN dapat mengkonfigurasi alamat IP mereka secara otomatis. Iklan tersebut juga mencantumkan router Linux sebagai router default untuk :: / 0, dan penerusan diatur sehingga akan mengirimkan paket ke router DSL. </p>\n\n<p> Masalah yang saya miliki adalah bahwa router DSL mengirimkan paket permintaan tetangga di eth1 ketika mendapat paket masuk dari internet, dan permintaan tetangga tersebut tidak diteruskan dari eth1 -&gt; eth0 di router Linux. Saya berpikir bahwa ini terjadi karena router DSL mengira itu terhubung langsung ke jaringan rumah (yang biasanya terjadi di 99% jaringan rumah tanpa router Linux di tengah). </p>\n\n<p> Setelah menghabiskan 2 hari mencoba memahaminya, sejauh ini jawabannya tidak saya ketahui. Saya berharap ada cara untuk mengirim iklan router menggunakan radvd ke router DSL untuk memberitahukannya agar merutekan semua paket untuk awalan / 64 melalui Router Linux. Saat ini iklan router yang dikirim oleh Router Linux dikonfigurasi dengan prefiks / 64 yang dikirim ke router DSL dengan: </p> <pre><code>interface eth1\n{\n    AdvSendAdvert on;\n    MinRtrAdvInterval 3;\n    MaxRtrAdvInterval 10;\n    route 2001:0:0:1234::/64 {\n    };\n\n};\n</code></pre> <p> Saya akan berpikir bahwa ini seharusnya cukup untuk mendapatkan router DSL untuk meneruskan semua paket ke jaringan, tetapi saya masih melihat solusi tetangga. </p>\n\n<p> Saya melihat router DSL memiliki pengaturan melewati IP dengan kemampuan untuk mengatur &quot;server default&quot;, tetapi tampaknya hanya berlaku untuk IPv4. Dengan asumsi bahwa router DSL tidak menghormati RA saya, saya kira saya dapat mengatur penerusan multicast ipv6 menggunakan &#39;xorb&#39; pada router Linux saya tetapi bertanya-tanya apakah ada opsi lain. </p>","source":"https://superuser.com/questions/1190312/how-to-configure-radvd-for-linux-ipv6-router-towards-upstream-dsl-gateway","author":"<a href=\"https://superuser.com/users/601113/davidg\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">DavidG</span></a>","replies":[{"reply":"Alamat Teredo? Itu tidak akan berhasil. Gunakan alamat IPv6 yang valid.","author":"<a href=\"https://superuser.com/users/144961/michael-hampton\" target=\"_blank\" rel=\"nofollow noopener\">Michael Hampton</a>"},{"reply":"Alamat Teredo benar-benar valid, terima kasih. Saya berasumsi posting hanya menggunakan 2001: 0: ... sebagai contoh.","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"}],"answers":[{"answer":"<blockquote>\n  <p> Masalah yang saya miliki adalah bahwa router DSL mengirimkan paket permintaan tetangga di eth1 ketika mendapat paket masuk dari internet, dan permintaan tetangga tersebut tidak diteruskan dari eth1 -&gt; eth0 di router Linux. </p>\n</blockquote>\n\n<p> Itu normal. Permintaan tetangga berfungsi seperti kueri ARP - permintaan tersebut menerjemahkan alamat IP ke alamat MAC, dan karena itu hanya masuk akal dalam domain siaran yang sama. Itu membuat <em> tidak masuk akal </em> untuk router untuk meneruskannya. </p>\n\n<p> (Meskipun dalam beberapa situasi router bisa <em> proxy </em> mereka, seperti yang dijelaskan di akhir, tapi ... biarkan itu untuk rencana C.) </p>\n\n<blockquote>\n  <p> Saya berpikir bahwa ini terjadi karena router DSL mengira itu terhubung langsung ke jaringan rumah (yang biasanya terjadi di 99% jaringan rumah tanpa router Linux di tengah). </p>\n</blockquote>\n\n<p> Ya, dan Anda tidak pernah <em> diberitahu </em> itu sebaliknya. </p>\n\n<p> Jadi situasi Anda saat ini adalah <em> sama </em> Subnet IP digunakan oleh dua jaringan yang berbeda, dan Anda mengharapkan router Linux berfungsi sebagai jembatan ... Yang hampir berlawanan dengan router. </p>\n\n<p> (Jika bagian yang membingungkan adalah IPv6, pikirkan tentang seluruh penyiapan dalam istilah IPv4, karena peruteannya kurang lebih sama di keduanya, dan ND sebagian besar setara dengan ARP. Jadi, jika Anda tidak akan menggunakan subnet 192.168.1.0 yang sama di v4 ...) </p>\n\n<hr>\n\n<p> Tindakan terbaik Anda adalah <strong> mendapatkan a <em> kedua </em> / 64, </strong> dan gunakan <em> bahwa </em> untuk jaringan eth1 router Linux Anda. (Jika router DSL mendapatkan awalannya melalui DHCPv6-PD, itu mungkin untuk mengelabui agar meminta yang kedua.) Perbedaannya adalah bahwa 2nd / 64 tidak akan digunakan secara langsung pada antarmuka melainkan <em> diarahkan </em> menuju alamat router Linux. </p>\n\n<p> Sebagai contoh: </p>\n\n<ul>\n<li> Router DSL memiliki 2001: db8: 0: 0: a: b: c: d pada antarmuka WAN. </li>\n<li> Router DSL memperoleh 2001: db8: 10: 0 :: / 64 dari ISP, menetapkan sendiri 2001: db8: 10: 0 :: 1/64 pada antarmuka LAN, dan mengirimkan Iklan Router untuknya. </li>\n<li> Konfigurasi otomatis router Linux 2001: db8: 10: 0: x: y: z: t pada eth1 berdasarkan RA. </li>\n<li> Router Linux memperoleh 2001: db8: 10: 1 :: / 64 dari ISP (entah bagaimana), menetapkan sendiri 2001: db8: 10: 1 :: 1/64 pada antarmuka eth0, dan radvd mengirimkan Iklan Router untuk itu - <strong> tidak </strong> untuk subnet pertama. </li>\n<li> Router DSL membutuhkan rute seperti &quot;2001: db8: 10: 1 :: / 64 via 2001: db8: 10: 0: x: y: z: t&quot; sehingga semua lalu lintas untuk subnet ke-2 diteruskan ke router Linux . </li>\n</ul>\n\n<p> (Maaf untuk contoh yang tidak terlalu jelas.) </p>\n\n<p> Terkadang ISP mendelegasikan keseluruhan / 60 atau bahkan / 56 kepada Anda, dan mengarahkan semuanya ke router DSL. Dalam hal ini Anda bisa mengatur subnet ke-2 tanpa keajaiban DHCPV6-PD. Sungguh, saya tidak dapat memberikan jawaban &quot;umum&quot; yang baik di sini karena keduanya bergantung pada ISP dan bergantung pada CPE. </p>\n\n<hr>\n\n<p> Jika mendapatkan awalan kedua / 64 tidak memungkinkan, opsi lain yang memungkinkan adalah: </p>\n\n<ul>\n<li><p> Ubah sistem Linux menjadi jembatan murni, tanpa fungsionalitas perutean apa pun. </p></li>\n<li><p> Gunakan sumber lain untuk mendapatkan tambahan / 64, seperti penyedia terowongan (atau 6to4). Layanan terowongan yang ada akan bekerja jauh lebih andal (kecuali untuk beberapa latensi tambahan) daripada peretasan yang dijelaskan di bawah ini. </p></li>\n<li><p> Jadikan router DSL hanya mendapatkan / 64 tetapi tidak mengkonfigurasinya untuk LAN. (Tergantung pada seberapa fleksibel router tersebut.) Sebagai gantinya, atur kembali rute untuk itu / 64 melalui alamat link-local eth0 sistem Linux Anda, dan juga atur rute pada sistem Linux untuk :: / 0 melalui router DSL. Alamat LAN link-local. Akibatnya, / 64 hanya akan digunakan di subnet kedua, dan subnet pertama tidak akan memiliki awalan publik sama sekali. </p></li>\n<li><p> Lanjutkan dengan penyiapan Anda saat ini, tetapi instal &#39;ndppd&#39; untuk melakukan proksi Neighbor Discovery. (Tidak, penerusan multicast tidak akan berfungsi karena paket ND sering kali memiliki alamat sumber link-local.) Berhati-hatilah dengan ini, ini dapat membuat semuanya membingungkan. </p></li>\n<li><p> Gunakan alamat pribadi (ULA) untuk LAN ke-2, dan aktifkan NAT 1-ke-banyak (penyamaran) pada router Linux ... kehilangan sebagian besar kegunaan IPv6 dalam proses tersebut. (Ya, NAT resmi tidak ada di IPv6, tetapi itu tidak menghentikan Linux netfilter / iptables untuk menyerah dan mengimplementasikannya.) </p></li>\n</ul>","votes":"6","source":"https://superuser.com/a/1190323","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user1686</span></a>","replies":[{"reply":"Ini agak berantakan karena ditulis di telepon lewat tengah malam ...","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"Terima kasih atas jawaban yang bagus. 2 solusi yang akan saya pertimbangkan adalah mencari untuk mendapatkan yang kedua / 64 dari ISP, dan bagaimana menempatkan router DSL dalam semacam mode jembatan di mana ia mendelegasikan perutean ke router Linux untuk IPv6. Masalah terbesar adalah IPv4 berfungsi dan saya tidak ingin merusaknya.","author":"<a href=\"https://superuser.com/users/601113/davidg\" target=\"_blank\" rel=\"nofollow noopener\">DavidG</a>"},{"reply":"Hai, saya menghadapi masalah ini. Apakah Anda memutuskan solusi mana yang akan digunakan dan dapatkah Anda memberi tahu saya bagaimana Anda menerapkan solusi tersebut?","author":"<a href=\"https://superuser.com/users/68780/oxwivi\" target=\"_blank\" rel=\"nofollow noopener\">Oxwivi</a>"},{"reply":"@ user1686, router saya mengizinkan penonaktifan DHCP-PD dan mengatasi konfigurasi otomatis, bagaimana sebenarnya saya dapat menjalankan saran kedua Anda untuk merutekan <code>::&#47;0</code> melalui tautan-lokal? Selain itu, apakah mungkin menggunakan router Linux sebagai subnet untuk menghindari kegagalan keseluruhan?","author":"<a href=\"https://superuser.com/users/68780/oxwivi\" target=\"_blank\" rel=\"nofollow noopener\">Oxwivi</a>"}]}]}
