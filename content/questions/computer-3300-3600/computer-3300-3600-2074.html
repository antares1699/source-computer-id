{"title":"sed: menghapus teks di antara string sampai kemunculan pertama string lain","draft":false,"url":"/sed-menghapus-teks-di-antara-string-sampai-kemunculan-pertama-string-lain-0mx4kwmc","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["regex","sed"],"snippet":"Bayangkan saya memiliki sesuatu seperti teks berikut:  Rubah coklat cepat melompat pada tahun 2012 dan 2013  Dan saya ingin menghapus bagian dari &quot;rubah&quot; termasuk empat angka tetapi hanya pada kejadian pertama jadi...","body":"<p> Bayangkan saya memiliki sesuatu seperti teks berikut: </p>\n\n<p><strong> Rubah coklat cepat melompat pada tahun 2012 dan 2013 </strong></p>\n\n<p> Dan saya ingin menghapus bagian dari &quot;rubah&quot; termasuk empat angka tetapi hanya pada kejadian pertama jadi saya berakhir dengan: </p>\n\n<p><strong> Cokelat cepat dan 2013 </strong></p>\n\n<p> Sesuatu seperti ini ...: </p> <pre>echo \"The quick brown fox jumps in 2012 and 2013\" \\\n   | sed  \"s/fox.*\\([0-9]\\{4\\}\\)//g\"</pre> <p> ... membawa saya: </p> <pre>The quick brown</pre> <p> Jadi itu menghapus semuanya termasuk kemunculan terakhir dari empat angka. </p>\n\n<p> Ada ide? </p>","source":"https://superuser.com/questions/470906/sed-delete-text-between-a-string-until-first-occurrence-of-another-string","author":"<a href=\"https://superuser.com/users/156753/marit-hoen\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Marit Hoen</span></a>","replies":[{"reply":"Bilangan standar dalam ekspresi reguler bersifat serakah, artinya mereka cocok sebisa mungkin.","author":"<a href=\"https://superuser.com/users/101850/kinokijuf\" target=\"_blank\" rel=\"nofollow noopener\">kinokijuf</a>"}],"answers":[{"answer":"<p> Ekspresi reguler POSIX yang digunakan oleh <code>sed</code> (baik versi &quot;dasar&quot; dan &quot;diperpanjang&quot;) tidak mendukung pencocokan tidak serakah. (Meskipun ada beberapa solusi, seperti menggunakan <code>[^0-9]*</code> sebagai pengganti <code>.*</code>, mereka menjadi tidak dapat diandalkan jika inputnya sangat bervariasi.) </p>\n\n<p> Apa yang Anda butuhkan dapat dicapai di Perl dengan menggunakan pembilang non-serakah <code>?</code>: </p> <pre><code>echo \"The quick brown fox jumps in 2012 and 2013\" \\\n   | perl -pe 's/fox.*?([0-9]{4})//g'\n</code></pre> <p> Anda mungkin juga ingin menghapus ruang ekstra. </p>","votes":"6","source":"https://superuser.com/a/470910","author":"<a href=\"https://superuser.com/users/105002/choroba\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">choroba</span></a>","replies":[{"reply":"Sial, kalahkan. Apa itu tentang ruang ekstra? (+1)","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\">user1686</a>"},{"reply":"@grawity: Coba tambahkan spasi setelah tanda kurung kanan.","author":"<a href=\"https://superuser.com/users/105002/choroba\" target=\"_blank\" rel=\"nofollow noopener\">choroba</a>"},{"reply":"Apakah tanda kurung berguna?","author":"<a href=\"https://superuser.com/users/150988/scott\" target=\"_blank\" rel=\"nofollow noopener\">Scott</a>"},{"reply":"@Scott: Tidak juga dalam kasus ini :-)","author":"<a href=\"https://superuser.com/users/105002/choroba\" target=\"_blank\" rel=\"nofollow noopener\">choroba</a>"}]},{"answer":"<p> Dengan asumsi Anda ingin menggunakan <em> hanya </em> sed dan Anda ingin akhir pertandingan menjadi kelompok angka pertama, tanpa peduli kata apa setelah angka, ini berfungsi: </p> <pre>\necho \"The quick brown fox jumps in 2012 and 2013\" \\\n   | sed \"s/fox[^0-9][^0-9]*[0-9][0-9]* //\"\n</pre> <p> Pola ini bekerja dengan mencocokkan <code>fox</code>, diikuti oleh satu atau beberapa non-digit <code>[^0-9][^0-9]*</code>, diikuti oleh 1 atau lebih digit <code>[0-9][0-9]*</code>. Pola ini akan bekerja dengan jumlah digit yang berubah-ubah, bukan hanya 4. Jika Anda ingin mencocokkan tepat 4 digit, ubah untuk: </p> <pre>\necho \"The quick brown fox jumps in 2012 and 2013\" \\\n   | sed \"s/fox[^0-9]*\\([0-9]\\{4\\}\\) //\"\n</pre>","votes":"1","source":"https://superuser.com/a/470917","author":"<a href=\"https://superuser.com/users/68206/juggler\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">juggler</span></a>","replies":[]},{"answer":"<p> Anda tidak menentukan <em> persis </em> apa kebutuhan Anda. Anda mungkin menginginkan proses multi-langkah. Pilih string yang Anda tahu tidak akan muncul dalam masukan Anda (mis., <code>####</code>): </p> <pre>\necho \"The quick brown fox jumps over 42 lazy dogs in 2012 and 2013.\" \\\n  | sed \\\n        -e \"s/[0-9]\\{4\\}/&####/\" \\\n        -e \"s/fox.*####//\" \\\n        -e \"s/####//\"\n</pre> <p> (Perintah terlipat secara berlebihan agar mudah dibaca.) <code>-e \"s/[0-9]\\{4\\}/&amp;####/\"</code> menyuntikkan <code>####</code> setelahnya <em> pertama </em> nomor empat digit. (Peringatan: ini akan mengubah <code>65536</code> menjadi <code>6553####6</code>.) <br> <code>-e \"s/fox.*####//\"</code> memengaruhi baris yang berisi <code>fox</code> dan <code>####</code> - yaitu, baris yang berisi setidaknya satu angka empat digit - lalu menghapus dari <code>fox</code> hingga <em> pertama </em> nomor empat digit. <br> <code>-e \"s/####//\"</code>, tentu saja, membersihkan string <code>####</code> yang tersisa dari baris yang berisi angka empat digit tetapi tidak <code>fox</code>. </p>\n\n<p> Untuk juga menghapus satu spasi setelah nomor jika ada, </p> <pre>\necho \"The quick brown fox jumps over 42 lazy dogs in 2012 and 2013.\" \\\n  | sed \\\n        -e \"s/[0-9]\\{4\\}/&####/\" \\\n        -e \"s/fox.*#### //\" \\\n        -e \"s/fox.*####//\" \\\n        -e \"s/####//\"\n</pre> <p> Peringatan: Anda dapat menambahkan <code>g</code> ke semua perintah <code>s</code>, tetapi, karena ini masih menggunakan <code>.*</code>, yang merupakan akar masalah Anda, itu masih tidak akan menangani </p> <pre><code>One fox jumps in 2012 and 2013, another fox will jump in 2014 and 2015.\n</code></pre> <p> seperti yang mungkin Anda inginkan. Dan, tentu saja, Anda <strong><em> jangan </em></strong> ingin menambahkan <code>g</code> ke <code>\"s/[0-9]\\{4\\}/&amp;####/\"</code> karena itu akan menyuntikkan <code>####</code> setelahnya <em> setiap </em> angka empat digit, mengalahkan keseluruhan poin. Kemudian <code>\"s/fox.*####//\"</code> akan berakhir seperti <code>\"s/fox.*[0-9]\\{4\\}//\"</code> (perintah asli Anda dengan karakter non-kontribusi dihapus); yaitu, itu akan berubah </p>\n\n<p><strong> Rubah coklat cepat melompat pada tahun 2012 dan 2013. </strong></p>\n\n<p> untuk </p>\n\n<p><strong> Rubah coklat cepat melompat pada tahun 2012 #### dan 2013 ####. </strong></p>\n\n<p> dan kemudian ke </p>\n\n<p><strong> Cokelat cepat. </strong></p>","votes":"1","source":"https://superuser.com/a/470955","author":"<a href=\"https://superuser.com/users/150988/scott\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Scott</span></a>","replies":[]}]}
