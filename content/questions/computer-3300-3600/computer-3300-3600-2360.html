{"title":"Perintah Unix untuk mengosongkan file log dari dalam &quot;less&quot;?","draft":false,"url":"/perintah-unix-untuk-mengosongkan-file-log-dari-dalam-quotlessquot-jxasorvu","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["linux","less"],"snippet":"Saya lebih suka menggunakan &quot;less&quot; untuk membaca file log. Berbeda dengan &quot;tail -f&quot;, saya dapat mengikuti (Shift + F), berhenti (Ctrl + C), dan menavigasi ke atas dan ke bawah u dan...","body":"<p> Saya lebih suka menggunakan &quot;less&quot; untuk membaca file log. Berbeda dengan &quot;tail -f&quot;, saya dapat mengikuti (<code>Shift + F</code>), berhenti (<code>Ctrl + C</code>), dan menavigasi ke atas dan ke bawah <code>u</code> dan <code>d</code>, dll. </p>\n\n<p> Sekarang yang benar-benar saya inginkan adalah kemampuan untuk mengosongkan logfile tertentu dari dalam program. Apakah itu mungkin? </p>","source":"https://superuser.com/questions/84915/unix-command-to-empty-logfile-from-within-less","author":"<a href=\"https://superuser.com/users/13045/jesper-r%c3%b8nn-jensen\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jesper R&#248;nn-Jensen</span></a>","replies":[],"answers":[{"answer":"<p> Cara termudah IMHO adalah: <br> <code>!&gt;%</code> <br> Yaitu: Tanda Pengecualian <code>\"!\"</code>, Tanda Lebih Besar <code>\"&gt;\"</code> dan Tanda Persentase <code>\"%\"</code>. <br> Mungkin itu membantu. </p>","votes":"5","source":"https://superuser.com/a/97427","author":"<a href=\"https://superuser.com/users/10150/wolf\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Wolf</span></a>","replies":[{"reply":"bisakah Anda memberikan penjelasan singkat tentang cara kerjanya? Saya tidak terlalu akrab dengan salah satu dari tanda-tanda itu?","author":"<a href=\"https://superuser.com/users/13045/jesper-r%c3%b8nn-jensen\" target=\"_blank\" rel=\"nofollow noopener\">Jesper R&#xF8;nn-Jensen</a>"},{"reply":"Saya akan mencoba. Bahasa Inggris saya tidak terlalu bagus. Dan karena kita memiliki sedikit ruang untuk komentar, itu harus dibagi. Di sini kita pergi: &quot;!&quot; / Tanda seru memanggil shell untuk menjalankan apa yang kita ketik selanjutnya (lihat lebih sedikit). &quot;&gt;&quot; / tanda yang lebih besar adalah perintah shell redirection (lihat man bash). &quot;%&quot; / Tanda persentase adalah nama file saat ini (lihat lebih sedikit manual). Jadi dengan kata sederhana kita kurangi mengatakan untuk &quot;memulai shell (!) Dan mengarahkan (&gt;) ke file ini (%)&quot;. Tapi apa yang dialihkan? Karena tidak ada file yang diberikan, ini mengarahkan &quot;input standar&quot; ke file tersebut. Masukan standar kosong, jadi &quot;tidak ada&quot; yang dialihkan ke file ...","author":"<a href=\"https://superuser.com/users/10150/wolf\" target=\"_blank\" rel=\"nofollow noopener\">Wolf</a>"},{"reply":"... jadi file tersebut - pada akhirnya - memiliki &quot;tidak ada&quot;. Ini kosong. Anda dapat membersihkan semua jenis file dengan cara itu. cukup ketik &quot;&gt; nama file&quot; pada prompt shell untuk mengosongkan file &quot;nama file&quot;. Lihat juga &quot;man bash&quot; di bawah &quot;Redirecting Output&quot; (bash memiliki halaman manual yang panjang ...) Semoga saya bisa membantu.","author":"<a href=\"https://superuser.com/users/10150/wolf\" target=\"_blank\" rel=\"nofollow noopener\">Wolf</a>"},{"reply":"+1 Trik yang bagus. Juga sangat samar ;-).","author":"<a href=\"https://superuser.com/users/5026/sleske\" target=\"_blank\" rel=\"nofollow noopener\">sleske</a>"},{"reply":"@Wolf kenapa kamu tidak mengedit penjelasan itu langsung ke jawaban?","author":"<a href=\"https://superuser.com/users/121080/michael\" target=\"_blank\" rel=\"nofollow noopener\">Michael</a>"}]},{"answer":"<p> Anda cukup menekan <kbd> v </kbd> untuk mengedit file di vim. Dalam vim Anda harus berakhir di baris yang terakhir Anda kurangi, sehingga menekan <kbd> Vggd </kbd> harus menghapus dari posisi Anda saat ini ke bagian atas file. Dengan <kbd> : wq </kbd> Anda harus kembali ke lebih sedikit. </p>\n\n<p> Namun, aplikasi yang menulis file log mungkin tidak seperti itu sama sekali, jadi jarak tempuh Anda berbeda-beda. </p>","votes":"2","source":"https://superuser.com/a/84922","author":"<a href=\"https://superuser.com/users/591/innam\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">innaM</span></a>","replies":[]},{"answer":"<p> Yang termudah yang dapat saya pikirkan mungkin adalah menggunakan <code>^Z</code> untuk meletakkan proses saat ini di latar belakang, menghapus file Anda, dan ketik <code>fg</code> untuk kembali ke proses Anda. Meskipun demikian, menghapus file log bukanlah cara terbaik untuk mengatasinya, lebih baik biasanya menggunakan <code>logrotate</code> untuk mengompresnya. </p>","votes":"1","source":"https://superuser.com/a/84916","author":"<a href=\"https://superuser.com/users/21625/%e2%84%9daphink\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ℝaphink</span></a>","replies":[]},{"answer":"<p> Anda dapat menggunakan <code>!cp /dev/null %</code>, untuk memotong file yang sedang dilihat. Tetapi seperti yang telah dicatat orang lain, ini mungkin tidak bekerja dengan benar (misalnya jika aplikasi yang menulis ke file menahan file tetap terbuka alih-alih membuka / menulis / menutup untuk setiap entri). Anda juga dapat mencoba <code>!mv -f % %.old &amp;&amp; cp /dev/null %</code>, yang akan mengeluarkan file lalu membuatnya kembali. </p>\n\n<p> Either way, saya melihat beberapa perilaku aneh dari <em> kurang </em> saat mencoba ini. ( <kbd> R </kbd> tidak menyegarkan dari disk, <kbd> G </kbd> tidak mencari dan menampilkan EOF saat ini (biasanya digunakan untuk &quot;menarik&quot; baris baru tanpa masuk ke &#39;mode ekor&#39;), <kbd> h </kbd><kbd> q </kbd><kbd> G </kbd> membaca di baris baru dari file, tetapi menambahkan seluruh konten file ke akhir buffer alih-alih hanya menambahkan baris baru ke akhir (file memiliki baris 1, lalu 1/2, lalu 1/2/3, dll. seiring waktu, <em> kurang </em> mungkin menunjukkan 1/1/1/2/1/2/1/2/3/1/2/3/1/2/3/4/1/2/3/4/1/2/3/4 / 5 jika saya melakukan &quot;hqG&quot; dua kali setelah setiap baris baru)). </p>\n\n<p> Masalah yang sama tampaknya terjadi dengan &quot;penggunaan <kbd> v </kbd> ke metode truncate-by-editor ”juga. </p>","votes":"0","source":"https://superuser.com/a/84964","author":"<a href=\"https://superuser.com/users/14827/chris-johnsen\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Chris Johnsen</span></a>","replies":[]}]}
