{"title":"Bagaimana cara mengaktifkan dan mengatur Karakter Acara untuk driver FTDI?","draft":false,"url":"/bagaimana-cara-mengaktifkan-dan-mengatur-karakter-acara-untuk-driver-ftdi-zep4yo9y","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["usb","serial","buffer"],"snippet":"Saat mengirim hanya beberapa bit data melalui kabel FTDI USB-Serial ke PC, Anda harus menunggu salah satu dari kondisi berikut ini terjadi sebelum Anda mendapatkan data sesuai dengan FTDI  AN232B-04, Aliran Latensi...","body":"<p> Saat mengirim hanya beberapa bit data melalui kabel FTDI USB-Serial ke PC, Anda harus menunggu salah satu dari kondisi berikut ini terjadi sebelum Anda mendapatkan data sesuai dengan FTDI <a href=\"http://www.ftdichip.com/Support/Documents/AppNotes/AN232B-04_DataLatencyFlow.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> AN232B-04, Aliran Latensi Data </a> : </p>\n\n<ol>\n<li> Buffer sudah penuh </li>\n<li> Salah satu baris status RS232 telah berubah </li>\n<li><strong> Karakter acara telah diaktifkan dan terdeteksi di aliran data yang masuk </strong></li>\n<li> Waktu yang tidak terpisahkan dengan chip telah habis waktunya. </li>\n</ol>\n\n<p> Saya ingin menggunakan opsi 3, mengaktifkan karakter acara dan juga menentukannya. Bagaimana cara melakukannya di Windows 7? Saya tidak dapat menemukan dokumentasi apa pun tentangnya. Saya tidak ingin menulis kode untuk melakukannya, saya hanya ingin tahu di mana di sistem operasi saya (Windows 7) saya dapat mengubah pengaturan ini. </p>","source":"https://superuser.com/questions/411616/how-to-enable-and-set-event-characters-for-ftdi-drivers","author":"<a href=\"https://superuser.com/users/689180/evsc\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">evsc</span></a>","replies":[],"answers":[{"answer":"<p> Saya menyadari pertanyaan awal adalah tentang Windows, tetapi berikut adalah instruksi untuk sistem operasi lain: </p>\n<p><strong> Mac OS-X </strong></p>\n<p> Untuk penghitung waktu latensi - Setelah menginstal driver, buat salinan cadangan dan edit file <code>/System/Library/Extensions/FTDIUSBSerialDriver.kext/Contents/Info.plist</code>. Temukan bagian untuk perangkat Anda, mis. </p> <pre><code>    &lt;key&gt;FTDI2XXBM&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n        &lt;string&gt;com.FTDI.driver.FTDIUSBSerialDriver&lt;/string&gt;\n</code></pre> <p> Dan tambahkan yang berikut ini setelah di atas </p> <pre><code>        &lt;key&gt;ConfigData&lt;/key&gt;\n        &lt;dict&gt;\n            &lt;key&gt;LatencyTimer&lt;/key&gt;\n            &lt;integer&gt;1&lt;/integer&gt;\n        &lt;/dict&gt;\n</code></pre> <p> Saya menduga ini juga akan berfungsi untuk karakter acara, tetapi saya tidak yakin <code>&lt;key&gt;</code> yang benar untuk digunakan. </p>\n<p><strong> Linux </strong></p>\n<p> Untuk sementara, kernel Linux mengatur timer latensi ke 1ms secara default, <strong> namun itu dikembalikan ke 16ms pada sekitar kernel 4.4 </strong> . Parameter tersedia untuk diubah melalui <code>sysfs</code>. Temukan perangkat Anda di bawah <code>/sys/bus/usb-serial/devices</code> </p> <pre><code>$ ls /sys/bus/usb-serial/devices/\nttyUSB0\n$ ls /sys/bus/usb-serial/devices/ttyUSB0\ndriver  event_char  latency_timer  port_number  power  subsystem  tty  uevent\n</code></pre> <p> Anda dapat menyetel karakter acara dengan menggemakan nilai ke <code>event_char</code>. Nilainya adalah nilai ASCII dari karakter acara (misalnya &#39;A&#39; adalah 65) ditambah 256 (ini menetapkan bit ke-9 ke 1 yang memungkinkan dukungan karakter acara) - jadi untuk &#39;A&#39; nilainya adalah 65 + 256 = 321: </p> <pre><code>$ sudo -i\n&lt;authenticate&gt;\n# echo 321 &gt; /sys/bus/usb-serial/devices/ttyUSB0/event_char\n</code></pre> <p> Untuk menggunakan 0x00 sebagai karakter acara, cukup teruskan nilai 256, sedangkan untuk menonaktifkan karakter acara, teruskan nilai 0. </p>\n<p> Anda juga harus dapat mengubah pengatur waktu latensi dengan cara ini.\nLihat apa yang disetel sekarang: </p> <pre><code># cat /sys/bus/usb-serial/devices/ttyUSB0/latency_timer\n1\n</code></pre> <p> Sekarang nonaktifkan flag low_latency, jika tidak latency akan selalu dipaksa ke 1: </p> <pre><code># setserial /dev/ttyUSB0 ^low_latency\n</code></pre> <p> Kemudian setel penghitung waktu latensi ke, misalnya, 4 ms </p> <pre><code># echo 4 &gt; /sys/bus/usb-serial/devices/ttyUSB0/latency_timer\n# cat /sys/bus/usb-serial/devices/ttyUSB0/latency_timer\n4\n</code></pre>","votes":"4","source":"https://superuser.com/a/750560","author":"<a href=\"https://superuser.com/users/8987/peter-gibson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Peter Gibson</span></a>","replies":[]},{"answer":"<p> Ini ditentukan di <a href=\"http://msdn.microsoft.com/en-us/library/windows/desktop/aa363214.aspx\" rel=\"nofollow noopener\" target=\"_blank\"> Blok Kontrol Perangkat </a> di Win32. Lihat anggota <code>EvtChar</code>. </p>","votes":"3","source":"https://superuser.com/a/411617","author":"<a href=\"https://superuser.com/users/29943/ben-voigt\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ben Voigt</span></a>","replies":[{"reply":"Saya tidak melihatnya sebagai pertanyaan pengkodean, karena saya idealnya tidak ingin menulis kode untuk mengatur EvtChar. Saya hanya ingin mengubah pengaturan di suatu tempat di OS saya (Windows 7). Jika memungkinkan.","author":"User"},{"reply":"@evsc: Aplikasi dapat memilih untuk membiarkan pengaturan tidak berubah, tetapi kebanyakan tidak. Tidak ada pengaturan global, karena nilai ini berpotensi merusak aplikasi.","author":"<a href=\"https://superuser.com/users/29943/ben-voigt\" target=\"_blank\" rel=\"nofollow noopener\">Ben Voigt</a>"}]}]}
