{"title":"Perintah Ls dalam skrip bash mengatakan &#39;Tidak ada file atau direktori seperti itu&#39;","draft":false,"url":"/perintah-ls-dalam-skrip-bash-mengatakan-39tidak-ada-file-atau-direktori-seperti-itu39-ml2r1bsi","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","command-line","bash","ls"],"snippet":"Berikut ini adalah skrip yang saya jalankan  #$1 - Argumentdeclare IPATH=\"sample/\"declare F=$IPATH$1echo $Fls $F  Masukannya adalah ./script.sh \"Fil*\"  Output gema adalah -  sample/Fil*  ketika saya menjalankan perintah ls...","body":"<p> Berikut ini adalah skrip yang saya jalankan </p> <pre><code>#$1 - Argument\ndeclare IPATH=\"sample/\"\ndeclare F=$IPATH$1\necho $F\nls $F\n</code></pre> <p> Masukannya adalah <code>./script.sh \"Fil*\"</code> </p>\n\n<p> Output gema adalah - </p> <pre><code>sample/Fil*\n</code></pre> <p> ketika saya menjalankan perintah <code>ls sample/Fil*</code> saya mendapatkan output yang diperlukan - Daftar file yang namanya dimulai dengan FIL dan berada di folder sampel seperti ini - </p> <pre><code>sample/File  sample/File1  sample/File2\n</code></pre> <p> Tetapi skrip menampilkan pengecualian di bawah ini. Apa yang saya lakukan salah? </p> <pre><code>ls: sample/Fil*: No such file or directory ls: $IPATH: No such file or directory\n</code></pre>","source":"https://superuser.com/questions/700979/ls-command-in-bash-script-says-no-such-file-or-directory","author":"<a href=\"https://superuser.com/users/288642/user657592\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user657592</span></a>","replies":[{"reply":"Sesuatu yang sangat aneh sedang terjadi di sini. Bagian kesalahan <code>ls: $IPATH: No such file or directory</code> tidak masuk akal - saat skrip ditulis, perintah <code>ls</code> seharusnya tidak melihat <code>$IPATH</code>, yang seharusnya sudah diganti dengan nilainya jauh sebelum mendekati <code>ls</code>. Coba tambahkan <code>set -x</code> di awal untuk mengaktifkan pelacakan, dan lihat apa yang tercetak tentang cara menjalankannya.","author":"<a href=\"https://superuser.com/users/7778/gordon-davisson\" target=\"_blank\" rel=\"nofollow noopener\">Gordon Davisson</a>"}],"answers":[{"answer":"<p><a href=\"http://mywiki.wooledge.org/glob\" rel=\"nofollow noopener\" target=\"_blank\"> Gumpalan </a> tidak diperluas dalam <a href=\"http://mywiki.wooledge.org/Quotes\" rel=\"nofollow noopener\" target=\"_blank\"> tanda kutip </a> . Kamu <em> bisa </em> mengembangkannya dalam skrip, tetapi itu benar-benar praktik yang buruk (Bagaimana jika seseorang memiliki nama file yang berisi <code>*</code> atau <code>?</code>? Mereka tidak akan dapat menggunakan skrip Anda untuk memanipulasinya). Praktik terbaiknya adalah mengutip semua referensi variabel dalam skrip, dan meneruskan jalur aktual ke skrip: </p> <pre><code>$ mkdir sample\n$ touch sample/File1 sample/File2\n$ cat script.sh \n#!/bin/sh\nF=\"$1\"\necho \"$F\"\nls \"$F\"\n$ ./script.sh sample/Fil*\nsample/File1\nsample/File1\n</code></pre> <p> Atau bahkan lebih baik, ulangi semua file: </p> <pre><code>$ cat script.sh \n#!/bin/sh\nfor path\ndo\n    echo \"$path\"\n    ls \"$path\"\ndone\n$ ./script.sh sample/Fil*\nsample/File1\nsample/File1\nsample/File2\nsample/File2\n</code></pre> <p> Jika Anda ingin kode keras bagian dari jalan, Anda bisa <a href=\"https://github.com/l0b0/tilde/blob/master/examples/safe-find.sh\" rel=\"nofollow noopener\" target=\"_blank\"> gunakan <code>find</code> </a> untuk mengembangkannya: </p> <pre><code>while IFS= read -r -d '' -u 9 path\ndo\n    ls -- \"$path\"\ndone 9&lt; &lt;( find \"sample\" -name \"$1\" -exec printf '%s\\0' {} + )\n</code></pre>","votes":"10","source":"https://superuser.com/a/700995","author":"<a href=\"https://superuser.com/users/2259/l0b0\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">l0b0</span></a>","replies":[{"reply":"Saya kira INI masalahnya. Tapi, saya butuh karakter wild card. &#39; <i> &#39;. Katakanlah saya TAHU bahwa nama file tidak mengandung &#39; </i> &#39;. Tapi saya juga tidak ingin mengembangkannya dalam skrip. Apakah tidak ada cara lain?","author":"<a href=\"https://superuser.com/users/288642/user657592\" target=\"_blank\" rel=\"nofollow noopener\">user657592</a>"},{"reply":"Selain itu, saya ingin bagian dari jalur ke file yang dikodekan keras.","author":"<a href=\"https://superuser.com/users/288642/user657592\" target=\"_blank\" rel=\"nofollow noopener\">user657592</a>"},{"reply":"Anda memanggil skrip dengan glob, jadi yang perlu Anda lakukan hanyalah menyebutnya tanpa <i> mengutip </i> gumpalan itu. Shell akan mengurusnya, dan selama Anda mengutipnya <i> dalam </i> skrip Anda seharusnya tidak memiliki masalah.","author":"<a href=\"https://superuser.com/users/2259/l0b0\" target=\"_blank\" rel=\"nofollow noopener\">l0b0</a>"}]},{"answer":"<p> Ini berjalan di cangkang terpisah. Pada shell itu, IPATH tidak ditentukan, karena Anda belum mengekspornya. </p>\n\n<p> Ubah &quot;deklarasikan&quot; dengan &quot;ekspor&quot; dan itu akan berhasil. </p>","votes":"-1","source":"https://superuser.com/a/700980","author":"<a href=\"https://superuser.com/users/275035/envite\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Envite</span></a>","replies":[{"reply":"Saya mencoba saran Anda, tetapi tampaknya tidak membantu.","author":"<a href=\"https://superuser.com/users/288642/user657592\" target=\"_blank\" rel=\"nofollow noopener\">user657592</a>"}]},{"answer":"<p> Ambil <em> menyatakan </em> kata kunci keluar dan itu akan berhasil. Tidak perlu <em> mengetik </em> di Bash: </p> <pre><code>   #!/bin/sh\n   IPATH=\"sample/\"\n   F=$IPATH$1\n   echo $F\n   ls $F\n</code></pre> <p> Ini akan bekerja seperti yang Anda harapkan. </p>","votes":"-1","source":"https://superuser.com/a/700996","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">MariusMatutiae</span></a>","replies":[{"reply":"Itu tidak mengubah apa pun AFAICT: <code>ls: cannot access sample&#47;Fil*: No such file or directory</code>.","author":"<a href=\"https://superuser.com/users/2259/l0b0\" target=\"_blank\" rel=\"nofollow noopener\">l0b0</a>"},{"reply":"@ l0b0 Karena tidak digunakan dengan benar: pertama, Anda kehilangan opsi -r / -f / -a ..., kemudian Anda tidak dapat menggunakan variabel dalam pernyataan, $ IPATH $ 1.","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\">MariusMatutiae</a>"},{"reply":"Anda tidak harus menggunakan salah satu dari opsi itu. Coba <code>declare -p | grep &#39;declare --&#39;</code>. <code>IFS</code>, <code>HOSTNAME</code> dan lainnya dideklarasikan tanpa tipe, yang artinya mereka hanyalah string.","author":"<a href=\"https://superuser.com/users/2259/l0b0\" target=\"_blank\" rel=\"nofollow noopener\">l0b0</a>"},{"reply":"@ l0b0: tidak benar, ini bekerja dengan sempurna, coba saja.","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\">MariusMatutiae</a>"},{"reply":"@ l0b0 Saya menjalankan kode yang Anda lihat diposting di atas, dengan call ./script.sh &quot;tst *&quot;.","author":"<a href=\"https://superuser.com/users/255732/mariusmatutiae\" target=\"_blank\" rel=\"nofollow noopener\">MariusMatutiae</a>"},{"reply":"Sebenarnya, ini terlihat sedikit rumit. <code>&#47;bin&#47;sh</code> saya adalah Bash ...","author":"<a href=\"https://superuser.com/users/2259/l0b0\" target=\"_blank\" rel=\"nofollow noopener\">l0b0</a>"}]}]}
