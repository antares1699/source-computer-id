{"title":"Debugging masalah perutean IPv6","draft":false,"url":"/debugging-masalah-perutean-ipv6-889k6fbk","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["routing","ipv6"],"snippet":"Saya telah diberi blok IPv6 / 64 asli (tanpa tunneling, dll.) Oleh ISP saya. Router pfSense saya berhasil mendapatkan alamat, dan dari antarmuka WAN-nya saya dapat misalnya melakukan ping ipv6.google.com dan mendapatkan...","body":"<p> Saya telah diberi blok IPv6 / 64 asli (tanpa tunneling, dll.) Oleh ISP saya. Router pfSense saya berhasil mendapatkan alamat, dan dari antarmuka WAN-nya saya dapat misalnya melakukan ping ipv6.google.com dan mendapatkan balasan. Namun, di jaringan internal saya, itu tidak berfungsi, dan saya tidak tahu mengapa. Saya memiliki server DHCPv6 yang membagikan alamat, dan router melakukan iklan router, dan ini tampaknya baik-baik saja bagi saya. </p>\n\n<p> Saya akan mencoba mengilustrasikan. Katakanlah saya memiliki awalan 2001: a: b: c :: / 64. Router saya mendapatkan alamat WAN-nya menggunakan SLAAC, dan itu menjadi 2001: a: b: c: 20c: 29ff: fef9: b914. Pada antarmuka internal, saya telah menetapkannya 2001: a: b: c :: 1 (kebiasaan IPv4 lama, saya kira ...). DNS dan DHCP di-host pada server dengan 2001: a: b: c :: 10 (penetapan statis). Stasiun kerja saya kemudian meminta alamat menggunakan DHCP dan telah ditetapkan 2001: a: b: c :: 11ab. </p>\n\n<p> Tabel perutean saya berisi dua rute default (:: / 0), satu untuk IP statis internal router, dan satu lagi untuk IP tautan-lokal. </p>\n\n<p> Ping ipv6.google.com sekarang memberikan <code>Destination host unreachable</code>. Di mana saya mulai men-debug ini? Menurut saya ini adalah masalah perutean, tetapi saya tidak tahu harus mulai mencari dari mana. </p>","source":"https://superuser.com/questions/788717/debugging-ipv6-routing-issues","author":"<a href=\"https://superuser.com/users/111705/carlpett\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">carlpett</span></a>","replies":[{"reply":"Selain itu, tidak terkait dengan pertanyaan Anda kecuali Anda menggunakan alamat WAN itu di suatu tempat: <code>ff:fe</code> di alamat IPv6 Anda tampaknya menunjukkan bahwa Anda tidak mengaktifkan Alamat Privasi, <a href=\"http://superuser.com/questions/243669/how-to-avoid-exposing-my-mac-address-when-using-ipv6\" target=\"_blank\" rel=\"nofollow noopener\"> yang memperlihatkan alamat MAC dari komputer yang membuat permintaan </a> . Dalam contoh Anda, itu adalah mesin virtual VMware, jika saya benar. Anda akan mendapatkan alamat IPv6 yang berbeda saat menggunakan komputer / VM lain.","author":"<a href=\"https://superuser.com/users/482/arjan\" target=\"_blank\" rel=\"nofollow noopener\">Arjan</a>"}],"answers":[{"answer":"<p> Jika Anda hanya memiliki satu prefiks <code>/64</code> dan prefiks itu ada di sisi WAN Anda, maka Anda tidak dapat melakukan IPv6 untuk LAN Anda. ISP seharusnya memberi Anda beberapa <code>/64</code> sehingga Anda dapat meletakkan <code>/64</code> terpisah pada setiap LAN. Biasanya ISP memberi setiap orang (perumahan dan bisnis) <code>/48</code> (65536 <code>/64</code>s). Untuk pelanggan perumahan mereka mungkin membagikan <code>/56</code> (256 <code>/64</code>s). Dengan begitu Anda memiliki banyak awalan untuk memberi nomor pada jaringan Anda, bahkan jika jaringan menjadi lebih rumit dari waktu ke waktu (penyebaran Internet-of-Things, dll). </p>\n\n<p> Beberapa ISP masih terlalu berpegang pada mentalitas IPv4 dan hanya memberikan <code>/60</code> (16 <code>/64</code>s) atau lebih. Meskipun itu mungkin cukup sekarang, itu akan menyebabkan masalah karena perangkat berkemampuan IP menjadi lebih umum, dan Anda tidak benar-benar ingin pencahayaan ruang tamu dan AC Anda berada di subnet yang sama dengan mainan anak-anak, bukan? ;) </p>\n\n<p> ISP yang hanya membagikan satu <code>/64</code> mencegah Anda dari subnetting sama sekali. Jika <code>/64</code> itu ada di antarmuka WAN maka Anda tidak akan pernah mendapatkan IPv6 yang layak di LAN Anda. Ini adalah kesalahan ISP dan mereka harus memperbaikinya dengan memberikan alamat yang layak (<code>/48</code> atau <code>/56</code>). </p>","votes":"9","source":"https://superuser.com/a/788724","author":"<a href=\"https://superuser.com/users/93929/sander-steffann\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Sander Steffann</span></a>","replies":[{"reply":"Ah, <a href=\"http://superuser.com/questions/243669/how-to-avoid-exposing-my-mac-address-when-using-ipv6#comment251760_243756\" target=\"_blank\" rel=\"nofollow noopener\"> beberapa orang berpikir </a> bahkan <code>&#47;64</code> terlalu banyak, tetapi ini adalah penjelasan yang bagus untuk membuktikan sebaliknya.","author":"<a href=\"https://superuser.com/users/482/arjan\" target=\"_blank\" rel=\"nofollow noopener\">Arjan</a>"},{"reply":"Bisa saja kamu <i> bisa </i> membuat subnet dengan awalan yang lebih panjang dari <code>&#47;64</code>; kamu baru saja berakhir <a href=\"http://etherealmind.com/allocating-64-wasteful-ipv6-not/\" rel=\"nofollow noopener\" target=\"_blank\"> melanggar beberapa fitur IPv6 </a> dalam proses.","author":"<a href=\"https://superuser.com/users/117590/bob\" target=\"_blank\" rel=\"nofollow noopener\">Bob</a>"},{"reply":"Referensi yang bagus. Pada titik tertentu saya tergoda untuk membantu menulis RFC tentang mengizinkan lebih dari / 64 prefiks untuk SLAAC. Masalahnya adalah bahwa meskipun menyenangkan memilikinya juga akan menciptakan masalah kompatibilitas (perangkat yang diperbarui melakukan SLAAC, perangkat / firmware yang lebih lama tidak) yang akan membuatnya menjadi mimpi buruk. Jadi &#39;membuang-buang&#39; beberapa bit lebih disukai daripada menyebabkan masalah penerapan dan ketidakstabilan.","author":"<a href=\"https://superuser.com/users/93929/sander-steffann\" target=\"_blank\" rel=\"nofollow noopener\">Sander Steffann</a>"},{"reply":"Tipikal <i> rumah </i> router umumnya akan mengharapkan untuk menerima DHCPv6 dengan delegasi prefiks dari hulu, dan menyediakan hilir yang sama, meskipun seperti biasa ini biasanya dapat dikonfigurasi untuk hanya menggunakan SLAAC atau dinonaktifkan atau apa pun. Bagaimanapun, pada titik ini seseorang yang mengira <code>&#47;64</code> membuang-buang alamat belum sepenuhnya memahami luas sebenarnya dari ruang alamat IPv6.","author":"<a href=\"https://superuser.com/users/144961/michael-hampton\" target=\"_blank\" rel=\"nofollow noopener\">Michael Hampton</a>"},{"reply":"Terima kasih atas jawaban Anda, sangat menarik! Jadi, sungguh tidak ada cara bagi saya untuk membuat LAN IPv6 saya tanpa meyakinkan ISP saya bahwa mereka harus mengubah (yang tampaknya tidak mungkin) atau merusak sekumpulan fitur IPv6 (yaitu subnetting ke / 60: s atau serupa)?","author":"<a href=\"https://superuser.com/users/111705/carlpett\" target=\"_blank\" rel=\"nofollow noopener\">carlpett</a>"},{"reply":"Nah, jaringan tempat Anda terhubung sudah menjadi / 64 sehingga Anda tidak dapat memutuskannya. Satu-satunya pilihan adalah menjembatani semuanya dan menjadikan sisi WAN dan sisi LAN satu jaringan lapisan-2 yang besar ...","author":"<a href=\"https://superuser.com/users/93929/sander-steffann\" target=\"_blank\" rel=\"nofollow noopener\">Sander Steffann</a>"}]},{"answer":"<p> Anda juga harus memiliki awalan di LAN Anda. Anda dapat menggunakan delegasi awalan DHCPv6. Oleh karena itu, awalan yang Anda dapatkan di antarmuka WAN didelegasikan ke dalam. Router harus bisa menangani ini. </p>\n\n<p> Tapi saya merasa aneh bahwa Anda hanya mendapatkan / 64 - setidaknya harus / 56 atau lebih. Namun, <strong> jangan subnet </strong> a / 64! Apa pun yang dikatakan orang lain kepada Anda, mekanisme seperti SLAAC akan menginjak-injak subnetting Anda. </p>","votes":"1","source":"https://superuser.com/a/790677","author":"<a href=\"https://superuser.com/users/311391/countermode\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">countermode</span></a>","replies":[]}]}
