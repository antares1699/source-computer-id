{"title":"Tidak dapat terhubung ke server mysql biru di mesin virtual","draft":false,"url":"/tidak-dapat-terhubung-ke-server-mysql-biru-di-mesin-virtual-7grharx8","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["virtual-machine","mysql","remote","azure"],"snippet":"Saya memiliki mesin virtual Azure yang memegang sistem Ubuntu, dengan server MySQL dan saya ingin mengakses database dari aplikasi web.Ketika saya menginstal mysql-server, saya mengeksekusi  $ iptables -I INPUT -p tcp...","body":"<p> Saya memiliki mesin virtual Azure yang memegang sistem Ubuntu, dengan server MySQL dan saya ingin mengakses database dari aplikasi web.\nKetika saya menginstal mysql-server, saya mengeksekusi </p> <pre><code>$ iptables -I INPUT -p tcp --dport 3306 -m state --state NEW,ESTABLISHED -j ACCEPT\n$ iptables -I OUTPUT -p tcp --sport 3306 -m state --state ESTABLISHED -j ACCEPT\n</code></pre> <p> untuk mengizinkan koneksi tcp.\nDi file <code>/etc/mysql/my.cnf</code> saya menambahkan <code>bind-address = 168.63.178.87</code>, yang merupakan &quot;Alamat IP Virtual&quot; yang diberitahukan panel Azure kepada saya. </p>\n\n<p> Di mysql, pengguna yang saya gunakan untuk terhubung memiliki semua hak istimewa pada database yang diperlukan (menurut saya): </p> <pre><code>mysql&gt; SHOW GRANTS FOR 'user'@'%';\n+-------------------------------------------------------------------------------------------------------------------+\n| Grants for user@%                                                                                            |\n+-------------------------------------------------------------------------------------------------------------------+\n| GRANT ALL PRIVILEGES ON *.* TO 'user'@'%' IDENTIFIED BY PASSWORD 'pass_ommited' |\n| GRANT ALL PRIVILEGES ON `database`.* TO 'user'@'%'                                                          |\n+-------------------------------------------------------------------------------------------------------------------+\n</code></pre> <p> Tetapi ketika aplikasi mencoba untuk menyambung ke database, saya menerima kesalahan: </p> <pre><code> CDbConnection failed to open the DB connection: SQLSTATE[HY000] [2003] Can't connect to MySQL server on '168.63.178.87' (4) \n</code></pre> <p> (Ini adalah aplikasi kerangka Yii, jika itu penting). </p>\n\n<p> Saya memiliki akses SSH penuh ke mesin virtual, menggunakan alamat IP yang diberikan dan port tertentu.\nAzure juga memberi tahu saya &quot;alamat IP Internal&quot;, yaitu <code>10.78.28.85</code>.\nSaya telah mencoba mengikat server MySQL ke alamat itu dan ke <code>0.0.0.0</code>, tetapi tidak ada yang berhasil. </p>\n\n<p> Saya menduga masalahnya adalah pengalihan yang dilakukan untuk mengakses instance spesifik saya di server, tetapi saya tidak tahu cara mengatasinya. </p>","source":"https://superuser.com/questions/581967/cant-connect-to-azure-mysql-server-in-virtual-machine","author":"<a href=\"https://superuser.com/users/165231/vguzmanp\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">vguzmanp</span></a>","replies":[],"answers":[{"answer":"<p> Saya akhirnya menyelesaikannya.\nMasalahnya adalah saya tidak memiliki titik akhir di Azure. </p>\n\n<p> Saya telah membuat titik akhir dengan port <code>3306</code> dan memulai ulang server mysql dengan <code>sudo restart mysql</code> </p>\n\n<p> Kesalahan lain yang saya miliki adalah saya perlu mengatur alamat bind sebagai Alamat IP Internal server. </p>","votes":"6","source":"https://superuser.com/a/582195","author":"<a href=\"https://superuser.com/users/165231/vguzmanp\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">vguzmanp</span></a>","replies":[{"reply":"Kesalahan lain yang saya miliki adalah saya perlu mengatur alamat bind sebagai Alamat IP Internal server. bagaimana cara mengikat Windows Box?","author":"<a href=\"https://superuser.com/users/253724/bart-calixto\" target=\"_blank\" rel=\"nofollow noopener\">Bart Calixto</a>"},{"reply":"Dalam kasus saya, pengikatan ke alamat IP internal berhasil.","author":"<a href=\"https://superuser.com/users/129222/justin-skiles\" target=\"_blank\" rel=\"nofollow noopener\">Justin Skiles</a>"}]},{"answer":"<p> Endpoint saja tidak cukup! Hanya menghabiskan 4 jam untuk memecahkan masalah ini.\nAnda juga perlu memverifikasi bahwa server Anda memiliki aturan firewall untuk port MySql, dan yang terpenting, aturannya adalah PUBLIK: </p>\n\n<p><img src=\"https://i.stack.imgur.com/qSRjd.jpg\" alt=\"as shown here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>","votes":"0","source":"https://superuser.com/a/1237082","author":"<a href=\"https://superuser.com/users/757527/evgeni-hasin\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Evgeni Hasin</span></a>","replies":[]}]}
