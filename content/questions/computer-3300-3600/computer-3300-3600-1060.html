{"title":"Jika Anda mengaktifkan kompresi NTFS, mengapa beban CPU sangat rendah? Apakah itu menggunakan instruksi SSE4.2 di belakang layar?","draft":false,"url":"/jika-anda-mengaktifkan-kompresi-ntfs-mengapa-beban-cpu-sangat-rendah-apakah-itu-menggunakan-instruksi-sse42-di-belakang-layar-6hlyr7ek","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["windows-7","ntfs","compression"],"snippet":"Saya memiliki Hex-core Xeon X5650 yang menjalankan Windows 7 x64.  Saat ini saya melakukan kompresi simultan dari tiga hard drive NTFS, masing-masing 2TB, dengan perintah:  compact e: /i /c /scompact f:...","body":"<p> Saya memiliki Hex-core Xeon X5650 yang menjalankan Windows 7 x64. </p>\n\n<p> Saat ini saya melakukan kompresi simultan dari tiga hard drive NTFS, masing-masing 2TB, dengan perintah: </p> <pre><code>compact e: /i /c /s\ncompact f: /i /c /s\ncompact g: /i /c /s\n</code></pre> <p> Ini mendapatkan kompresi yang masuk akal: hingga 40: 1, dan biasanya 2: 1. </p>\n\n<p> Beban CPU yang dihasilkan hanya sekitar 3% </p>\n\n<p> Adakah yang tahu mengapa beban CPU sangat rendah? </p>\n\n<p> Apakah ada yang tahu jika menggunakan kernel kompresi / dekompresi Win7 realtime <a href=\"http://en.wikipedia.org/wiki/SSE3\" rel=\"nofollow noopener\" target=\"_blank\"> SSE3 </a> atau <a href=\"http://en.wikipedia.org/wiki/SSSE3\" rel=\"nofollow noopener\" target=\"_blank\"> SSSE3 </a> atau <a href=\"http://www.aha.com/wp-content/uploads/Power-Savings.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> SSE4.2 </a> instruksi di balik layar? </p>","source":"https://superuser.com/questions/351842/if-you-switch-ntfs-compression-on-why-is-the-cpu-load-so-low-does-it-use-sse4","author":"<a href=\"https://superuser.com/users/45905/contango\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Contango</span></a>","replies":[{"reply":"Saya juga harus menambahkan: VMware berjalan seperti anjing jika file yang digunakan untuk hard drive virtualnya dikompresi NTFS. Tampaknya baik-baik saja di sebagian besar tempat lain di sistem.","author":"<a href=\"https://superuser.com/users/45905/contango\" target=\"_blank\" rel=\"nofollow noopener\">Contango</a>"}],"answers":[{"answer":"<p> Saya berharap penggunaan cpu Anda sangat rendah karena sejumlah faktor tetapi pertama-tama perlu diingat bahwa algoritma kompresi dirancang untuk kecepatan daripada tingkat kompresi yang tinggi. </p>\n\n<p> Masalah mendasar di sini adalah apakah Anda mengompresi ribuan file kecil atau beberapa GB file yang sangat besar. </p>\n\n<p> Jika Anda mengompresi file di bawah 2MB, saya perkirakan bahwa sebagian besar waktu yang dibutuhkan untuk mengompresi file dihabiskan dalam operasi yang diperlukan untuk menemukan file di sistem file, dapatkan hard drive untuk memberi Anda data, dan kemudian menulis file yang dikompresi data kembali, lalu ulangi dengan file kecil berikutnya. Algoritma kompresi mungkin dapat menangani sekitar 40-50MB / dtk pada mesin modern (saya harapkan tetapi saya tidak yakin tentang ini) dan karena itu pencarian hard drive dan waktu transfer data benar-benar merupakan faktor pembatas untuk file-file itu, kemungkinan waktu kompresi hampir nihil. </p>\n\n<p> Untuk file yang lebih besar, Anda hampir pasti akan melihat penggunaan CPU yang lebih tinggi. Saya pasti melihat setidaknya 1 inti muncul hingga sekitar 50% penggunaan CPU (kira-kira 8-10% total CPU pada prosesor 8-inti saya) ketika saya menyuruhnya untuk mengompres direktori besar di sistem saya ... </p>\n\n<p> Saya benar-benar berpikir bahwa waktu pencarian hard drive adalah masalah Anda di sini, jika tidak, Anda perlu melihatnya secara khusus <em> yang </em> core sedang bekerja saat mengompresi, mungkin rutinitas kompresi hanya dapat digunakan oleh satu utas pada satu waktu, meskipun saya meragukan hal ini. </p>","votes":"4","source":"https://superuser.com/a/351857","author":"<a href=\"https://superuser.com/users/19943/mokubai\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mokubai</span></a>","replies":[{"reply":"Terima kasih atas jawabannya. Menurut saya, bottleneck hampir seluruhnya ada di HD, yang berarti kompresi mungkin akan mempercepat (bukan memperlambat). Kuncinya adalah memiliki CPU yang mendukung sesuatu seperti SSE4.2 untuk kompresi akselerasi perangkat keras.","author":"<a href=\"https://superuser.com/users/45905/contango\" target=\"_blank\" rel=\"nofollow noopener\">Contango</a>"}]},{"answer":"<p> Ya, baru <a href=\"http://www.aha.com/wp-content/uploads/Power-Savings.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> SSE4.2 </a> set instruksi di Intel i7 dan Intel Xeon X5650 dapat digunakan untuk mempercepat kompresi. Mengingat bahwa penggunaan CPU saya adalah 3% sekaligus mengompresi tiga hard drive 2TB, Win7 hampir pasti menggunakan <a href=\"http://www.aha.com/wp-content/uploads/Power-Savings.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> SSE4.2 </a> di balik layar untuk kompresi tingkat sektor NTFS. </p>\n\n<p> Lihat <a href=\"http://www.aha.com/wp-content/uploads/Power-Savings.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> Penghematan Daya dengan Kompresi GZIP berbasis Perangkat Keras, Tony Summers et. al., Grup Produk AHA, Comtech EF Data Corporation </a> . </p>","votes":"3","source":"https://superuser.com/a/351893","author":"<a href=\"https://superuser.com/users/45905/contango\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Contango</span></a>","replies":[]},{"answer":"<p> Tidak, tidak, tidak, tidak adaSSE4 yang terlibat. Tidak ada instruksi SSE4 yang dapat membantu metode LZ (w / 77) yang digunakan oleh NTFS. Disk Anda terlalu lambat untuk memenuhi CPU dengan kompresi yang secara umum bagus - Anda dapat hidup dengan file disk terkompresi.\nMasalah dimulai ketika Anda melakukan perubahan kecil pada file besar - itu akan pergi dan membaca ulang dan mengkompres ulang semua file </p>","votes":"3","source":"https://superuser.com/a/384375","author":"<a href=\"https://superuser.com/users/115585/zab\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ZaB</span></a>","replies":[]}]}
