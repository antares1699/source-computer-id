{"title":"Firewalld - mengizinkan ICMP di zona kustom (centos 7 / redhat 7)","draft":false,"url":"/firewalld-mengizinkan-icmp-di-zona-kustom-centos-7-redhat-7-hmrbw42e","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["firewall","redhat-enterprise-linux","centos-7"],"snippet":"Saya ingin mengaktifkan balasan gema ICMP di zona yang ditentukan oleh sumber.  Saya memiliki zona PEMANTAUAN di mana saya ingin mengizinkan beberapa layanan seperti mysql dan echo-reply. Mengizinkan layanan seperti mysql itu...","body":"<p> Saya ingin mengaktifkan balasan gema ICMP di zona yang ditentukan oleh sumber. </p>\n\n<p> Saya memiliki zona PEMANTAUAN di mana saya ingin mengizinkan beberapa layanan seperti mysql dan echo-reply. Mengizinkan layanan seperti mysql itu sederhana, tetapi saya tidak tahu cara mengaktifkan balasan gema tanpa menggunakan aturan langsung. Apa itu mungkin? </p>\n\n<p> Antarmuka utama menggunakan zona BLOK, jadi paket ditolak dengan icmp-host-dilarang, ketika tidak termasuk dalam zona PEMANTAUAN. </p>\n\n<p> Terima kasih </p>","source":"https://superuser.com/questions/853207/firewalld-allowing-icmp-in-custom-zone-centos-7-redhat-7","author":"<a href=\"https://superuser.com/users/399362/ludek-michera\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ludek michera</span></a>","replies":[],"answers":[{"answer":"<p> Hanya untuk membantu mereka yang memiliki masalah yang sama, saya menggunakan perintah berikut: </p>\n\n<p> <code>firewall-cmd --permanent --direct --add-rule ipv4 filter INPUT 0 -p icmp -s X.X.X.X -j ACCEPT</code> </p>\n\n<p> itu menambahkan aturan yang mengizinkan protokol ICMP jika sumbernya adalah X.X.X.X </p>","votes":"7","source":"https://superuser.com/a/922708","author":"<a href=\"https://superuser.com/users/454408/morgan\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Morgan</span></a>","replies":[]},{"answer":"<p> Anda mungkin tidak ingin mengaktifkan <em> semua </em> Protokol ICMP, dan Anda tidak perlu melakukannya. </p>\n\n<p> Tambahkan <code>--icmp-type 8</code> untuk hanya mengaktifkan balasan gema ICMP. </p>\n\n<p> Perintah lengkapnya adalah: </p> <pre><code>firewall-cmd --permanent --direct --add-rule ipv4 filter INPUT 0 -p icmp -m icmp --icmp-type 8 -s X.X.X.X -j ACCEPT\n</code></pre>","votes":"2","source":"https://superuser.com/a/1184899","author":"<a href=\"https://superuser.com/users/703697/nash\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Nash</span></a>","replies":[]},{"answer":"<p> Anda dapat melakukannya dengan mengizinkan balasan gema ICMP di zona PEMANTAUAN: </p> <pre><code>firewall-cmd --zone MONITORING --add-icmp-block echo-reply\nfirewall-cmd --zone MONITORING --add-icmp-block-inversion\n</code></pre> <p> Itu akan bekerja bahkan jika antarmuka utama menggunakan zona yang menolak paket ICMP karena paket dicocokkan dengan zona berdasarkan sumber sebelum zona berdasarkan antarmuka. Anda dapat melihatnya dengan melihat rantai INPUT iptables: </p> <pre><code># iptables -nL INPUT\nChain INPUT (policy ACCEPT)\ntarget     prot opt source               destination         \nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0            ctstate RELATED,ESTABLISHED\nACCEPT     all  --  0.0.0.0/0            0.0.0.0/0           \nINPUT_direct  all  --  0.0.0.0/0            0.0.0.0/0           \nINPUT_ZONES_SOURCE  all  --  0.0.0.0/0            0.0.0.0/0           \nINPUT_ZONES  all  --  0.0.0.0/0            0.0.0.0/0           \nDROP       all  --  0.0.0.0/0            0.0.0.0/0            ctstate INVALID\nREJECT     all  --  0.0.0.0/0            0.0.0.0/0            reject-with icmp-host-prohibited\n</code></pre>","votes":"2","source":"https://superuser.com/a/1411853","author":"<a href=\"https://superuser.com/users/1005120/harold\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Harold</span></a>","replies":[{"reply":"Ini tidak berhasil untuk saya","author":"<a href=\"https://superuser.com/users/324545/isapir\" target=\"_blank\" rel=\"nofollow noopener\">isapir</a>"},{"reply":"Paket ICMP balasan gema selalu merupakan respons terhadap paket ICMP permintaan gema. Saya baru saja mengetahui bahwa paket balasan gema dianggap DIDIRIKAN oleh iptables backend dan karenanya selalu diizinkan oleh firewalld. Saya pikir masalah Anda adalah Anda ingin mengizinkan paket permintaan-gema alih-alih paket balasan-gema. Jika saya benar, saya akan memperbarui jawaban saya.","author":"<a href=\"https://superuser.com/users/1005120/harold\" target=\"_blank\" rel=\"nofollow noopener\">Harold</a>"}]}]}
