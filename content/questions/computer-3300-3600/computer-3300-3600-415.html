{"title":"Buat pohon direktori kosong baru dari pohon yang ada dengan file","draft":false,"url":"/buat-pohon-direktori-kosong-baru-dari-pohon-yang-ada-dengan-file-t5jmnczo","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["linux","command-line","shell"],"snippet":"Saya memiliki pohon direktori besar dengan banyak file.  Saya ingin membuat ulang struktur direktori di lokasi baru, tetapi hanya direktori, bukan file.  Saya telah memeriksa halaman manual cp, tetapi tidak melihat argumen...","body":"<p> Saya memiliki pohon direktori besar dengan banyak file. </p>\n\n<p> Saya ingin membuat ulang struktur direktori di lokasi baru, tetapi hanya direktori, bukan file. </p>\n\n<p> Saya telah memeriksa halaman manual <code>cp</code>, tetapi tidak melihat argumen yang akan membantu. </p>","source":"https://superuser.com/questions/470772/create-new-empty-directory-tree-from-existing-tree-with-files","author":"<a href=\"https://superuser.com/users/118987/jon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jon</span></a>","replies":[],"answers":[{"answer":"<pre><code>rsync -av -f\"+ */\" -f\"- *\" /.../SOURCE /.../DESTINATION\n</code></pre>","votes":"5","source":"https://superuser.com/a/470834","author":"<a href=\"https://superuser.com/users/156043/ansgar-wiechers\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ansgar Wiechers</span></a>","replies":[{"reply":"bisakah kamu menjelaskan?","author":"<a href=\"https://superuser.com/users/124530/chovy\" target=\"_blank\" rel=\"nofollow noopener\">chovy</a>"},{"reply":"Hal ini dijelaskan pada <code>man rsync</code> (lihat bagian &quot;SERTAKAN / KECUALI ATURAN POLA&quot;). Opsi <code>-f</code> menambahkan filter. <code>&quot;+ *&#47;&quot;</code> mencakup semua direktori, <code>&quot;- *&quot;</code> berikut ini mengecualikan yang lainnya.","author":"<a href=\"https://superuser.com/users/156043/ansgar-wiechers\" target=\"_blank\" rel=\"nofollow noopener\">Ansgar Wiechers</a>"}]},{"answer":"<pre><code>find . -type d -exec mkdir -p ~/to/{} \\;\n</code></pre> <p> Diambil dari jawaban @ whitequark untuk pertanyaan ini: <a href=\"https://superuser.com/questions/171629/copy-directory-structure-without-copying-files-on-mac-os-x\" target=\"_blank\" rel=\"nofollow noopener\"> Salin struktur direktori tanpa menyalin file, di Mac OS X </a></p>","votes":"5","source":"https://superuser.com/a/470774","author":"<a href=\"https://superuser.com/users/118987/jon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jon</span></a>","replies":[{"reply":"Tidakkah Anda mengira ada cara untuk melakukan ini sambil mempertahankan atribut?","author":"<a href=\"https://superuser.com/users/386309/sobrique\" target=\"_blank\" rel=\"nofollow noopener\">Sobrique</a>"}]},{"answer":"<p> Pendekatan lain adalah menggunakan <code>tree</code> yang cukup berguna dan menavigasi pohon direktori berdasarkan opsi yang kuat. Ada opsi untuk direktori saja, kecualikan direktori kosong, kecualikan nama dengan pola, sertakan hanya nama dengan pola, dll. Lihat <code>man tree</code> </p>\n\n<p><strong> Keuntungan </strong> : Anda dapat mengedit atau meninjau daftar, atau jika Anda melakukan banyak skrip dan sering membuat sekumpulan direktori kosong </p>\n\n<p><strong> Pendekatan </strong> : buat daftar direktori menggunakan <code>tree</code>, gunakan daftar itu sebagai input argumen ke <code>mkdir</code> </p> <pre><code>tree -dfi --noreport &gt; some_dir_file.txt\n</code></pre> <p> <code>-dfi</code> hanya mencantumkan direktori, mencetak jalur lengkap untuk setiap nama, membuat pohon tidak mencetak garis indentasi, </p>\n\n<p> <code>--noreport</code> Menghilangkan pencetakan file dan laporan direktori di akhir daftar pohon, hanya untuk membuat file output tidak mengandung fluff </p>\n\n<p><strong> Lalu pergi ke tujuan di mana Anda ingin direktori kosong dan jalankan </strong></p> <pre><code>xargs mkdir &lt; some_dir_file.txt\n</code></pre>","votes":"2","source":"https://superuser.com/a/1436365","author":"<a href=\"https://superuser.com/users/948681/brother-bilo\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">brother-bilo</span></a>","replies":[]},{"answer":"<p> Menemukan ini sebagai kebutuhan yang sama. Dengan versi rsync yang cukup baru, itu taruhan terbaik Anda. </p>\n\n<p> Jika Anda tidak memiliki versi terbaru dari rsync, maka trik ini berhasil: </p> <pre><code>find path/to/source -type -d -exec mkdir path/to/dest/'{}' \\; -exec chown --reference='{}' path/to/dest/'{}' \\; -exec chmod --reference='{}' path/to/dest/'{}' \\;\n</code></pre> <p> (Varian ini dapat digunakan untuk pencerminan izin) </p>","votes":"0","source":"https://superuser.com/a/851440","author":"<a href=\"https://superuser.com/users/386309/sobrique\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Sobrique</span></a>","replies":[]}]}
