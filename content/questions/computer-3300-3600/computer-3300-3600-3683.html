{"title":"Amankah menghapus OSX / private / var / folder / * saat reboot?","draft":false,"url":"/amankah-menghapus-osx-private-var-folder-saat-reboot-yjeiqaav","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["macos","boot","launchd","temporary-files"],"snippet":"Ingin membersihkan /private/var/folders/* pada boot OS X,  dengan menciptakan  entri launchd. (  AFAIK  , OS X tidak mendukung rc.conf rc.d - semuanya harus dilakukan dengan membuat entri untuk launchd)  Ini dia  serupa...","body":"<p> Ingin membersihkan <code>/private/var/folders/*</code> pada boot OS X, <a href=\"https://developer.apple.com/library/mac/documentation/MacOSX/Conceptual/BPSystemStartup/Chapters/CreatingLaunchdJobs.html\" rel=\"nofollow noopener\" target=\"_blank\"> dengan menciptakan </a> entri <code>launchd</code>. ( <strong> AFAIK </strong> , OS X tidak mendukung <code>rc.conf</code> <code>rc.d</code> - semuanya harus dilakukan dengan membuat entri untuk <code>launchd</code>) </p>\n\n<p> Ini dia <em> serupa </em> <a href=\"https://apple.stackexchange.com/q/176371/6838\" target=\"_blank\" rel=\"nofollow noopener\"> pertanyaan </a> .\nSayangnya jawaban yang diterima salah, karena di sini ada daemon (terutama deaemon yang mengandalkan panggilan <code>mktemp</code>) yang dapat berjalan dan masih membuka file - jadi, Anda <em> tidak bisa menghapus </em> kapan saja apa pun di <code>/private/var/folders/*</code>. (Untuk lebih tepatnya, saran &quot;reboot setelah&quot; agak menyelamatkan masalah - tetapi tidak sepenuhnya.) </p>\n\n<p><strong> Jadi, pertanyaannya adalah </strong> : aman menghapus file di <code>/private/var/folders/*</code> <strong> pada saat boot </strong> ? </p>\n\n<p> (Saya dapat membayangkan daripada beberapa skrip instalasi yang membutuhkan reboot (instalasi .kext atau semacamnya) dapat menggunakan folder temp untuk beberapa data instalasi pasca-reboot - dan tidak ingin mengunci sistem saya setelah beberapa instalasi penting dengan menghapus file yang diperlukan :) - <em> ini murni spekulasi saya </em> - karena itu bertanya). </p>\n\n<ul>\n<li> Atau satu-satunya cara yang aman adalah menghapus file yang lebih lama dari X hari? </li>\n<li> Atau ide lain untuk <strong> aman </strong> tapi <strong> otomatis </strong> membersihkan file temporer / dirs di <code>/private/var/folders/*</code> karena itu terus tumbuh dan berkembang ...; ( </li>\n</ul>","source":"https://superuser.com/questions/892647/it-is-safe-delete-osxs-private-var-folders-at-reboot","author":"<a href=\"https://superuser.com/users/83626/jm666\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jm666</span></a>","replies":[],"answers":[{"answer":"<p><strong> TL; DR </strong> : <code>/var/folders</code> berisi folder untuk cache per pengguna dan file sementara. Anda dapat mengakses folder Anda sendiri, tetapi tidak milik pengguna lain. Menghapus file yang sedang tidak digunakan seharusnya aman, tetapi menghapus file yang sedang digunakan mungkin akan menimbulkan masalah. Jika Anda ingin menghapusnya, Anda harus melakukan boot ulang setelahnya, untuk meminimalkan kemungkinan masalah. </p>\n\n<p> Jika Anda tidak melakukan apa-apa, proses sistem akan secara berkala membersihkan folder dari file yang belum diakses ini selama tiga hari, jadi Anda tidak perlu melakukan apa pun, kecuali penyimpanan Anda hampir habis. </p>\n\n<p><strong> Rinciannya </strong></p>\n\n<p> <code>/var/folders</code> sebagian besar berisi file sementara dan file cache, disimpan per pengguna. Jika Anda melihat root dari <code>/var/folders</code>, Anda tidak akan melihat banyak: </p> <pre><code>$ ls -l /var/folders\ntotal 0\ndrwxr-xr-x   3 root  wheel   102 Mar  2  2014 43/\ndrwxr-xr-x   3 root  wheel   102 Mar  2  2014 4c/\ndrwxr-xr-x   3 root  wheel   102 Mar  2  2014 c3/\n...\n</code></pre> <p> Tetapi jika Anda melihat satu tingkat lebih rendah, Anda akan melihat bahwa ini berisi folder per pengguna. Biasanya, setiap folder tingkat atas (dua karakter) berisi satu folder pengguna, tetapi folder &quot;zz&quot; berisi banyak pengguna sistem. Misalnya (nama pengguna diubah untuk tujuan privasi): </p> <pre><code>$ ls -l /var/folders/*\n/var/folders/43:\ntotal 0\ndrwxr-xr-x  6 user1  staff  204 Oct  3  2016 3lsw0k6d7vqbywvsf226nkqc0000gs/\n\n/var/folders/4c:\ntotal 0\ndrwxr-xr-x  6 user2  staff  204 Jul 15  2016 yc9pgt3j5y18vr29jcgbbyb4000101/\n\n/var/folders/c3:\ntotal 0\ndrwxr-xr-x  6 user3  staff  204 Aug 16  2016 wv6q5xlx1flgtwcs0rjlkbd4000102/\n\n/var/folders/rp:\ntotal 0\ndrwxr-xr-x  4 admin  staff  136 Jul  3  2016 qjg8tsk964scvw2510_n6yz00000gt/\n\n/var/folders/yx:\ntotal 0\ndrwxr-xr-x  4 macports  macports  136 Jul  3  2016 m3d21nm91wnd4c0k2yjk57200000gn/\n\n/var/folders/zz:\ntotal 0\ndrwxr-xr-x  6 root       wheel      204 Jul  3  2016 zyxvpxvq6csfxvn_n0000000000000/\ndrwxr-xr-x  3 _networkd  _networkd  102 Jul  3  2016 zyxvpxvq6csfxvn_n000003000000r/\ndrwxr-xr-x  3 _lp        _lp        102 Jul  3  2016 zyxvpxvq6csfxvn_n000003800000t/\n...\n</code></pre> <p> Di dalam masing-masing folder ini, Anda akan menemukan beberapa folder ajaib: </p> <pre><code>$ ls -l /var/folders/4c/yc9pgt3j5y18vr29jcgbbyb4000101/\ntotal 0\ndrwxr-xr-x   6 user2  staff   204 Sep  1 10:31 0/\ndrwx------  53 user2  staff  1802 Jul 28 18:44 C/\ndrwxr-xr-x   2 user2  staff    68 Jul  3  2016 Cleanup At Startup/\ndrwx------  83 user2  staff  2822 Sep  1 10:53 T/\n</code></pre> <p> Folder &quot;<code>C</code>&quot; adalah cache pengguna - berisi apa (sebelum MacOS X 10.5) akan hilang di <code>/Library/Caches</code>. Folder &quot;<code>T</code>&quot; adalah file sementara pengguna itu - menggantikan <code>/tmp</code> atau mungkin <code>/var/tmp</code>. </p>\n\n<p> Saya tidak yakin dengan dua folder lainnya. <code>Cleanup At Startup</code> kosong. Saya menduga tujuannya adalah untuk menyimpan file yang diperlukan hingga saat reboot, tetapi harus dibersihkan setelahnya (mis. File sementara yang digunakan oleh pembaru sistem), dan oleh karena itu akan dihapus setelah reboot (atau mungkin bahkan logout / login ). </p>\n\n<p> Folder &quot;<code>0</code>&quot; berisi beberapa database terkait desktop dan mungkin dimaksudkan sebagai cache untuk layanan berikut: </p> <pre><code>$ ls -l /var/folders/4c/yc9pgt3j5y18vr29jcgbbyb4000101/0\ntotal 14104\n-rw-------  1 user2  staff  7221248 Sep  1 10:31 com.apple.LaunchServices-1341025.csstore\ndrwx------  3 user2  staff      102 Jul  3  2016 com.apple.dock.launchpad/\ndrwx------  3 user2  staff      102 Jul  3  2016 com.apple.notificationcenter/\ndrwx------  3 user2  staff      102 Sep  1 10:05 com.apple.pluginkit/\n</code></pre> <p> Jadi, untuk meringkas, setiap pengguna dan pengguna virtual memiliki direktori sendiri di bawah <code>/var/folders</code>. Anda akan memiliki akses ke direktori Anda sendiri, tetapi tidak untuk pengguna lain (kecuali jika Anda menggunakan <code>sudo</code> untuk mengaksesnya sebagai root). Mereka kebanyakan berisi cache dan file sementara. Dengan demikian, menghapus konten mungkin aman atau tidak, tergantung pada apakah file sedang digunakan atau tidak. </p>\n\n<p> Menghapus file yang masih menjalankan proses terkait dapat menyebabkan proses tersebut tidak berfungsi dengan baik atau macet. Menghapus file di mana proses terkait tidak berjalan seharusnya aman, tetapi dapat menyebabkan masalah kinerja saat proses diluncurkan kembali (karena kemungkinan akan menghasilkan kembali cache dan file sementara.) </p>\n\n<p> Tampaknya proses latar belakang berjalan setiap malam pada pukul 3:35 untuk membersihkan folder-folder ini. Saya tidak tahu sifat spesifik pembersihan (tampaknya tidak terdokumentasi dengan baik) tetapi apa yang telah saya baca tampaknya menunjukkan bahwa itu akan menghapus file apa pun yang belum diakses selama tiga hari. </p>","votes":"4","source":"https://superuser.com/a/1246508","author":"<a href=\"https://superuser.com/users/197972/david-c\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">David C.</span></a>","replies":[{"reply":"Apakah ada cara untuk membuatnya dibersihkan lebih cepat daripada menunggu tiga hari? Saya punya 38 pertunjukan di / private / bar / folder. Data tersebut aslinya adalah backup iPhone di iTunes yang baru saja saya “hapus” dari preferensi iTunes -&gt; perangkat. Itu berada di bawah ~ / Library / Application Support ... sampai saya “menghapusnya”. Saya ingin meningkatkan OS saya ke Mojave, tetapi saya tidak memiliki cukup ruang disk.","author":"<a href=\"https://superuser.com/users/658990/hepcat72\" target=\"_blank\" rel=\"nofollow noopener\">hepcat72</a>"}]},{"answer":"<p> Biasanya <code>/var/folders</code> harus dibersihkan dan diatur dengan benar oleh sistem bila perlu. Menghapus beberapa hal dari sana tanpa mengetahui apa yang dihapus kemungkinan dapat menyebabkan beberapa hasil yang tidak terduga dan sangat tidak diinginkan. </p>\n\n<p> Jika Anda berbicara tentang membersihkan folder ini secara manual saat reboot, saya pikir itu harus aman karena tidak mungkin digunakan oleh beberapa program yang sedang berjalan (hanya beberapa sisa dari yang terakhir kali). Bagaimanapun Anda benar, selalu lebih aman untuk menghapus file yang berumur 1 hari lebih lama untuk berjaga-jaga. </p>\n\n<p> Saya pikir bagus untuk menemukan bagaimana OS X membersihkan folder itu dan bagaimana memanggilnya secara manual, jadi itu akan menjadi solusi yang lebih baik. </p>\n\n<p> Lihat juga: </p>\n\n<ul>\n<li><a href=\"http://www.magnusviri.com/Mac/what-is-var-folders.html\" rel=\"nofollow noopener\" target=\"_blank\"> Apa itu &quot;/ var / folder&quot;? </a></li>\n<li><a href=\"https://apple.stackexchange.com/q/176371/22781\" target=\"_blank\" rel=\"nofollow noopener\"> Bisakah saya menghapus / private / var / folder / bf /? </a></li>\n<li><a href=\"https://discussions.apple.com/thread/3757828\" rel=\"nofollow noopener\" target=\"_blank\"> Bolehkah menghapus konten / private / var / folder / *? </a> di Komunitas Dukungan Apple </li>\n</ul>","votes":"2","source":"https://superuser.com/a/892662","author":"<a href=\"https://superuser.com/users/87805/kenorb\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">kenorb</span></a>","replies":[{"reply":"&quot;Biasanya / var / folder harus dibersihkan dan diatur dengan benar oleh sistem&quot; - <i> Sebaiknya </i> menjadi kata kunci, tetapi dalam praktiknya sistem tersebut gagal total. Saya punya gigabyte file, beberapa yang 3 tahun dan 2 upgrade OS lama di / var / folder.","author":"<a href=\"https://superuser.com/users/668972/cxj\" target=\"_blank\" rel=\"nofollow noopener\">CXJ</a>"}]},{"answer":"<p> Untuk apa nilainya (artinya putuskan sendiri :-), melakukan ini berbahaya di Catalina (10.15). Saya melakukan ini di Macbook Air setelah peningkatan ke Catalina. Itu tidak akan restart, dan sangat merepotkan untuk pemulihan dari Time Machine dengan layar internal yang buruk. </p>\n\n<p> Saya juga memiliki Macbook Air layar buruk lainnya (dan keyboard buruk, dan trackpad buruk, tapi saya ngelantur). Saya paranoid karena saya menggunakannya untuk pengembangan. Jadi saya menemukan trik lain secara online. Menahan shift saat boot membuat Mac masuk ke &quot;safe mode&quot;. Mac kemudian melakukan boot ke mode aman, dan &quot;sudo du -d 1 -h / private&quot; mengonfirmasi 44 GB. Setelah reboot lain kembali ke Mac OS X biasa dan perintah yang sama menunjukkan 3GB. </p>\n\n<p> BTW, ini tidak berfungsi dengan keyboard biasa, saya harus menemukan keyboard apel. </p>\n\n<p> Jauh lebih aman, jika sakit, melakukannya secara teratur. Saya mencoba pembersih gratis, tetapi tidak ada yang menemukan file / folder itu. Dan saya lebih suka tidak menghabiskan $ 30 - $ 80 untuk pembersih yang mungkin tidak akan menemukannya juga ... </p>","votes":"0","source":"https://superuser.com/a/1499730","author":"<a href=\"https://superuser.com/users/851616/user7517407\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user7517407</span></a>","replies":[]}]}
