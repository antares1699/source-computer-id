{"title":"Memasukkan string dari xargs ke string lain","draft":false,"url":"/memasukkan-string-dari-xargs-ke-string-lain-b1mas4dd","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["unix","sed","awk"],"snippet":"Katakanlah saya memiliki beberapa perintah yang mengeluarkan banyak string. Output dari perintah ini akan terlihat seperti ini:  ...foobarblargh...  Katakanlah saya memiliki beberapa set string  myString$Blah  Saya ingin memasukkan...","body":"<p> Katakanlah saya memiliki beberapa perintah yang mengeluarkan banyak string. Output dari perintah ini akan terlihat seperti ini: </p> <pre><code>...\nfoo\nbar\nblargh\n...\n</code></pre> <p> Katakanlah saya memiliki beberapa set string </p> <pre><code>myString$Blah\n</code></pre> <p> Saya ingin memasukkan setiap string di mana $ berada dalam output perintah sedemikian rupa sehingga saya berakhir dengan file yang terlihat seperti ini: </p> <pre><code>...\nmyStringfooBlah\nmyStringbarBlah\nmyStringblarghBlah\n...\n</code></pre> <p> Apa cara termudah untuk melakukannya? (Awk dan sed lebih disukai) </p>","source":"https://superuser.com/questions/401614/inserting-string-from-xargs-into-another-string","author":"<a href=\"https://superuser.com/users/56533/well-actually\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">well actually</span></a>","replies":[],"answers":[{"answer":"<p> Anda bahkan tidak membutuhkan <code>sed</code> atau <code>awk</code>. </p>\n\n<p> <code>xargs</code> dapat melakukan ini: dengan: <code>-L1 -I '$' echo 'myString$Blah'</code> </p> <pre><code>$ cat x.list\nfoo\nbar\nblargh\n$ cat x.list | tr '\\n' '\\0' | xargs -0 -L1 -I '$' echo 'myString$Blah'\nmyStringfooBlah\nmyStringbarBlah\nmyStringblarghBlah\n</code></pre>","votes":"10","source":"https://superuser.com/a/403015","author":"<a href=\"https://superuser.com/users/44887/dan-d\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dan D.</span></a>","replies":[]},{"answer":"<p> Anda dapat melakukan ini sepenuhnya di shell (setidaknya <code>bash</code>) tanpa terlalu banyak kesulitan. Berikut skrip yang melakukan itu: </p> <pre><code>#!/bin/bash\n\npattern=\"$1\"\ninput_file=\"$2\"\noutput_file=\"$3\"\n\nsaved_IFS=\"$IFS\"\nIFS=$'\\n'\n# Store each line of the input file into an array named 'lines'.\nlines=($(&lt; $input_file))\nIFS=\"$saved_IFS\"\n\n# Truncate output file, if any.\ncat /dev/null &gt; $output_file\n\n# Substitute each line into the pattern, and write to output file.\nfor ln in \"${lines[@]}\"\ndo\n  echo ${pattern/$/$ln} &gt;&gt; $output_file\ndone\n</code></pre> <p> Misalkan skrip ini disebut <code>script</code>, dan Anda memiliki file bernama <code>in.txt</code> dengan satu string per baris, maka menjalankan <code>script in.txt out.txt</code> akan memberi Anda keluaran yang diinginkan pada <code>out.txt</code>. </p>","votes":"1","source":"https://superuser.com/a/401675","author":"<a href=\"https://superuser.com/users/105557/jjlin\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jjlin</span></a>","replies":[]},{"answer":"<p> Dengan asumsi Anda dapat menggunakan format string <code>myString&amp;Blah</code>, dengan ampersand, bukan tanda dolar, pipa output Anda ke ini: </p> <pre><code>sed \"s/.*/$format/\"\n</code></pre> <p> Ini berfungsi karena <code>&amp;</code> digunakan sebagai operator &quot;masukkan cocok di sini&quot; dalam string pengganti. Regex cocok dengan seluruh baris, jadi ini akan menyisipkan seluruh baris pada <code>&amp;</code>. </p>\n\n<p> Penting untuk menggunakan tanda kutip ganda untuk memungkinkan perluasan string format. </p>\n\n<p> Jika Anda benar-benar perlu menggunakan ampersand, gunakan ini: </p> <pre><code>sed \"s/.*/$(echo \"$format\" | tr '$' '&amp;')/\"\n</code></pre> <p> Tanda kutip di sekitar $ format penting jika Anda memiliki spasi dalam string. </p>","votes":"1","source":"https://superuser.com/a/401629","author":"<a href=\"https://superuser.com/users/102618/jakesandlund\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">jakesandlund</span></a>","replies":[]}]}
