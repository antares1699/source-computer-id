{"title":"hostapd: jalankan perintah ketika ada koneksi baru yang dibuat","draft":false,"url":"/hostapd-jalankan-perintah-ketika-ada-koneksi-baru-yang-dibuat-pzjecqzj","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["wireless-networking","hostapd"],"snippet":"Saya perlu memulai daemon sewenang-wenang ketika setidaknya ada satu koneksi jaringan WiFi (dari klien). Dan hentikan daemon sewenang-wenang saat tidak ada lagi koneksi ke AP ini. Bagaimana melakukannya secara efisien?Untuk saat...","body":"<p> Saya perlu memulai daemon sewenang-wenang ketika setidaknya ada satu koneksi jaringan WiFi (dari klien). Dan hentikan daemon sewenang-wenang saat tidak ada lagi koneksi ke AP ini. Bagaimana melakukannya secara efisien?\nUntuk saat ini saya mempertimbangkan hasil polling <code>hostapd_cli all_sta</code>, tetapi tampaknya aneh. Saya yakin pasti ada beberapa peristiwa sistem yang dapat dikaitkan. </p>","source":"https://superuser.com/questions/1071354/hostapd-execute-a-command-when-there-is-new-connection-established","author":"<a href=\"https://superuser.com/users/588715/beemaster\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">beemaster</span></a>","replies":[],"answers":[{"answer":"<p> Seperti yang dikatakan @beemaster, jalankan ini: </p> <pre><code>hostapd_cli -a '/onHostapdChange.sh'\n</code></pre> <p> Dengan script: <code>onHostapdChange.sh</code> </p> <pre><code>#!/bin/bash\nif [[ $2 == \"AP-STA-CONNECTED\" ]]\nthen\n  echo \"someone has connected with mac id $3 on $1\"\nfi\n\nif [[ $2 == \"AP-STA-DISCONNECTED\" ]]\nthen\n  echo \"someone has disconnected with mac id $3 on $1\"\nfi\n</code></pre>","votes":"7","source":"https://superuser.com/a/1152298","author":"<a href=\"https://superuser.com/users/293624/maxisme\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">maxisme</span></a>","replies":[]},{"answer":"<p> Untuk saat ini saya telah menemukan solusi berikut: </p>\n\n<blockquote>\n  <p> hostapd_cli -a &#39;some_script&#39; </p>\n</blockquote>\n\n<p> Di mana skrip menerima nama antarmuka jaringan dan jenis peristiwa sebagai argumen. Ini harus dimulai setelah daemon <code>hostapd</code>. Juga membutuhkan <code>ctrl_interface</code> untuk disetel pada <code>hostapd.conf</code>. </p>","votes":"2","source":"https://superuser.com/a/1073167","author":"<a href=\"https://superuser.com/users/588715/beemaster\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">beemaster</span></a>","replies":[{"reply":"Ini juga disebut pada koneksi tertutup!","author":"<a href=\"https://superuser.com/users/293624/maxisme\" target=\"_blank\" rel=\"nofollow noopener\">maxisme</a>"}]}]}
