{"title":"Buat daftar semua file / folder yang dapat dihapus pengguna? Linux","draft":false,"url":"/buat-daftar-semua-file-folder-yang-dapat-dihapus-pengguna-linux-zno2ss9s","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["linux","file-permissions"],"snippet":"Saya ingin tahu seberapa besar kerusakan yang dapat dilakukan pengguna pada sistem saya jika dia memutuskan untuk menghapus semuanya (atau menulis surat jika terjadi korupsi).  Perintah atau skrip apa yang mungkin saya...","body":"<p> Saya ingin tahu seberapa besar kerusakan yang dapat dilakukan pengguna pada sistem saya jika dia memutuskan untuk menghapus semuanya (atau menulis surat jika terjadi korupsi). </p>\n\n<p> Perintah atau skrip apa yang mungkin saya gunakan untuk memeriksa ini? </p>","source":"https://superuser.com/questions/177130/list-all-files-folders-a-user-may-delete-linux","author":"<span itemprop=\"name\">user3109</span>","replies":[],"answers":[{"answer":"<pre><code>target_user@host:~$ find / -writable\n</code></pre>","votes":"5","source":"https://superuser.com/a/177138","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">whitequark</span></a>","replies":[{"reply":"Luar biasa. Sepertinya sebagian besar file di sini adalah file khusus (pipa) yang dapat ditulis tetapi tidak dapat rusak atau dapat dihapus. Saya tidak bisa membedakan mana folder tetapi melihat daftar pengguna tampaknya &#39;aman&#39;","author":"User"},{"reply":"@ acidzombie24 - jika Anda hanya ingin direktori, <code>find &#47; -writable -type d</code>. Jika Anda hanya ingin file, <code>find &#47; -writable -type f</code>. Jika Anda ingin file dan dirs tetapi bukan pipa dan file khusus, <code>find &#47; -writable \\( -type f -o -type d \\)</code>.","author":"<a href=\"https://superuser.com/users/3948/bstpierre\" target=\"_blank\" rel=\"nofollow noopener\">bstpierre</a>"},{"reply":"Saya hanya memperhatikan, itu daftar folder bernama / home / mybackup. melakukan stat saya melihat 700 di atasnya. Jadi saya benar-benar melihat daftar file / direktori yang ada di direktori yang dapat ditulisi? Apakah ada cara untuk tidak menyertakan folder ini? -edit- oh dan saya mendapat kesalahan sintaks (jadi saya menulis <code>find &#47; -writable -type f -o -type d </code> mungkin itu penyebab perilaku yang salah ini?","author":"User"},{"reply":"Bentuk yang benar dari perintah itu mungkin <code>find &#47; -writable \\( -type f -o -type d \\)</code>, karena <code>bash</code> menafsirkan tanda kurung yang tidak dapat lolos dengan sendirinya.","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\">whitequark</a>"}]},{"answer":"<p> Anda perlu mencari direktori yang dapat ditulis oleh pengguna. File tidak memiliki izin hapus. Coba perintah untuk menemukan direktori yang mudah. Ini harus mencantumkan / tmp dan menggunakan pohon direktori home. </p> <pre><code>sudo -u your_user find -type d -writable -maxdepth 3 2&gt;/dev/null \n</code></pre> <p> Ini akan kehilangan semua direktori di bawah direktori yang tidak dapat dipindai oleh pengguna. Namun, mereka juga akan terlewat oleh penghapusan karakter pengganti. Daftar ini hanya turun tiga tingkat yang seharusnya mendapatkan sebagian besar struktur tempat pengguna dapat menulis. Ubah atau jatuhkan maxdepth yang sesuai. </p>\n\n<p> Pemeriksaan yang lebih lengkap adalah setiap direktori yang memenuhi salah satu kriteria berikut: </p>\n\n<ul>\n<li> Dapat ditulis secara global </li>\n<li> Dapat ditulis oleh pengguna </li>\n<li> Dapat ditulis oleh salah satu grup pengguna. (Selalu setidaknya satu grup, mungkin lebih). </li>\n</ul>\n\n<p> Pengguna akan dapat menghapus file dan direktori di bawah direktori ini. Ada pengecualian yang akan mencegah penghapusan semua yang ada di bawah direktori ini. Mampu menghapus file dalam sebuah direktori, tidak menyimpulkan direktori tersebut mungkin terhapus. </p>\n\n<p> Semua taruhan dibatalkan jika pengguna adalah root. Namun, ada izin yang dapat diatur bahkan mencegah root dari menghapus file. </p>","votes":"1","source":"https://superuser.com/a/177166","author":"<a href=\"https://superuser.com/users/37947/billthor\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">BillThor</span></a>","replies":[{"reply":"Tidak boleh ada direktori yang dimiliki oleh, mis. root dan mode 644 dengan file 666? Direktori tidak akan dapat ditulisi oleh pengguna, tetapi file dapat rusak.","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\">whitequark</a>"},{"reply":"Ya benar sekali. Pengguna dapat mengubah file berdasarkan hak menulis pada file tersebut. Saya hanya melihat kasus penghapusan yang paling merusak. Untuk file korupsi kami menemukan dengan &#39;-type f&#39; daripada &#39;-type d&#39; Anda dapat mencoba sesuatu seperti ini untuk semua yang dapat ditulis: &quot;sudo -u www-data find / -writable 2 &amp; gt; / dev / null | egrep -v ^ / proc | kurang &quot;","author":"<a href=\"https://superuser.com/users/37947/billthor\" target=\"_blank\" rel=\"nofollow noopener\">BillThor</a>"},{"reply":"Mode direktori perlu menyertakan 1 bit agar dapat diakses. (Jalankan bit berarti mengaktifkan akses file pada direktori.) Kedua jawaban saya akan kehilangan file di bawah direktori dengan eksekusi diaktifkan, tetapi baca dinonaktifkan. Misalnya file yang dimiliki root dan direktori dimana mode direktorinya adalah 511 dan izin file adalah 666. Untuk merusak file, pengguna perlu mengetahui keberadaannya di sana. Jenis izin ini dapat digunakan untuk direktori dropbox, di mana Anda tidak ingin dropper mengetahui apa lagi yang telah dijatuhkan. Ini harus digabungkan dengan bit &#39;t&#39; untuk mencegah pengguna menghapus file pengguna lain.","author":"<a href=\"https://superuser.com/users/37947/billthor\" target=\"_blank\" rel=\"nofollow noopener\">BillThor</a>"}]},{"answer":"<p> Dengan pengguna itu, jalankan: </p> <pre><code>find / -perm -=w &gt; ~/listoffiles.txt\n</code></pre> <p> menulis daftar file ke <code>listoffiles.txt</code> di direktori home Anda. </p>","votes":"0","source":"https://superuser.com/a/177136","author":"<a href=\"https://superuser.com/users/34844/pylsa\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Pylsa</span></a>","replies":[{"reply":"Ingatlah bahwa selain mode file, ada UID dan GID yang terkait dengan file tersebut. Selain itu, Anda mungkin memiliki set POSIX ACL.","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\">whitequark</a>"},{"reply":"@whitequark Namun, ini harus berfungsi dengan baik?","author":"<a href=\"https://superuser.com/users/34844/pylsa\" target=\"_blank\" rel=\"nofollow noopener\">Pylsa</a>"},{"reply":"Tidak. Bayangkan file (dapat dihapus) dengan mode 0600: pengujian Anda akan melewatkannya dan milik saya tidak akan (berikut lognya: <a href=\"http://pastebin.com/7jV0yTJ7\" rel=\"nofollow noopener\" target=\"_blank\"> pastebin.com/7jV0yTJ7 </a> )","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\">whitequark</a>"},{"reply":"@whiteark Haha! Aku benci kalau kamu benar! Sudah selesai dilakukan dengan baik!","author":"<a href=\"https://superuser.com/users/34844/pylsa\" target=\"_blank\" rel=\"nofollow noopener\">Pylsa</a>"},{"reply":"hanya ingin tahu, apakah saya benar beberapa waktu yang lalu atau apakah itu ungkapan yang tidak saya ketahui?","author":"<a href=\"https://superuser.com/users/25472/whitequark\" target=\"_blank\" rel=\"nofollow noopener\">whitequark</a>"}]}]}
