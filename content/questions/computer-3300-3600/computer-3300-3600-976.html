{"title":"Bagaimana cara rsync melalui gateway ssh?","draft":false,"url":"/bagaimana-cara-rsync-melalui-gateway-ssh-17dqkk8d","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["ssh","rsync"],"snippet":"Saya ingin melakukan rsync file lokal saya dengan cadangan yang saya miliki di server yang memungkinkan akses dari tempat saya sekarang hanya melalui gateway. Jadi saya datang dengan yang berikut ini  rsync...","body":"<p> Saya ingin melakukan rsync file lokal saya dengan cadangan yang saya miliki di server yang memungkinkan akses dari tempat saya sekarang hanya melalui gateway. Jadi saya datang dengan yang berikut ini </p> <pre><code>rsync -avz -r --stats --progress -e \"ssh gateway.dot.com ssh server.dot.com:/home/myname/documents/\" /home/myname/documents \n</code></pre> <p> dan ada beberapa komunikasi yang terjadi karena semua file terdaftar tetapi pada ringkasan di bagian akhir mengungkapkan bahwa sebenarnya tidak ada transfer file sama sekali. </p> <pre><code>Number of files: 270889\nNumber of files transferred: 0\nTotal file size: 70343212868 bytes\nTotal transferred file size: 0 bytes\nLiteral data: 0 bytes\nMatched data: 0 bytes\nFile list size: 7596005\nFile list generation time: 0.001 seconds\nFile list transfer time: 0.000 seconds\nTotal bytes sent: 7613770\nTotal bytes received: 17764\n\nsent 7613770 bytes  received 17764 bytes  50707.87 bytes/sec\ntotal size is 70343212868  speedup is 9217.44\n</code></pre> <p> Ide ide? </p>","source":"https://superuser.com/questions/569666/how-to-rsync-via-gateway-ssh","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Giant Molecular Klaus</span></a>","replies":[{"reply":"Mungkin semua file sudah sinkron dan tidak perlu transfer ???","author":"<a href=\"https://superuser.com/users/209415/crayzeewulf\" target=\"_blank\" rel=\"nofollow noopener\">crayzeewulf</a>"},{"reply":"Nyatanya tidak. Ini benar-benar terlihat seperti itu tetapi ada ratusan perubahan dan beberapa file yang baru dibuat di folder dan subfolder ini.","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"},{"reply":"Hanya untuk memperjelas - <i> lebih baru </i> file ada di server dan saya ingin mendapatkannya di komputer lokal saya.","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"},{"reply":"banyak thx untuk pengguna crayzeewulf: jawabannya adalah rsync -avz -r --stats --progress -e &quot;ssh gateway.dot.com ssh&quot; server.dot.com:/home/myname/documents/ / home / myname / documents","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"}],"answers":[{"answer":"<ol>\n<li> Bukankah perintah <code>rsync</code> harus <code>rsync ... -e \"ssh the.gateway ssh\" /local/dir/ the.remote.server:/remote/dir/</code>? </li>\n<li><del> Pesan <strong> <code>speedup is 9217.44</code> </strong> menunjukkan bahwa transfer dioptimalkan <code>9217</code> kali, artinya file antara dua host hampir (jika belum) disinkronkan. </del></li>\n</ol>\n\n<h2 class=\"h4\"> MEMPERBARUI: </h2>\n\n<p> # 2 tidak benar. Lihat <a href=\"https://superuser.com/a/570101/209415\" target=\"_blank\" rel=\"nofollow noopener\"> jawaban crayzeewulf </a> untuk penjelasan lebih lanjut. Nilai speedup menyesatkan saya untuk memahami bahwa itu berhasil. </p>","votes":"1","source":"https://superuser.com/a/569805","author":"<a href=\"https://superuser.com/users/105590/pynexj\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">pynexj</span></a>","replies":[{"reply":"Terima kasih atas jawaban dan komentarnya! # 2: Berkas tidak sinkron, ada ratusan berkas yang diubah dan ada yang ditambahkan. # 1: dalam hal ini saya mendapatkan &quot;bash: the.remote.server: perintah tidak ditemukan ...&quot;","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"},{"reply":"@clarkw, Anda awalnya benar. Lihat <a href=\"http://superuser.com/a/570101/209415\" target=\"_blank\" rel=\"nofollow noopener\"> Jawabanku </a> .","author":"<a href=\"https://superuser.com/users/209415/crayzeewulf\" target=\"_blank\" rel=\"nofollow noopener\">crayzeewulf</a>"},{"reply":"Oh ya, saya melihatnya juga sekarang. Maaf atas kebingungan teman-teman dan terima kasih banyak atas bantuan Anda!","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"},{"reply":"@crayzeewulf: Terima kasih. Nilai speedup menyesatkan saya. Memperbarui jawaban saya agar tidak membingungkan lebih banyak orang. :)","author":"<a href=\"https://superuser.com/users/105590/pynexj\" target=\"_blank\" rel=\"nofollow noopener\">pynexj</a>"}]},{"answer":"<p> Saya pikir item # 1 di <a href=\"https://superuser.com/a/569805/209415\" target=\"_blank\" rel=\"nofollow noopener\"> jawaban clarkw </a> benar. Jika Anda menggunakan <code>...-e \"ssh gateway.dot.com ssh server.dot.com:/home/myname/documents/\"</code>, perintah rsync terkait memiliki direktori sumber tetapi tidak ada direktori tujuan. Dalam kasus ini, menurut manual rsync: </p> <pre><code>Usages with just one SRC arg and no DEST arg will list the source \nfiles instead of copying.\n</code></pre> <p> Inilah tepatnya yang sedang terjadi. Anda dapat memeriksanya dengan memberikan sampah sebagai argumen <code>-e</code>. Sebagai contoh: </p> <pre><code>rsync -avz --stats -e 'suq maballs' /tmp\n</code></pre> <p> Perintah ini akan bekerja dengan baik. Ini akan mencantumkan semuanya di bawah <code>/tmp</code> dan menampilkan statistik yang bagus di bagian akhir: </p> <pre><code>Number of files: 28\nNumber of files transferred: 0\nTotal file size: 182 bytes\nTotal transferred file size: 0 bytes\nLiteral data: 0 bytes\nMatched data: 0 bytes\nFile list size: 955\nFile list generation time: 0.001 seconds\nFile list transfer time: 0.000 seconds\nTotal bytes sent: 998\nTotal bytes received: 26\n\nsent 998 bytes  received 26 bytes  2048.00 bytes/sec\ntotal size is 182  speedup is 0.18\n</code></pre> <p> Perhatikan bahwa tidak ada file yang ditransfer ke sini seperti dalam contoh Anda. Anda perlu mengubah perintah asli Anda: </p> <pre><code>rsync -avz -r --stats --progress \\\n    -e \"ssh gateway.dot.com ssh server.dot.com:/home/myname/documents/\" \\\n    /home/myname/documents \n</code></pre> <p> untuk: </p> <pre><code>rsync -avz -r --stats --progress \\\n    -e \"ssh gateway.dot.com ssh\" \\\n    server.dot.com:/home/myname/documents/ \\\n    /home/myname/documents  \n</code></pre> <p> Tentu saja, ganti <code>gateway.dot.com</code> dan <code>server.dot.com</code> dengan nama host yang sesuai. </p>","votes":"9","source":"https://superuser.com/a/570101","author":"<a href=\"https://superuser.com/users/209415/crayzeewulf\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">crayzeewulf</span></a>","replies":[{"reply":"WOW THX! Itu bekerja dengan sempurna :) Saya tidak akan pernah mendapatkan hak itu tanpa bantuan. Hanya sebagai pernyataan, ada satu &quot;terlalu banyak dalam perintah solusi Anda.","author":"<a href=\"https://superuser.com/users/209393/giant-molecular-klaus\" target=\"_blank\" rel=\"nofollow noopener\">Giant Molecular Klaus</a>"},{"reply":"Senang melihat itu berhasil. @clarkw melakukannya dengan benar pada kali pertama. Juga, terima kasih telah melaporkan kesalahan saya. Saya telah memperbaikinya. Silahkan <a href=\"http://meta.stackexchange.com/a/5235\" target=\"_blank\" rel=\"nofollow noopener\"> terima jawaban </a> jika kamu puas.","author":"<a href=\"https://superuser.com/users/209415/crayzeewulf\" target=\"_blank\" rel=\"nofollow noopener\">crayzeewulf</a>"}]}]}
