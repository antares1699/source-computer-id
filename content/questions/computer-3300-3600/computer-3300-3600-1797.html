{"title":"Kenapa tidak sudo sejarah?","draft":false,"url":"/kenapa-tidak-sudo-sejarah-oyiqtbas","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","bash","sudo","history","command-history"],"snippet":"Jika saya ingin melihat riwayat bash root, mengapa saya tidak bisa menjalankan sudo history saja? ketika saya melakukannya dikatakan riwayat perintah tidak ditemukan, tetapi jika saya menjalankannya tanpa sudo itu berjalan dengan...","body":"<p> Jika saya ingin melihat riwayat bash root, mengapa saya tidak bisa menjalankan <code>sudo history</code> saja? ketika saya melakukannya dikatakan riwayat perintah tidak ditemukan, tetapi jika saya menjalankannya tanpa sudo itu berjalan dengan baik. </p>\n\n<p> Edit: ini adalah jawaban duplikat, tetapi bukan pertanyaan duplikat untuk pertanyaan yang ditautkan. Orang yang menanyakan salah satu pertanyaan tidak akan tahu bahwa itu adalah perintah shell builtin yang bertentangan dengan biner. </p>","source":"https://superuser.com/questions/1198843/why-can-you-not-sudo-history","author":"<a href=\"https://superuser.com/users/125270/stackoverflowed\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">StackOverflowed</span></a>","replies":[{"reply":"Kemungkinan duplikat dari <a href=\"https://superuser.com/questions/241129/why-wont-sudo-cd-work\" target=\"_blank\" rel=\"nofollow noopener\"> Mengapa &quot;sudo cd&quot; tidak berfungsi? </a>","author":"<a href=\"https://superuser.com/users/667464/zondo\" target=\"_blank\" rel=\"nofollow noopener\">zondo</a>"},{"reply":"Kemungkinan duplikat Q pada dasarnya adalah jawabannya - <code>history</code> adalah perintah bash shell builtin. Mungkin ada log lain yang merekam apa yang sudo lakukan","author":"<a href=\"https://superuser.com/users/307834/xen2050\" target=\"_blank\" rel=\"nofollow noopener\">Xen2050</a>"},{"reply":"lol itu jawaban duplikat, tapi bukan pertanyaan duplikat. Orang yang menanyakan salah satu pertanyaan tidak akan tahu bahwa itu adalah perintah shell builtin yang bertentangan dengan biner.","author":"<a href=\"https://superuser.com/users/125270/stackoverflowed\" target=\"_blank\" rel=\"nofollow noopener\">StackOverflowed</a>"},{"reply":"Itu benar ... membaca komentar saya, mereka akan tahu kemudian ;-) Mungkin saya akan memposting jawaban dengan cara saya memeriksa biner vs builtin","author":"<a href=\"https://superuser.com/users/307834/xen2050\" target=\"_blank\" rel=\"nofollow noopener\">Xen2050</a>"}],"answers":[{"answer":"<p> <code>history</code> adalah perintah bash shell builtin, dan <code>sudo</code> tidak berfungsi dengan shell bawaan. </p>\n\n<hr>\n\n<h1 class=\"h3\"> Apa itu perintah bawaan dan apa yang tidak? </h1>\n\n<p> Saya menggunakan perintah <strong> <code>which</code> </strong> bahwa <em> &quot;mengembalikan nama jalur file (atau tautan) yang akan dijalankan di lingkungan&quot; </em> untuk mengonfirmasi bahwa <code>history</code> bukanlah perintah eksternal (untuk bash). </p>\n\n<p> Misalnya lari </p> <pre><code>$ which history\n$\n</code></pre> <p> tidak mengembalikan apa-apa dan kode keluarnya adalah 1 (satu atau lebih perintah yang ditentukan tidak ada atau tidak dapat dieksekusi) [FYI lihat kode keluar dengan <code>echo $?</code>], saat menjalankan </p> <pre><code>$ which ls\n/bin/ls\n$\n</code></pre> <p> dan kode keluar 0 (semua perintah yang ditentukan ditemukan dan dapat dieksekusi). </p>\n\n<p> Selain itu, di bash Anda dapat mencari bantuan untuk perintah bawaan <strong> <code>help</code> </strong> (atau mencari halaman <code>man bash</code>). Misalnya mengetik </p> <pre><code>$ help history\nhistory: history [-c] [-d offset] [n] or history -anrw [filename] or history -ps\narg [arg...]\n   Display or manipulate the history list.\n...\n</code></pre> <p> menunjukkan info bantuan bash. Menjalankan <code>help non-bash-command</code> mengembalikan sesuatu yang mirip dengan ini: </p> <pre><code>$ help ls\nbash: help: no help topics match `ls'.  Try `help help' or `man -k ls' or\n`info ls'.\n</code></pre> <p> dan kode keluar 1 </p>\n\n<hr>\n\n<h1 class=\"h3\"> Jadi apa yang sudo lakukan? </h1>\n\n<p> Anda dapat mencari riwayat Anda sendiri untuk <code>sudo</code> perintah yang telah dijalankan pengguna Anda (dan tidak melewatkan menyimpannya ke riwayat) dengan <code>grep '^sudo' .bash_history</code> atau <code>history|less</code> atau yang serupa. </p>\n\n<p> Atau, di Ubuntu file <code>/var/log/auth.log</code> menyimpan catatan tentang apa yang telah dilakukan <code>sudo</code> untuk semua pengguna, cari &quot;sudo&quot; di sana (distro lain mungkin menggunakan file <code>/var/log/secure</code>), atau dapat menggunakan </p> <pre><code>sudo grep sudo /var/log/auth.log\n</code></pre> <p> atau jalankan <code>sudo journalctl _COMM=sudo</code> jika Anda memiliki systemd. </p>\n\n<p> Lihat pertanyaannya <a href=\"https://unix.stackexchange.com/questions/167935/details-about-sudo-commands-executed-by-all-user\" target=\"_blank\" rel=\"nofollow noopener\"> &quot;Detail tentang perintah sudo yang dijalankan oleh semua pengguna&quot; di Unix &amp; Linux </a> untuk lebih jelasnya </p>","votes":"5","source":"https://superuser.com/a/1198873","author":"<a href=\"https://superuser.com/users/307834/xen2050\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Xen2050</span></a>","replies":[]},{"answer":"<p> <code>history</code> adalah bash bawaan, bukan perintah biasa; <code>sudo</code> tidak memulai shell untuk menjalankan perintah yang Anda berikan, ia hanya mencoba mengeksekusinya secara langsung (sebagai perintah biasa), jadi tidak tersedia. </p>\n\n<p> Anda dapat menggunakan <code>sudo bash</code> untuk membuka perintah root shell dan kemudian menjalankan <code>history</code>, tetapi jika Anda menginginkan one-liner, ini sedikit rumit. bash hanya mengaktifkan mekanisme riwayatnya saat dijalankan dalam mode interaktif, dan jika Anda melakukan sesuatu seperti <code>sudo bash -c history</code> (<code>-c</code> memberi tahu bash &quot;inilah perintah yang saya ingin Anda jalankan:&quot;), ia memperlakukannya sebagai mode non-interaktif dan tidak benar-benar menampilkan riwayat apa pun. Bahkan menambahkan <code>-i</code> (untuk mode interaktif) tidak berfungsi saat saya mengujinya. Tapi ini berhasil: </p> <pre><code>sudo bash -i &lt;&lt;&lt;history\n</code></pre> <p> Perhatikan bahwa <code>&lt;&lt;&lt;</code> adalah fitur khusus bash; di shell lain Anda mungkin harus menggunakan <code>echo history | sudo bash -i</code> sebagai gantinya. </p>","votes":"3","source":"https://superuser.com/a/1198876","author":"<a href=\"https://superuser.com/users/7778/gordon-davisson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Gordon Davisson</span></a>","replies":[]}]}
