{"title":"Windows 10: Bagaimana cara membuat daftar file yang tidak memiliki file dengan nama yang sama tetapi dengan ekstensi yang berbeda?","draft":false,"url":"/windows-10-bagaimana-cara-membuat-daftar-file-yang-tidak-memiliki-file-dengan-nama-yang-sama-tetapi-dengan-ekstensi-yang-berbeda-qvevputu","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["windows-10","command-line","powershell"],"snippet":"Saya memiliki gudang musik yang sebagian besar berisi file mp3. Saya menggunakan Minilyrics untuk mengunduh file .lrc untuk setiap mp3, jadi sebagian besar file mp3 memiliki file lirik yang sesuai dengan nama...","body":"<p> Saya memiliki gudang musik yang sebagian besar berisi file mp3. Saya menggunakan Minilyrics untuk mengunduh file .lrc untuk setiap mp3, jadi sebagian besar file mp3 memiliki file lirik yang sesuai dengan nama yang sama tetapi memiliki ekstensi .lrc di folder yang sama. </p>\n<p> Sekarang saya perlu mendaftar <strong> file mp3 </strong> yang tidak memiliki lirik. Apakah ada cara untuk melakukan ini di PowerShell atau baris perintah? </p>","source":"https://superuser.com/questions/1631449/windows-10-how-to-list-files-that-doesnt-have-a-file-with-same-name-but-with-d","author":"<a href=\"https://superuser.com/users/182310/fall\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">fall</span></a>","replies":[],"answers":[{"answer":"<p> PowerShell di bawah ini akan mencantumkan nama jalur lengkap dari file <code>.mp3</code> apa pun <strong> yang tidak memiliki file <code>.lrc</code> yang cocok dalam direktori yang sama dengan nama file dasar yang sama </strong> . </p>\n<p> Ubah saja <code>$pth =</code> menjadi jalur lengkap ke folder awal tempat file <code>.mp3</code> berada. Solusi ini akan secara rekursif melintasi folder <code>$pth</code> untuk semua file <code>.mp3</code> di subfolder juga. </p>\n<h2 class=\"h4\"> PowerShell </h2> <pre><code>$pth = &quot;C:\\MP3\\Folder\\Location&quot;;\nGet-ChildItem -Path $pth -Recurse -Include &quot;*.mp3&quot; | % { Process { \n    If ( ! ( Test-Path &quot;$((Split-Path $_.FullName -Resolve))\\$($_.BaseName).lrc&quot; ) ) \n    { $_.FullName };\n    }};\n</code></pre> <h3 class=\"h5\"> Sumber Daya Pendukung </h3>\n<ul>\n<li><a href=\"https://ss64.com/ps/get-childitem.html\" rel=\"nofollow noopener\" target=\"_blank\"> Dapatkan-ChildItem </a></li>\n<li><a href=\"https://ss64.com/ps/foreach-object.html\" rel=\"nofollow noopener\" target=\"_blank\"> ForEach-Object </a>\n<blockquote>\n<p> Standar <a href=\"https://ss64.com/ps/get-alias.html\" rel=\"nofollow noopener\" target=\"_blank\"> Alias </a> untuk Foreach-Object: simbol &#39;<code>%</code>&#39;, ForEach </p>\n</blockquote>\n</li>\n<li><a href=\"https://ss64.com/ps/if.html\" rel=\"nofollow noopener\" target=\"_blank\"> Jika </a></li>\n<li><a href=\"https://ss64.com/ps/test-path.html\" rel=\"nofollow noopener\" target=\"_blank\"> Jalur Tes </a></li>\n<li><a href=\"https://ss64.com/ps/split-path.html\" rel=\"nofollow noopener\" target=\"_blank\"> Split-Path </a></li>\n</ul>","votes":"4","source":"https://superuser.com/a/1631458","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Drink More Pimp Juice IT</span></a>","replies":[{"reply":"diuji dan bekerja pada PC saya","author":"<a href=\"https://superuser.com/users/182310/fall\" target=\"_blank\" rel=\"nofollow noopener\">fall</a>"},{"reply":"IMO yang lebih baik: <code>Get-ChildItem -Path $pth -Recurse -Include &quot;*.mp3&quot;   | ? {(! ( Test-Path &quot;$((Split-Path $_.FullName -Resolve))\\$($_.BaseName).lrc&quot; ) ) }   | Format-Table;</code>","author":"<a href=\"https://superuser.com/users/117691/jonathan\" target=\"_blank\" rel=\"nofollow noopener\">Jonathan</a>"},{"reply":"Mungkin itu adalah preferensi tetapi <code>foreach-object</code> dengan <code>If</code> bersyarat berkinerja lebih baik daripada <code>where-object</code> jadi itu tidak biasa dengan cara saya menulis kode. Sama dengan <code>process {}</code> juga. Saya tidak yakin dengan skalanya, jadi saya biasanya hanya memilih apa yang berkinerja terbaik dari kebiasaan. Anda dapat menggunakan <code>Measure-Command {}</code> untuk membandingkan waktu operasi untuk mengonfirmasi.","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\">Drink More Pimp Juice IT</a>"},{"reply":"Tidakkah Anda akan mendapatkan kinerja yang lebih baik jika Anda membiarkan Penyedia FileSytem melakukan pemfilteran? <code>Get-ChildItem -Path $pth\\*.mp3</code>?","author":"<a href=\"https://superuser.com/users/881098/keith-miller\" target=\"_blank\" rel=\"nofollow noopener\">Keith Miller</a>"},{"reply":"Saya tidak yakin, saya biasanya melihat kinerja bersyarat <code>Process { If() {} }</code> lebih baik daripada penyaringan <code>where-object {}</code> per hasil <code>Measure-Command {}</code>. Saya kira ini kasus per kasus berdasarkan skala file mungkin. Apa yang selalu lebih mudah dibaca tidak selalu berkinerja paling baik. Hal baiknya adalah, OP memiliki pilihan dan lebih dari satu cara untuk melakukan tugas melalui PowerShell. Cara mana yang berkinerja lebih baik dapat bervariasi tetapi cukup mudah untuk mengkonfirmasi dan menyesuaikan per lingkungan jika kinerja jika penting. Kurasa aku adalah makhluk kebiasaan ... Kita semakin dalam di sini ... lol","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\">Drink More Pimp Juice IT</a>"},{"reply":"Atau apakah Anda mengatakan <code>$path -Recurse -Include &quot;*.mp3&quot;</code> tidak sebagus <code>$pth\\*.mp3 -Recurse</code> tanpa parameter <code>-Include</code> seperti itu mungkin itu poin yang bagus. Saya harus mengujinya untuk melihat mana yang berkinerja lebih baik jika itu yang Anda katakan di sini. Komentar saya khususnya tentang penyaringan <code>where-object</code>.","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\">Drink More Pimp Juice IT</a>"},{"reply":"Baik. Saya membaca bahwa <code>-Path</code> dan <code>-Filter</code> diteruskan ke Penyedia Sistem File dan dengan demikian lebih cepat dari <code>-Include</code> atau <code>-Exclude</code>. Kemungkinan besar sepele dalam hal ini, tetapi perlu diingat saat mengoptimalkan.","author":"<a href=\"https://superuser.com/users/881098/keith-miller\" target=\"_blank\" rel=\"nofollow noopener\">Keith Miller</a>"},{"reply":"Saya menghargai tip itu @KeithMiller ... Saya pasti akan mengingat ini untuk terus maju dan mengujinya pada <code>measure-command</code>. Saya akan tetap membuka mata saya untuk membaca jika saya melihatnya juga. Saya mungkin harus membaca posting MS untuk <code>get-childitem</code> dengan detail suatu hari nanti daripada terlalu banyak mematuknya ...","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\">Drink More Pimp Juice IT</a>"},{"reply":"Baru saja melakukan tes cepat dengan tiga metode dan tampaknya kinerja terbaik pada skala kecil tetapi konsisten menggunakan <code>$pth -Recurse -filter &quot;*.mp3&quot;</code> bahkan selama <code>$pth\\*.mp3 -Recurse</code> cara itu bekerja lebih baik secara lebih konsisten lebih cepat. Saya membaca di SS64 ada bug dengan parameter <code>-filter</code> saat menggunakan parameter <code>-LiteralPath</code> yang sebenarnya banyak saya gunakan jadi mungkin saya mengalami bug ini sebelumnya dan itu sebabnya tidak menempel. Baik untuk diketahui meskipun untuk mengoptimalkan kapan dapat digunakan dan itu penting.","author":"<a href=\"https://superuser.com/users/510662/drink-more-pimp-juice-it\" target=\"_blank\" rel=\"nofollow noopener\">Drink More Pimp Juice IT</a>"},{"reply":"Itu menarik karena saya juga berpikir saya juga membaca di suatu tempat bahwa parameter <code>Path</code> dan <code>Filter</code> pada dasarnya digabungkan oleh Penyedia. Oh well, harus selalu ada sedikit misteri di balik kap mesin! : D","author":"<a href=\"https://superuser.com/users/881098/keith-miller\" target=\"_blank\" rel=\"nofollow noopener\">Keith Miller</a>"},{"reply":"Juga, apakah <code>-Resolve</code> dengan <code>Split-Path</code> melayani tujuan apa pun dalam kasus seperti ini? Karena jalur yang Anda pisahkan adalah <code>FullName</code> dari objek <code>FIleInfo</code>, bukankah itu sudah &quot;dijamin&quot; valid?","author":"<a href=\"https://superuser.com/users/881098/keith-miller\" target=\"_blank\" rel=\"nofollow noopener\">Keith Miller</a>"}]},{"answer":"<p> Jika Anda menginstal Python di komputer Anda, Anda dapat menempelkan kode ini ke dalam file bernama <code>songlister.py</code> dan meletakkannya di folder yang sama dengan semua file <code>.mp3</code> dan <code>.lrc</code>, lalu jalankan dari baris perintah seperti ini: </p> <pre><code>python songlister.py\n</code></pre> <p> dan itu akan mencantumkan semua nama lagu yang tidak memiliki file <code>.lrc</code>! </p>\n<p> Berikut kodenya: </p> <pre class=\"lang-python prettyprint-override\"><code>import glob,re\n\n# These give the lists of all the .mp3 and .lrc files in your current folder and sub folders\nmp3_files = glob.glob(&quot;/**/*.mp3&quot;, recursive=True)\nlyric_files = glob.glob(&quot;/**/*.lrc&quot;, recursive=True)\n\n# For every .mp3 file, check if it has a matching .lrc file.\nfor i in mp3_files:\n    music_name = re.search(&quot;.*\\.mp3$&quot;, i).group().replace('.mp3', '')\n    match = False\n    for s in lyric_files:\n        lyric_name = re.search(&quot;.*\\.lrc$&quot;, s).group().replace('.lrc', '')\n\n# If it does NOT have a .lrc file, then list the name of the file.\n        if lyric_name == music_name: \n            match = True\n            break\n    if not match:\n        print(i)\n</code></pre>","votes":"2","source":"https://superuser.com/a/1631454","author":"<a href=\"https://superuser.com/users/1213878/pigeonburger\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">pigeonburger</span></a>","replies":[{"reply":"Python adalah ide yang sangat bagus. Saya tidak mempertimbangkan Python karena saya tidak tahu Python. Saya mencoba skrip ini. Ada 1 masalah: Jika ada 100 file lrc di folder ini, itu akan mencetak nama file mp3 yang sama 100 kali jika tidak memiliki file lirik atau 99 kali jika ada. Jadi saya meningkatkan kodenya, dan menambahkan rekursi untuk sub folder. Tolong beri tahu saya jika ada kesalahan saat saya membuat kode saat googling. Kode terlalu panjang untuk dimasukkan dalam komentar, jadi saya mengedit kode dalam jawaban Anda","author":"<a href=\"https://superuser.com/users/182310/fall\" target=\"_blank\" rel=\"nofollow noopener\">fall</a>"},{"reply":"Terima kasih! maaf, saya baru saja menulis ini dalam 2 menit dan tidak berpikir lebih hati-hati tentang potensi masalah itu. Sedangkan untuk menambahkan rekursi, saya hanya berasumsi semuanya ada di folder induk, jadi saya tidak menambahkannya, tetapi saya menghargai klarifikasi! saya akan meninjau hasil edit dan memeriksanya.","author":"<a href=\"https://superuser.com/users/1213878/pigeonburger\" target=\"_blank\" rel=\"nofollow noopener\">pigeonburger</a>"},{"reply":"Kelihatannya bagus untuk saya 👍 menambahkan perubahan itu, hanya mengubah satu hal untuk sintaks yang lebih baik.","author":"<a href=\"https://superuser.com/users/1213878/pigeonburger\" target=\"_blank\" rel=\"nofollow noopener\">pigeonburger</a>"},{"reply":"Anda bisa menggunakan Python <a href=\"https://docs.python.org/3/library/pathlib.html\" rel=\"nofollow noopener\" target=\"_blank\"> pathlib </a> . Ini memiliki <code>glob</code>, <code>exists</code> dan <code>with_suffix</code>. Untuk setiap mp3, Anda cukup memeriksa apakah ada file <code>lrc</code> yang sesuai, yang akan sangat menyederhanakan kode Anda. Saya tidak dapat menguji di bawah Windows sekarang, tetapi mungkin saja <code>glob.glob(&quot;&#47;**&#47;*.mp3&quot;)</code> mencantumkan setiap file mp3 di komputer Anda, bukan hanya folder saat ini.","author":"<a href=\"https://superuser.com/users/665295/eric-duminil\" target=\"_blank\" rel=\"nofollow noopener\">Eric Duminil</a>"}]},{"answer":"<p> Inilah pendekatan teknologi rendah yang akan saya gunakan. Dari prompt perintah, lakukan <code>dir /b|sort &gt; list.txt</code>. Ini menghasilkan daftar file dalam file list.txt, diurutkan menurut abjad. </p>\n<p> Kemudian buka file di Excel, atau Google Sheets. Daftar nama file akan muncul di kolom A. Di sel B1, masukkan <code>=RIGHT(A1,LEN(A1)-FIND(&quot;.&quot;,A1))</code>, lalu salin ke semua kolom B (atau, lebih tepatnya, selama nama file ada); konkretnya, saat di sel B1 tekan <code>Ctrl-C</code>, lalu pilih seluruh kolom, dan tekan <code>Ctrl-V</code>. Ini menghasilkan daftar ekstensi di kolom B. Kemudian, di sel C1, masukkan <code>=IF(B1=B2,A1,&quot;&quot;)</code>, dan salin lagi ke seluruh kolom. Sekarang di kolom C Anda memiliki daftar file tanpa file lrc (benar, ini juga akan menampilkan file dengan lrc tetapi tidak ada file mp3). </p>","votes":"0","source":"https://superuser.com/a/1631593","author":"<a href=\"https://superuser.com/users/149754/martin-argerami\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Martin Argerami</span></a>","replies":[]}]}
