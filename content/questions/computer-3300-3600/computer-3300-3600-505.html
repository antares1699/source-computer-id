{"title":"grepping substring dari hasil grep","draft":false,"url":"/grepping-substring-dari-hasil-grep-5w8xh0dm","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["grep","sed","awk"],"snippet":"Diberikan file log, saya biasanya akan melakukan sesuatu seperti ini:  grep 'marker-1234' filter_log  Apa perbedaan dalam menggunakan &#39;&#39; atau &quot;&quot; atau tidak sama sekali pada polanya?  Perintah grep di atas akan menghasilkan...","body":"<p> Diberikan file log, saya biasanya akan melakukan sesuatu seperti ini: </p> <pre><code>grep 'marker-1234' filter_log\n</code></pre> <p><em> Apa perbedaan dalam menggunakan &#39;&#39; atau &quot;&quot; atau tidak sama sekali pada polanya? </em></p>\n\n<p> Perintah grep di atas akan menghasilkan ribuan baris; apa yang saya inginkan. Di dalam baris tersebut, Biasanya ada satu bagian data yang saya cari. Terkadang, saya menggunakan awk untuk mencetak bidang yang saya cari. Dalam hal ini, format log berubah, saya tidak dapat mengandalkan posisi secara eksklusif, belum lagi, data yang dicatat sebenarnya dapat mendorong posisi ke depan. </p>\n\n<p> Untuk membuat ini dapat dimengerti, katakanlah baris log berisi alamat IP, dan hanya itu yang saya cari, jadi saya nanti bisa menyalurkannya untuk mengurutkan dan unik dan mendapatkan beberapa penghitungan penghitungan. </p>\n\n<p> Contohnya mungkin: </p> <pre><code>2010-04-08 some logged data, indetermineate chars - [marker-1234] (123.123.123.123) from: foo@bar.example.com to bar@foo.example.com [stat-xyz9876]\n</code></pre> <p> Perintah grep pertama akan memberi saya ribuan baris seperti di atas, dari sana, saya ingin menyalurkannya ke sesuatu, mungkin <code>sed</code>, yang dapat menarik pola di dalamnya, dan hanya mencetak polanya. </p>\n\n<p> Untuk contoh ini, menggunakan alamat IP sudah cukup. Saya mencoba. Apakah <code>sed</code> tidak dapat memahami [0-9] {1,3}. sebagai sebuah pola? Saya harus [0-9] [0-9] [0-9]. yang menghasilkan hasil yang aneh sampai seluruh pola dibuat. </p>\n\n<p><em> Ini tidak spesifik untuk alamat IP, polanya akan berubah, tapi saya bisa menggunakannya sebagai template pembelajaran. </em></p>\n\n<p> Terima kasih semua. </p>","source":"https://superuser.com/questions/129016/grepping-a-substring-from-a-grep-result","author":"<a href=\"https://superuser.com/users/17245/user17245\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user17245</span></a>","replies":[{"reply":"Ini terdengar sangat terkait dengan pemrograman, bahkan perintah bash sederhana seperti <i> grep </i> dan <i> awk </i> menurut saya lebih baik dijawab di stackoverflow.","author":"<a href=\"https://superuser.com/users/13241/josh-k\" target=\"_blank\" rel=\"nofollow noopener\">Josh K</a>"},{"reply":"@Josh: SU memiliki banyak prajurit baris perintah linux yang dapat menangani pertanyaan semacam ini, dan diterima di sini. ini mungkin salah satu pertanyaan yang sesuai di kedua situs, jadi terserah penanya.","author":"<a href=\"https://superuser.com/users/12786/quack-quixote\" target=\"_blank\" rel=\"nofollow noopener\">quack quixote</a>"},{"reply":"Saya memikirkannya, dan sejujurnya, saya tidak tahu di mana harus mempostingnya. Saya menggunakan nama situsnya, menganggap SO lebih umum, dan SU lebih merupakan jenis admin. Saya menemukan bahwa skrip shell paling cepat terkait dengan admin. Tentu, Anda masuk ke proyek eksklusif tcl atau bash besar karena satu dan lain alasan, dalam hal ini saya akan mempersempitnya ke pemrograman terkait dan memposting ke SO. Ini lebih dari satu liner&#39;ish, dan SU sepertinya rumah yang bagus. Maaf jika saya memposting di tempat yang salah, tetapi tampaknya area abu-abu dalam beberapa kasus.","author":"<a href=\"https://superuser.com/users/17245/user17245\" target=\"_blank\" rel=\"nofollow noopener\">user17245</a>"},{"reply":"@allentown: sebenarnya Kesalahan Server lebih bersifat admin; Pengguna Super lebih merupakan barang pengguna akhir. (tapi power-user end-user.) bagaimanapun, pertanyaan ini mungkin diterima di SO / SF / SU manapun. Anda sudah menerima jawaban, jadi jika Anda puas, Anda bisa menyebutnya selesai. atau jika Anda ingin kami dapat memigrasikannya ke SO / SF; tandai saja untuk perhatian moderator dan beri tahu kami ke mana harus mengirimkannya. Terima kasih!","author":"<a href=\"https://superuser.com/users/12786/quack-quixote\" target=\"_blank\" rel=\"nofollow noopener\">quack quixote</a>"},{"reply":"@quack: Tidak apa-apa, saya hanya berpikir bahwa jawaban yang lebih baik mungkin ditemukan di sana, namun tampaknya jawaban itu sudah ditemukan.","author":"<a href=\"https://superuser.com/users/13241/josh-k\" target=\"_blank\" rel=\"nofollow noopener\">Josh K</a>"}],"answers":[{"answer":"<p> Saya tidak tahu OS apa yang Anda gunakan, tetapi di FreeBSD 7.0+ grep memiliki opsi <code>-o</code> untuk hanya mengembalikan bagian yang cocok dengan polanya. Jadi kamu bisa <br> <code>grep \"marker-1234\" filter_log | grep -oE \"[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\"</code> </p>\n\n<p> Menampilkan daftar hanya alamat IP dari &#39;filter_log &quot;... </p>\n\n<p> Ini berfungsi di sistem saya, tetapi sekali lagi, saya tidak tahu apa yang didukung oleh versi grep Anda. </p>","votes":"6","source":"https://superuser.com/a/129035","author":"<a href=\"https://superuser.com/users/26262/chris-s\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Chris S</span></a>","replies":[{"reply":"Saya pikir semua jawaban di sini adalah cara terbaik untuk belajar dan mendekati hasil akhir dengan jawaban yang sama. Saya sangat suka yang ini karena mudah diingat dan hanya menyalurkan beberapa perintah grep. Di Mac OS X, saya sepertinya memiliki opsi -o, dan tentu saja menggunakan opsi -E sudah cukup sering. Terimakasih atas balasan anda","author":"<a href=\"https://superuser.com/users/17245/user17245\" target=\"_blank\" rel=\"nofollow noopener\">user17245</a>"}]},{"answer":"<p> Anda dapat melakukan semua ini hanya dalam satu perintah <code>awk</code>. Tidak perlu menggunakan alat lain </p> <pre><code>$ awk '/marker-1234/{for(o=1;o&lt;=NF;o++){if($o~/[0-9]+\\.[0-9]+\\.[0-9]+\\.[0-9]+/)print $o }  }' file\n(123.123.123.123)\n</code></pre>","votes":"3","source":"https://superuser.com/a/129037","author":"<a href=\"https://superuser.com/users/31894/user31894\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user31894</span></a>","replies":[{"reply":"Terima kasih, itu berhasil, awk kadang-kadang bisa melukai kepala Anda, tetapi saya terbiasa dengan untuk FOO .... satu aspek liner dari barang cepat di shell. Sangat kuat.","author":"<a href=\"https://superuser.com/users/17245/user17245\" target=\"_blank\" rel=\"nofollow noopener\">user17245</a>"}]},{"answer":"<p> Anda dapat mempersingkat <code>grep</code> kedua sedikit seperti ini: </p> <pre><code>grep -Eo '([0-9]{1,3}\\.){3}[0-9]{1,3}'\n</code></pre> <p> Untuk menjawab pertanyaan pertama Anda, tanda kutip ganda memungkinkan shell untuk melakukan berbagai hal seperti perluasan variabel, tetapi melindungi beberapa karakter meta agar tidak perlu di-escape. Tanda kutip tunggal mencegah shell melakukan ekspansi tersebut. Menggunakan tanpa tanda kutip akan membuat semuanya terbuka lebar. </p> <pre><code>$ empty=\"\"\n$ text1=\"some words\"\n$ grep $empty some_file\n(It seems to hang, but it's just waiting for input since it thinks \"some_file\" is \nthe pattern and no filename was entered, so it thinks input is supposed to come\nfrom standard input. Press Ctrl-d to end it.)\n$ grep \"$empty\" some_file\n(The whole file is shown since a null pattern matches everything.)\n$ grep $text1 some_file\ngrep: words: No such file or directory\nsome_file:something\nsome_file:some words\n(It sees the contents of the variable as two words, the first is seen as the \npattern, the second as one file and the filename as a second file.)\n$ grep \"$text1\" some_file\nsome_file:some words\n(Expected results.)\n$ grep '$text1' some_file\n(No results. The variable isn't expanded and the file doesn't contain a\nstring that consists of literally those characters (a dollar sign followed\nby \"text1\"))\n</code></pre> <p> Anda dapat mempelajari lebih lanjut di bagian &quot;QUOTING&quot; dari <a href=\"http://tiswww.case.edu/php/chet/bash/bash.html\" rel=\"nofollow noopener\" target=\"_blank\"> <code>man bash</code> </a></p>","votes":"2","source":"https://superuser.com/a/129066","author":"<a href=\"https://superuser.com/users/310/dennis-williamson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dennis Williamson</span></a>","replies":[{"reply":"Tulisan yang bagus, terima kasih. Saya perlu mendapatkan pegangan yang lebih baik tentang ini dengan regad ke IFS juga, saya cukup menutup telepon pada hari itu, tetapi berhasil membuat IFS bermain bagus. Ini adalah hal yang mengerikan ketika Anda telah mengatur IFS dan melupakannya, heran wtf terjadi selama satu jam.","author":"<a href=\"https://superuser.com/users/17245/user17245\" target=\"_blank\" rel=\"nofollow noopener\">user17245</a>"},{"reply":"Sebaiknya biasakan untuk selalu menyimpan nilai <code>IFS</code> dan memulihkannya sesegera mungkin: <code>saveIFS=&quot;$IFS&quot;; IFS=&quot;,&quot;; do_something; IFS=&quot;$saveIFS&quot;; do_other_stuff</code>","author":"<a href=\"https://superuser.com/users/310/dennis-williamson\" target=\"_blank\" rel=\"nofollow noopener\">Dennis Williamson</a>"},{"reply":"+1 Panggilan yang bagus di regex, saya jarang menggunakannya, jadi saya cenderung sedikit tidak efisien.","author":"<a href=\"https://superuser.com/users/26262/chris-s\" target=\"_blank\" rel=\"nofollow noopener\">Chris S</a>"}]},{"answer":"<p> Cari perintah <code>xargs</code>. Anda harus bisa melakukan sesuatu seperti: </p>\n\n<blockquote>\n  <p> grep &#39;marker-1234&#39; filter_log | xargs grep &quot;(&quot; | cut -c1-15 </p>\n</blockquote>\n\n<p> Ini mungkin tidak persis sama, tetapi <code>xargs</code> adalah perintah yang ingin Anda gunakan </p>","votes":"1","source":"https://superuser.com/a/129022","author":"<a href=\"https://superuser.com/users/33678/jennifer\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jennifer</span></a>","replies":[]}]}
