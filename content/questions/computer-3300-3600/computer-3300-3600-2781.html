{"title":"Menonaktifkan syslogd di FreeBSD","draft":false,"url":"/menonaktifkan-syslogd-di-freebsd-2xc0foj4","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["freebsd","daemon","syslogd"],"snippet":"Saya menjalankan FreeBSD di VM yang sangat kecil dengan ruang sekitar 1,5G. Saya ingin menonaktifkan syslogd untuk menghemat ruang disk, tetapi tidak ada entri untuk itu di /etc/rc.conf. service -e menunjukkan bahwa...","body":"<p> Saya menjalankan FreeBSD di VM yang sangat kecil dengan ruang sekitar 1,5G. Saya ingin menonaktifkan <code>syslogd</code> untuk menghemat ruang disk, tetapi tidak ada entri untuk itu di <code>/etc/rc.conf</code>. <code>service -e</code> menunjukkan bahwa <code>syslogd</code> memang sedang berjalan. Bagaimana cara menonaktifkan / menghapus instalannya? </p>","source":"https://superuser.com/questions/626305/disabling-syslogd-in-freebsd","author":"<a href=\"https://superuser.com/users/219579/lily-hahn\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Lily Hahn</span></a>","replies":[],"answers":[{"answer":"<p> Hentikan daemon: </p> <pre><code>/etc/rc.d/syslogd stop\n</code></pre> <p> Tambahkan baris ke <code>/etc/rc.conf</code>: </p> <pre><code>syslogd_enable=\"NO\"\n</code></pre>","votes":"3","source":"https://superuser.com/a/626314","author":"<a href=\"https://superuser.com/users/114767/igor-hatarist\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Igor Hatarist</span></a>","replies":[]},{"answer":"<p> Tambahkan baris ke <code>/etc/rc.conf</code>: </p>\n\n<blockquote>\n  <p> syslogd_enable = &quot;TIDAK&quot; </p>\n</blockquote>\n\n<p> Hentikan daemon: </p>\n\n<blockquote>\n  <p> /etc/rc.d/syslogd stop </p>\n</blockquote>\n\n<p> Namun, saya tidak akan merekomendasikan menghentikan syslogd. Saya sarankan alih-alih mengedit ukuran dan frekuensi rotasi log Anda dengan mengedit file konfigurasi <code>/etc/newsyslog.conf</code> Anda. Ini sangat bisa dimodifikasi. Anda dapat mengomentari layanan yang tidak ingin Anda ikuti dengan <code>#</code> di depan baris, atau modifikasi: </p>\n\n<ul>\n<li> <code>count</code> untuk jumlah arsip file maksimal </li>\n<li> <code>size</code> untuk ukuran setiap arsip </li>\n<li> <code>when</code> untuk saat Anda ingin memutar </li>\n</ul>\n\n<p> Ada banyak opsi yang menurut saya bisa sesuai dengan situasi Anda. Misalnya, jika Anda hanya ingin menyimpan ukuran kb maks untuk log Anda, Anda dapat melakukannya. Tentunya Anda dapat menyisihkan beberapa kb untuk log :-P Baca <code>man newsyslog.conf</code> untuk detail lebih lanjut tentang merawat ukuran sistem log yang Anda inginkan. </p>","votes":"2","source":"https://superuser.com/a/626408","author":"<a href=\"https://superuser.com/users/100618/ehevutov\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">EhevuTov</span></a>","replies":[]},{"answer":"<p> Jawaban Igor bagus, tetapi saya ingin mengembangkannya untuk tamu mesin pencari saat ini dan di masa mendatang. Untuk <strong> sama sekali </strong> nonaktifkan syslogd, perlu sedikit lagi: </p>\n\n<h2 class=\"h4\"> Nonaktifkan syslogd sepenuhnya </h2>\n\n<h3 class=\"h5\"> hentikan syslogd </h3>\n\n<p> <code>service syslogd onestop</code> </p>\n\n<ul>\n<li> Menggunakan perintah <code>service</code> yang telah ada sejak FreeBSD 7.3 (2012). Ia bekerja untuk layanan di /etc/rc.d serta /usr/local/etc/rc.d dan lebih ramah jari. </li>\n<li> Menggunakan <code>onestop</code> alih-alih <code>stop</code> akan menghentikan syslogd bahkan jika perintah ini rusak. </li>\n</ul>\n\n<h3 class=\"h5\"> nonaktifkan syslogd </h3>\n\n<p> <code>sysrc syslogd_enable=NO</code> </p>\n\n<p> Perintah itu melakukan persis seperti yang diinstruksikan Igor dan menambahkan baris ke /etc/rc.conf yang mencegah syslogd dimulai di masa mendatang. Sysrc muncul di FreeBSD 9.2 (2015). Sebelumnya, hal yang sama biasanya dilakukan dengan <code>echo syslogd_enable=NO &gt;&gt; /etc/rc.conf</code>. </p>\n\n<h3 class=\"h5\"> nonaktifkan newsyslog saat boot </h3>\n\n<p> <code>sysrc newsyslog_enable=NO</code> </p>\n\n<p> Perintah ini mencegah <code>newsyslog</code> berjalan pada saat boot. </p>\n\n<h3 class=\"h5\"> nonaktifkan newsyslog saat dijalankan </h3>\n\n<p> <code>sed -i .bak -e '/^0.*newsyslog/ s/^0/#0/' /etc/crontab</code> </p>\n\n<p> Perintah sed ini mencari baris yang dimulai dengan 0 dan berisi kata newsyslog. Kemudian itu memasukkan # di depan nol, menonaktifkan tugas cron newsyslog. Sekarang Anda tidak akan menerima email sial dari cron yang mengeluh bahwa: </p>\n\n<blockquote>\n  <p> newsyslog: file pid tidak ada: /var/run/syslog.pid </p>\n</blockquote>\n\n<hr>\n\n<h2 class=\"h4\"> Apakah menonaktifkan syslogd merupakan ide yang bagus? </h2>\n\n<p> EhevuTov membuat poin yang sangat bagus bahwa menonaktifkan syslogd untuk menghemat ruang disk mungkin bukan alasan terbaik. Namun, ada beberapa alasan bagus mengapa seseorang mungkin ingin menonaktifkan syslogd. </p>\n\n<ol>\n<li> Menjalankan FreeBSD di jail dengan proses yang menangani pencatatannya sendiri (squid, nginx, dll.). Jika tidak ada di jail yang menggunakan syslogd, tidak ada gunanya menjalankannya. </li>\n<li> Menjalankan ribuan jail pada host FreeBSD mungkin membuat arsitektur syslog yang berbeda lebih waras (meletakkan soket log ke setiap jail (lihat syslogd -l)). </li>\n<li> Nomor 2 berlaku bahkan untuk segelintir penjara ketika penebangan terpusat diinginkan. Ini menghindari kebutuhan setiap jail yang dikonfigurasi dengan sintaks <code>@host</code> untuk penerusan. </li>\n<li> Angka 2 &amp; 3 adalah <em> terutama </em> signifikan jika Anda juga merutekan semua log ke sistem eksternal untuk pengindeksan dan pengarsipan. Penerusan syslog akhirnya membuat kasus penggunaan tersebut menjadi lebih rumit. </li>\n<li> Menggunakan daemon syslog yang berbeda. Jika menggunakan daemon syslog alternatif, ada kemungkinan besar Anda menginginkan syslog saham FreeBSD beserta semua asumsi dan ekspektasinya. <strong> sama sekali </strong> dengan disabilitas. </li>\n</ol>","votes":"2","source":"https://superuser.com/a/1019624","author":"<a href=\"https://superuser.com/users/212224/matt-simerson\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Matt Simerson</span></a>","replies":[]}]}
