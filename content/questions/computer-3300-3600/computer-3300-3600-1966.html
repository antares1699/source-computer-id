{"title":"Bagaimana cara memulai / menghentikan Layanan Windows melalui skrip bash Linux?","draft":false,"url":"/bagaimana-cara-memulai-menghentikan-layanan-windows-melalui-skrip-bash-linux-iehlbl9u","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["windows","ssh","batch","powershell"],"snippet":"Saya ingin membuat skrip yang akan dimulai melalui server SSH untuk memulai / menghentikan layanan Windows. Pengguna SSH adalah bagian dari grup Administrator. Namun, ketika saya menjalankan skrip, saya mendapatkan pesan kesalahan...","body":"<p> Saya ingin membuat skrip yang akan dimulai melalui server SSH untuk memulai / menghentikan layanan Windows. Pengguna SSH adalah bagian dari grup Administrator. Namun, ketika saya menjalankan skrip, saya mendapatkan pesan kesalahan yang menyatakan bahwa layanan tidak dapat dimulai. </p>\n\n<p> Bagaimana cara memastikan bahwa skrip saya dimulai dengan hak istimewa Admin? Saya telah melakukan skrip serupa di Linux menggunakan <code>sudo service myservice start/stop</code>. Saya mencari yang setara di Windows, jika hal seperti itu ada. </p>\n\n<p> Shell ps1 saya terlihat seperti ini: </p> <pre><code>function start() { Start-Service MyService // verify service started here }\n\nfunction stop() { Stop-Service MyService // verify service stopped }\n\nfunction status() { // Return Running/Stopped for MyService }\n</code></pre>","source":"https://superuser.com/questions/656654/how-can-i-start-stop-a-windows-service-through-a-linux-bash-script","author":"<a href=\"https://superuser.com/users/261144/byob\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Byob</span></a>","replies":[{"reply":"tidak yakin bagaimana Anda akan melakukannya dari Linux dan SSH ... menjadikan pengguna sebagai admin tidaklah cukup, lingkungan juga perlu ditingkatkan. Misalnya, hanya membuka prompt perintah dan mengetik net start &lt;service&gt; tidak akan berfungsi, karena prompt perintah perlu dijalankan sebagai administrator.","author":"<a href=\"https://superuser.com/users/94133/keltari\" target=\"_blank\" rel=\"nofollow noopener\">Keltari</a>"},{"reply":"Terima kasih atas balasan Anda! Saya melihat ke dalam menggunakan wmi API, tetapi saya menahannya karena itu membutuhkan perangkat lunak baru ke lingkungan, yang merupakan proses yang rumit ... Apa yang akhirnya saya gunakan adalah membuat pengguna khusus yang memiliki izin untuk memulai / menghentikan aplikasi saya. layanan yang ditargetkan. Adapun konektivitas SSH antara Windows / Linux, saya menginstal server ssh Windows dan menggunakan otentikasi kunci publik untuk memungkinkan pengguna saya masuk melalui skrip linux.","author":"<a href=\"https://superuser.com/users/261144/byob\" target=\"_blank\" rel=\"nofollow noopener\">Byob</a>"},{"reply":"Hanya untuk memperjelas: Kontrol layanan dilakukan melalui Windows Batch menggunakan &#39;sc &lt;query | mulai | stop&gt; MyServiceName &#39;","author":"<a href=\"https://superuser.com/users/261144/byob\" target=\"_blank\" rel=\"nofollow noopener\">Byob</a>"}],"answers":[{"answer":"<p> Saya akan meminta skrip SSH memulai skrip PowerShell. Powershell dapat meningkatkan dirinya sendiri dan kemudian memulai menghentikan layanan, dan memeriksa statusnya. </p>\n\n<p> Beberapa kode palsu: </p> <pre><code>ssh user@server powershell.bat\n</code></pre> <p> Di mana powershell.bat memiliki semua kode yang diperlukan untuk melakukan apa yang Anda inginkan dengan layanan. </p>","votes":"3","source":"https://superuser.com/a/656685","author":"<a href=\"https://superuser.com/users/239981/tbenz9\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">tbenz9</span></a>","replies":[{"reply":"Hai Byob, jika jawaban ini benar, terimalah sebagai jawaban yang benar sehingga ditandai sebagai terselesaikan.","author":"<a href=\"https://superuser.com/users/239981/tbenz9\" target=\"_blank\" rel=\"nofollow noopener\">tbenz9</a>"}]},{"answer":"<p> Saya tahu Anda ingin menggunakan bash / ssh tetapi cara termudah menurut pengalaman saya untuk mengelola Windows dari kotak Linux adalah dengan Python dan WMI </p>\n\n<p><a href=\"http://timgolden.me.uk/python/wmi/index.html\" rel=\"nofollow noopener\" target=\"_blank\"> http://timgolden.me.uk/python/wmi/index.html </a></p>\n\n<p><a href=\"http://timgolden.me.uk/python/wmi/cookbook.html\" rel=\"nofollow noopener\" target=\"_blank\"> http://timgolden.me.uk/python/wmi/cookbook.html </a></p>\n\n<p><a href=\"http://timgolden.me.uk/python/wmi/tutorial.html\" rel=\"nofollow noopener\" target=\"_blank\"> http://timgolden.me.uk/python/wmi/tutorial.html </a></p> <pre><code>import wmi\n\n# Open a connection to a remote machine\nc = wmi.WMI (\ncomputer=\"other_machine\",\nuser=\"you\",\npassword=\"something\"\n)\n\n# start the service\nc.&lt;service&gt;.StartService ()\n</code></pre> <p> Ini akan menjadi cara termudah yang saya tahu jika Anda tidak memerlukan BASH / SSH, jika Anda perlu menggunakan SSH, itu akan menjadi lebih rumit karena sekarang Anda akan membutuhkan Python dan WMI yang diinstal pada mesin apa pun yang Anda inginkan untuk menjalankan ini dalam hal ini Anda mungkin ingin menggunakan bahasa yang sudah diinstal di setiap mesin (VBScript, Powershell, dll). Metode ini juga mengasumsikan Anda memiliki layanan WMI yang diaktifkan di kotak Windows yang tidak disukai oleh beberapa admin. </p>\n\n<p> Kotak Linux sangat bagus untuk mengelola lingkungan campuran tetapi pastikan Anda menggunakan alat yang tepat untuk pekerjaan itu, pisau saku akan menebang pohon tetapi gergaji dibuat untuk menebang pohon. </p>","votes":"4","source":"https://superuser.com/a/656692","author":"<a href=\"https://superuser.com/users/66266/matty\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Matty</span></a>","replies":[{"reply":"&quot;Pisau saku akan menebang pohon tetapi gergaji dibuat untuk menebang pohon&quot; - Sangat setuju -","author":"<a href=\"https://superuser.com/users/261144/byob\" target=\"_blank\" rel=\"nofollow noopener\">Byob</a>"}]},{"answer":"<p> mulai = <code>net rpc service start SERVICENAME -I IPADDRESS -U USERNAME%PASSWORD</code> </p>\n\n<p> berhenti = <code>net rpc service stop SERVICENAME -I IPADDRESS -U USERNAME%PASSWORD</code> </p>\n\n<p> status = <code>net rpc service status SERVICENAME -I IPADDRESS -U USERNAME%PASSWORD</code> </p>\n\n<p> Jika kata sandi Anda berisi kata sandi khusus, tinggalkan mereka dengan garis miring terbalik <code>\\</code>. </p>","votes":"1","source":"https://superuser.com/a/1062492","author":"<a href=\"https://superuser.com/users/580073/deadly\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Deadly</span></a>","replies":[{"reply":"&quot;Jika kata sandi kosong, apa yang harus saya lakukan untuk menulis?&quot; Komentar oleh pengguna anonim.","author":"<a href=\"https://superuser.com/users/257269/hastur\" target=\"_blank\" rel=\"nofollow noopener\">Hastur</a>"}]}]}
