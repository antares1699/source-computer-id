{"title":"Mengapa &#39;dd&#39; menghasilkan file yang berbeda untuk stik USB yang sama?","draft":false,"url":"/mengapa-39dd39-menghasilkan-file-yang-berbeda-untuk-stik-usb-yang-sama-ynmm2alb","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","usb","mount","dd"],"snippet":"Saya baru saja menyimpan pemulihan untuk  Windows 8.1  ke stik USB; sekarang, saya telah membuat file  level rendah  salin di HDD saya, dengan menjalankan perintah berikut:  sudo dd if=/dev/sdf of=/disk2/Archive/windows8.1-restore.img bs=4M oflag=direct...","body":"<p> Saya baru saja menyimpan pemulihan untuk <em> Windows 8.1 </em> ke stik USB; sekarang, saya telah membuat file <em> level rendah </em> salin di HDD saya, dengan menjalankan perintah berikut: </p> <pre>\nsudo dd if=/dev/sdf of=/disk2/Archive/windows8.1-restore.img bs=4M oflag=direct\n</pre> <p> Saya ingin memeriksa ulang apakah perintah &#39;dd&#39; saya baik-baik saja, jadi saya telah menjalankannya ulang dua kali, menentukan <code>bs=8M</code> dan <code>bs=16M</code>; Saya sudah memeriksa ukurannya dan itu persis sama, tapi <em> md5sum </em> memberikan hasil yang berbeda untuk ketiga file tersebut: </p> <pre>\nc38a2b07b3d473d3f1876331edc2647b  windows8.1-restore.img.4M\n568e382844431eef63d4ba6dc4c2c5ac  windows8.1-restore.img.8M\n568e382844431eef63d4ba6dc4c2c5ac  windows8.1-restore.img.16M\n</pre> <p> Saya yakin saya punya <em> lepas </em> stik USB untuk kedua dan ketiga kalinya. </p>\n\n<p> Haruskah saya khawatir tentang apa pun? </p>\n\n<p><strong> edit </strong></p>\n\n<p> Ukuran file total adalah <code>31024349184</code> byte dalam semua kasus, pemahaman saya tentang <code>bs=xxx</code> adalah hanya mengontrol kecepatan jika ada yang mau <em> membuang </em> seluruh sitck / drive USB. </p>","source":"https://superuser.com/questions/872248/why-does-dd-produce-different-files-for-same-usb-stick","author":"<a href=\"https://superuser.com/users/104229/emanuele\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Emanuele</span></a>","replies":[{"reply":"Apakah tongkat dilepas saat Anda menjalankan <code>dd</code> dengan <code>bs=4M</code>?","author":"<a href=\"https://superuser.com/users/194694/gronostaj\" target=\"_blank\" rel=\"nofollow noopener\">gronostaj</a>"},{"reply":"Nggak. Saya kira saya harus melakukannya, bukan?","author":"<a href=\"https://superuser.com/users/104229/emanuele\" target=\"_blank\" rel=\"nofollow noopener\">Emanuele</a>"},{"reply":"Benar, Anda harus melepasnya. (Atau, mungkin dipasang hanya-baca.) Saya juga tidak yakin dari mana Anda mendapatkan ukuran blok Anda. Saya akan menggunakan bs = 512. Saya hampir selalu menggunakan bs = 512 kecuali saat menggunakan drive CD karena mereka mungkin menginginkan ukuran blok yang berbeda (seperti bs = 2048, atau mungkin bs = 2352 atau ukuran blok apa pun yang digunakan, seperti dicatat oleh &lt;A HREF = &quot; <a href=\"http://www.osta.org/technology/cdqa7.htm%22>CD\" rel=\"nofollow noopener\" target=\"_blank\"> osta.org/technology/cdqa7.htm&quot;&gt;CD </a> ukuran blok &lt;/A&gt;).","author":"<a href=\"https://superuser.com/users/401839/toogam\" target=\"_blank\" rel=\"nofollow noopener\">TOOGAM</a>"},{"reply":"@TOOGAM Ini <a href=\"https://superuser.com/help/formatting\" target=\"_blank\" rel=\"nofollow noopener\"> cara membuat tautan </a> .","author":"<a href=\"https://superuser.com/users/194694/gronostaj\" target=\"_blank\" rel=\"nofollow noopener\">gronostaj</a>"},{"reply":"@ TOOGAM Bukankah <code>bs=xxx</code> hanya menentukan kecepatan saja? Pada akhirnya, seharusnya tidak ada bedanya, bukan? Saya berharap jika blok terakhir kurang dari <code>xxx</code>, akan dipotong <i> secara otomatis </i> . Apakah aku salah?","author":"<a href=\"https://superuser.com/users/104229/emanuele\" target=\"_blank\" rel=\"nofollow noopener\">Emanuele</a>"},{"reply":"@Emanuele Saya tidak berpikir Anda salah. Ukuran blok kecil dengan <code>dd</code> diketahui mematikan kinerja karena memaksa lebih banyak panggilan baca dan tulis daripada yang diperlukan. Saya yakin gronostaj benar, masalah Anda adalah Anda memasang disk dengan sistem file terpasang. <i> Dengan asumsi Anda belum memasang kembali sistem file sejak itu, </i> Anda harus dapat memverifikasi ini dengan menjalankan kembali perintah dd awal Anda; Anda akan melihat MD5sum yang identik dari permintaan itu juga.","author":"<a href=\"https://superuser.com/users/53590/user\" target=\"_blank\" rel=\"nofollow noopener\">user</a>"},{"reply":"1). <a href=\"http://www.osta.org/technology/cdqa7.htm\" rel=\"nofollow noopener\" target=\"_blank\"> osta.org/technology/cdqa7.htm </a> = tautan di atas, dikoreksi.","author":"<a href=\"https://superuser.com/users/161591/matthew-elvey\" target=\"_blank\" rel=\"nofollow noopener\">Matthew Elvey</a>"},{"reply":"2) Saya baru saja mengalami masalah di mana bs = 4k / 16k / 64k / 200k menghasilkan file dengan checksum berbeda tetapi ukuran yang sama. (Ini adalah salinan dari file .dmg yang IIRC, tidak terbuka, dan saya yakin hanya baca; akan memeriksa.). Saya mencari melalui SE sebelum memposting pertanyaan; Saya bingung ...","author":"<a href=\"https://superuser.com/users/161591/matthew-elvey\" target=\"_blank\" rel=\"nofollow noopener\">Matthew Elvey</a>"}],"answers":[{"answer":"<p> Menulis data dalam jumlah kecil ke drive itu lambat, jadi buffer sistem menulis untuk mengkomit semuanya sekaligus nanti. Ketika buffer berisi cukup data untuk operasi tulis yang efisien atau ketika beberapa proses digunakan <a href=\"http://linux.die.net/man/2/sync\" rel=\"nofollow noopener\" target=\"_blank\"> <code>sync</code> panggilan sistem </a> , buffer di-flush ke perangkat. </p>\n\n<p> <code>dd</code> melakukan penyalinan tingkat rendah, yaitu. itu membaca data yang secara fisik ada di perangkat. Itu tidak memperhitungkan buffer. </p>\n\n<p> Jika drive dipasang saat Anda menjalankan <code>dd bs=4M</code>, maka ada kemungkinan bahwa beberapa penulisan sudah di-buffer, tetapi tidak dikomit. Anda telah membuang pengandar tanpa perubahan buffer. </p>\n\n<p> <code>umount</code> memanggil <code>sync</code> secara internal untuk memastikan integritas data. Perangkat yang di-unmount biasanya tidak diakses kecuali Anda secara eksplisit meminta beberapa proses untuk melakukannya, jadi drive tidak mungkin berubah setelah unmount. </p>\n\n<p> Kemudian Anda menjalankan <code>dd</code> dua kali pada drive tanpa memasangnya di antaranya. Itulah mengapa panggilan <code>bs=8M</code> dan <code>bs=16M</code> memberikan hasil yang sama. </p>\n\n<p> Drive dimodifikasi antara panggilan <code>bs=4M</code> dan <code>bs=8M</code>, jadi dump pertama berbeda. <code>bs=</code> tidak masalah, menelepon <code>umount</code> tidak masalah. </p>\n\n<p> Anda harus selalu melepas perangkat sebelum menggunakan <code>dd</code> di dalamnya, jika tidak, beberapa proses lain dapat mengubah kontennya saat <code>dd</code> sedang melakukan tugasnya dan merusak integritas file. </p>","votes":"8","source":"https://superuser.com/a/872254","author":"<a href=\"https://superuser.com/users/194694/gronostaj\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">gronostaj</span></a>","replies":[{"reply":"Saya pikir saya telah sedikit idiot dalam memilikinya <i> terpasang </i> pertama kali ketika saya mengeksekusi <code>dd</code>. Saya rasa saya akan menyimpan file yang diambil dengan perangkat <i> lepas </i> . Mengerikan!","author":"<a href=\"https://superuser.com/users/104229/emanuele\" target=\"_blank\" rel=\"nofollow noopener\">Emanuele</a>"}]}]}
