{"title":"Kebocoran Memori Windows 10","draft":false,"url":"/kebocoran-memori-windows-10-kpxkfpxp","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["windows-10","memory","memory-leaks"],"snippet":"Saya mengalami masalah kebocoran memori dengan Windows 10 selama sekitar satu tahun sekarang, tetapi saya benar-benar ingin memperbaikinya sekarang karena ini berdampak cukup besar pada pekerjaan saya.  Seperti yang Anda lihat dari...","body":"<p> Saya mengalami masalah kebocoran memori dengan Windows 10 selama sekitar satu tahun sekarang, tetapi saya benar-benar ingin memperbaikinya sekarang karena ini berdampak cukup besar pada pekerjaan saya. </p>\n\n<p> Seperti yang Anda lihat dari gambar di bawah, saya memiliki RAM 8GB. 92% sedang digunakan, meskipun aplikasinya tidak melebihi 1GB. </p>\n\n<p> Saya memutakhirkan dari Windows 7 Pro 64-bit ke Windows 10 tahun lalu. </p>\n\n<p> Minta detail lebih lanjut, saya tidak tahu harus memberikan apa lagi. Saya bingung apa yang menyebabkan ini. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ADpOa.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/ADpOa.png\" alt=\"Details\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>","source":"https://superuser.com/questions/1160406/windows-10-memory-leak","author":"<a href=\"https://superuser.com/users/473722/shyy-guy\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Shyy Guy</span></a>","replies":[{"reply":"Sudahkah Anda mencoba langkah saya untuk melihat apa yang menyebabkan penggunaan memori Anda?","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"Maaf, belum. Saya harus menunggu hingga saya dapat mengunduh perangkat lunak yang diperlukan karena data saya dibatasi. Saya akan menandai jawaban Anda sebagai jawaban yang benar, karena saya yakin ini akan bekerja dengan baik.","author":"<a href=\"https://superuser.com/users/473722/shyy-guy\" target=\"_blank\" rel=\"nofollow noopener\">Shyy Guy</a>"},{"reply":"Kemungkinan duplikat dari <a href=\"http://superuser.com/questions/1150227/windows-10-memory-leaking\" target=\"_blank\" rel=\"nofollow noopener\"> Memori Windows 10 bocor </a>","author":"<a href=\"https://superuser.com/users/676913/danholli\" target=\"_blank\" rel=\"nofollow noopener\">DanHolli</a>"},{"reply":"Saya telah memperbarui jawaban saya untuk melacak penggunaan pool","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"perubahan apapun? sudahkah Anda menambah tumpukan 4 tag? apakah kamu melihat sesuatu yang berguna? jika tidak, zip ETL dan bagikan (tautan berbagi onedrive) zip","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"}],"answers":[{"answer":"<p> 1 bagian besar dari penggunaan memori tinggi Anda (2GB) berasal dari yang tinggi <a href=\"https://en.wikipedia.org/wiki/Page_table\" rel=\"nofollow noopener\" target=\"_blank\"> Tabel halaman </a> pemakaian. </p>\n\n<p><a href=\"https://i.stack.imgur.com/z3Y8q.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/z3Y8q.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Untuk melihat proses mana yang menggunakannya, instal <code>Windows Performance Toolkit</code> which <a href=\"https://developer.microsoft.com/en-us/windows/downloads/windows-10-sdk\" rel=\"nofollow noopener\" target=\"_blank\"> adalah bagian dari Windows 10 SDK </a> , buka prompt perintah sebagai admin dan jalankan perintah ini: </p> <pre><code>wpr.exe -start ReferenceSet -filemode &amp;&amp; timeout 5 &amp;&amp; wpr.exe -stop C:\\MemUsage.etl\n</code></pre> <p> Buka <code>MemUsage.etl</code> dengan Windows Performance Analyzer (WPA.exe), perluas entri memori </p>\n\n<p><a href=\"https://i.stack.imgur.com/eqBtO.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/eqBtO.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> seret dan lepas grafik <code>ResidentSet</code> dari daftar grafik kiri ke panel analisis: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZMH5q.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/ZMH5q.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Sekarang pindahkan kolom <code>Page Category</code> ke sisi kiri dan perluas entri <code>Page Table</code>: </p>\n\n<p><a href=\"https://i.stack.imgur.com/wORsn.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/wORsn.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Di sini Anda melihat proses yang memiliki penggunaan pagetable tinggi. Di situs kanan (setelah garis biru), Anda melihat penggunaan memori tabel halaman dalam MB untuk setiap proses. </p>\n\n<p> Juga penggunaan kumpulan halaman gabungan (non-) hampir 2GB. </p>\n\n<p><a href=\"https://go.microsoft.com/fwlink/p/?LinkId=526733\" rel=\"nofollow noopener\" target=\"_blank\"> Instal WDK </a> , Jalankan <code>poolmon</code> (<code>C:\\Program Files (x86)\\Windows Kits\\10\\Tools\\x64\\poolmon.exe</code>), urutkan data melalui <kbd> P. </kbd> setelah tipe pool sehingga non paged / next time paged ada di atas dan via <kbd> B </kbd> setelah byte untuk melihat tag yang menggunakan sebagian besar memori. </p>\n\n<p> Sekarang lihat pooltag mana yang paling banyak menggunakan memori seperti yang ditunjukkan di sini: </p>\n\n<p><img src=\"https://i.stack.imgur.com/ytOc8.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>\n\n<p> Sekarang buka prompt cmd dan jalankan perintah findstr. Untuk melakukan ini, buka prompt cmd dan ketik &quot;cd C: \\ Windows \\ System32 \\ drivers&quot;, tanpa tanda kutip. Kemudian ketik &quot;findstr / s __ <em> . </em> &quot;, di mana __ adalah tag (nama paling kiri di poolmon).\nLakukan ini untuk melihat driver mana yang menggunakan tag ini: </p>\n\n<p><img src=\"https://i.stack.imgur.com/owBlO.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></p>\n\n<p> Sekarang, masuk ke folder driver (<code>C:\\Windows\\System32\\drivers</code>) dan klik kanan driver yang dimaksud (<code>intmsd.sys</code> pada contoh gambar di atas). Klik Properties, pergi ke tab <code>details</code> untuk menemukan Nama Produk. Cari pembaruan untuk produk itu. </p>\n\n<p> Memperbaiki kedua masalah bisa mendapatkan kembali hampir 4GB. </p>\n\n<p> Berdasarkan tangkapan layar Anda di stackoverflow, 4 tag (VoSM, FILE, Ntfx dan Proc) yang termasuk dalam fungsi Windows. </p>\n\n<p> Salin / tempel teks ini ke file txt baru dan ganti namanya menjadi <code>PoolTagLeak.wprp</code> </p> <pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;WindowsPerformanceRecorder Version=\"1.0\" Author=\"MagicAndre1981\" Copyright=\"MagicAndre1981\" Company=\"MagicAndre1981\"&gt;\n  &lt;Profiles&gt;\n    &lt;SystemCollector Id=\"SystemCollector\" Name=\"NT Kernel Logger\"&gt;\n      &lt;BufferSize Value=\"1024\" /&gt;\n      &lt;Buffers Value=\"1024\" /&gt;\n    &lt;/SystemCollector&gt;\n    &lt;SystemProvider Id=\"SystemProvider\"&gt;\n      &lt;Keywords&gt;\n        &lt;Keyword Value=\"Pool\" /&gt;\n      &lt;/Keywords&gt;\n      &lt;Stacks&gt;\n        &lt;Stack Value=\"PoolAllocation\" /&gt;\n        &lt;Stack Value=\"PoolAllocationSession\" /&gt;\n      &lt;/Stacks&gt;\n      &lt;PoolTags&gt;\n        &lt;PoolTag Value=\"VoSM\"/&gt;\n        &lt;PoolTag Value=\"File\"/&gt;\n        &lt;PoolTag Value=\"Ntfx\"/&gt;\n        &lt;PoolTag Value=\"Proc\"/&gt;\n      &lt;/PoolTags&gt;\n    &lt;/SystemProvider&gt;\n    &lt;Profile Id=\"PoolUsage.Verbose.File\" Name=\"PoolUsage\" Description=\"Pool usage Tag 'Leak' \" LoggingMode=\"File\" DetailLevel=\"Verbose\"&gt;\n      &lt;Collectors&gt;\n        &lt;SystemCollectorId Value=\"SystemCollector\"&gt;\n          &lt;SystemProviderId Value=\"SystemProvider\" /&gt;\n        &lt;/SystemCollectorId&gt;\n      &lt;/Collectors&gt;\n    &lt;/Profile&gt;\n    &lt;Profile Id=\"PoolUsage.Verbose.Memory\" Name=\"PoolUsage\" Description=\"Pool usage Tag 'Leak'\" Base=\"PoolUsage.Verbose.File\" LoggingMode=\"Memory\" DetailLevel=\"Verbose\" /&gt;\n  &lt;/Profiles&gt;\n&lt;/WindowsPerformanceRecorder&gt;\n</code></pre> <p> Sekarang jalankan <code>wpr.exe -start C:\\PoolTagLeak.wprp &amp;&amp; timeout 600 &amp;&amp; wpr.exe -stop C:\\PoolusageUsage.etl</code> dan coba repro penggunaan bertambah. </p>\n\n<p> Seret &amp; Jatuhkan <code>Pool Graph</code> ke panel analisis, urutkan kolom ke <code>Type</code>, <code>Pooltag</code>, <code>Stack</code>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/kGkCc.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/kGkCc.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Sekarang masuk ke AIFO (dialokasikan di dalam, dibebaskan di luar, jadi ini kemungkinan bocor), temukan 4 tag Anda dan perluas tumpukan untuk melihat fungsi mana yang menggunakan tag ini. Berdasarkan nama fungsi, Anda dapat melihat &quot;penyebab&quot;. Dalam demo saya, tag (Thread) <code>Thre</code> digunakan oleh AVKCl.exe dari G-Data karena memulai banyak utas. Cari pembaruan driver / program untuk memperbaikinya. </p>","votes":"10","source":"https://superuser.com/a/1160640","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">magicandre1981</span></a>","replies":[{"reply":"@ShyyGuy di win10, ReferenceSet berfungsi, Anda menggunakan versi WPT lama","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"@ magicandre1983, melakukannya. Nilai tertinggi adalah EtwB pada 1023MB, File pada 79MB, VoSm pada 36MB, Proc pada 12MB, dll. Untuk EtwB, ini memberi saya N / A di bawah kolom stack. Saya mencoba mencarinya di folder driver, tetapi tidak ada hasil.","author":"<a href=\"https://superuser.com/users/473722/shyy-guy\" target=\"_blank\" rel=\"nofollow noopener\">Shyy Guy</a>"},{"reply":"abaikan ETWb ini, ini digunakan untuk menangkap jejak dengan wpr","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"<code>Page Table</code> saya sekarang 12GB besar dan pada <code>ResidentSet</code> saya dapat melihat semuanya diambil oleh proses <code>&quot;Unknown&quot; (-1)</code>. Ada ide bagaimana mengidentifikasi sumber yang sebenarnya? <code>poolmon</code> tidak menemukan sesuatu yang besar.","author":"<a href=\"https://superuser.com/users/184761/icl7126\" target=\"_blank\" rel=\"nofollow noopener\">icl7126</a>"},{"reply":"@ icl7126 melakukan percobaan &amp; kesalahan untuk melihat program mana yang menyebabkannya. Saya tahu bahwa Lenovo &quot;RapidBoot Shield&quot; yang menyebabkannya.","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"Diperbaiki, terima kasih, itu salah satunya: <i> Razer Synapse, Paragon Hard Disk Manager, Qualcomm Atheros Client, UNi Xonar Drivers, Solusi Konektivitas PC, Driver Nokia, WinPcap, Nvidia PhysX, Logitech Webcam </i>","author":"<a href=\"https://superuser.com/users/184761/icl7126\" target=\"_blank\" rel=\"nofollow noopener\">icl7126</a>"},{"reply":"@ icl7126 dapatkah Anda menguji ini lebih lanjut hingga Anda melihat mana yang menyebabkannya. Saya ingin tahu proses mana secara detail yang menyebabkannya.","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"Saya tidak yakin itu mungkin. Entah bagaimana tidak ada titik pemulihan yang dibuat di sistem saya (sangat aneh). Dan aplikasi tersebut cukup tua, beberapa di antaranya saya instal di Windows 8 saya bertahun-tahun yang lalu dan kemudian bertahan melalui peningkatan ke 8.1, 10, 10-au. Tetapi jika Anda benar-benar perlu mengetahuinya, saya akan mencoba beberapa yang saya masih memiliki installernya.","author":"<a href=\"https://superuser.com/users/184761/icl7126\" target=\"_blank\" rel=\"nofollow noopener\">icl7126</a>"},{"reply":"@ icl7126 alangkah baiknya mengetahui hal ini, jika beberapa pengguna lain memiliki masalah yang sama dan berkata &quot;hai, saya juga menggunakan alat xyz&quot; sehingga mereka dapat menghapus dan memperbaikinya.","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"},{"reply":"Saya tidak melihat file MemUsage.etl di drive C. Saya mencoba menjalankan wpr.exe itu lagi dan dikatakan sudah berjalan. Apa yang harus saya lakukan?","author":"<a href=\"https://superuser.com/users/439410/0xabc\" target=\"_blank\" rel=\"nofollow noopener\">0xabc</a>"},{"reply":"@ prouser135 digunakan <b> wpr -cancel </b> untuk membatalkannya, jalankan kembali perintah tersebut.","author":"<a href=\"https://superuser.com/users/174557/magicandre1981\" target=\"_blank\" rel=\"nofollow noopener\">magicandre1981</a>"}]}]}
