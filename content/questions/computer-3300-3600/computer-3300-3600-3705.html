{"title":"Bagaimana cara mendefinisikan fungsi vim pada satu baris?","draft":false,"url":"/bagaimana-cara-mendefinisikan-fungsi-vim-pada-satu-baris-suefqtm7","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["vim"],"snippet":"Karena | digunakan untuk memisahkan perintah, saya pikir saya bisa melakukan ini:  :function! SomeFunc() | return 0 | endfunction  Ini berfungsi dengan baik ketika saya mengetiknya pada baris terpisah (memasukkan baris pertama...","body":"<p> Karena <code>|</code> digunakan untuk memisahkan perintah, saya pikir saya bisa melakukan ini: </p> <pre><code>:function! SomeFunc() | return 0 | endfunction\n</code></pre> <p> Ini berfungsi dengan baik ketika saya mengetiknya pada baris terpisah (memasukkan baris pertama menyebabkannya meminta baris yang tersisa): </p> <pre><code>:function! SomeFunc()\n  return 0\nendfunction\n</code></pre> <p> Sekarang saya melihat peringatan ini pada <code>:help :bar</code>: </p>\n\n<blockquote>\n  <p> Perintah ini melihat &#39;|&#39; sebagai argumen mereka, dan karena itu tidak bisa\n  diikuti dengan perintah Vim lainnya: </p>\n  \n  <p> â€¦ </p>\n  \n  <p> :fungsi </p>\n</blockquote>\n\n<p> Apakah ada cara lain untuk mengatasinya? </p>\n\n<p> Saya melihat di mana dikatakan ... </p>\n\n<blockquote>\n  <p> Anda juga dapat menggunakan untuk memisahkan perintah dengan cara yang sama seperti dengan\n  &#39;|&#39;. Untuk menyisipkan gunakan CTRL-V CTRL-J. &quot;^ @&quot; akan ditampilkan. </p>\n</blockquote>\n\n<p> Tapi ini juga tidak berhasil: </p> <pre><code>:function! SomeFunc() &lt;NL&gt; return 0 &lt;NL&gt; endfunction\n</code></pre> <p> Ini memberikan kesalahan ini: </p> <pre><code>E488: Trailing characters\n</code></pre> <p> Ini berfungsi jika saya mengetikkan urutan CTRL-V CTRL-J secara manual: </p> <pre><code>:function! SomeFunc() ^@ return 0 ^@ endfunction\n</code></pre> <p> Tapi itu tetap bukan solusi yang bisa diterima karena <strong> Saya ingin cukup menyalin dan menempelkan perintah <code>function!</code> dan tekan Enter </strong> ... </p>","source":"https://superuser.com/questions/847340/how-do-i-define-a-vim-function-on-a-single-line","author":"<a href=\"https://superuser.com/users/113940/tyler-rick\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Tyler Rick</span></a>","replies":[{"reply":"Saya kira saya bisa menyalin dan menempel versi multi-baris dari definisi fungsi ... Tapi saya masih penasaran apakah ada cara untuk mendefinisikannya dengan satu baris salin dan tempel ...","author":"<a href=\"https://superuser.com/users/113940/tyler-rick\" target=\"_blank\" rel=\"nofollow noopener\">Tyler Rick</a>"},{"reply":"Tujuan akhir Anda tidak jelas bagi saya tetapi Anda dapat menarik fungsi dan &quot;sumber&quot; -nya dengan <code>:@&quot;</code>.","author":"<a href=\"https://superuser.com/users/60075/romainl\" target=\"_blank\" rel=\"nofollow noopener\">romainl</a>"},{"reply":"Masalah asli yang mendorong Q ini adalah bahwa saya menemukan fungsi dalam plugin yang ingin saya gunakan di skrip / konfigurasi .vim saya sendiri, tetapi hanya dapat dipanggil sebagai <code>&lt;SNR&gt;104_mixedcase()</code>. Saya menulis fungsi pembungkus saya sendiri untuk mencoba &quot;mengekspor&quot; dan membuatnya lebih mudah digunakan dari mana saja. Tetapi tidak berhasil untuk mendefinisikan fungsi pembungkus baru saya dalam file skrip, tampaknya karena &lt;SNR&gt; kemudian relatif terhadap file (salah) itu. Tampaknya berhasil, namun, jika saya hanya menempelkan fungsi di baris perintah vim. Jadi saya pikir alangkah baiknya jika saya bisa menempelkannya sebagai satu baris / perintah ...","author":"<a href=\"https://superuser.com/users/113940/tyler-rick\" target=\"_blank\" rel=\"nofollow noopener\">Tyler Rick</a>"},{"reply":"Ide bagus, terima kasih! Tidak tahu tentang: @ untuk mencari isi register. Itu (register vim) akan bekerja dengan baik - lebih baik daripada menyalin dan menempel seluruhnya ke papan klip sistem dan kemudian kembali ke vim.","author":"<a href=\"https://superuser.com/users/113940/tyler-rick\" target=\"_blank\" rel=\"nofollow noopener\">Tyler Rick</a>"},{"reply":"<code>&lt;SNR&gt;104_</code> berarti &quot;skrip nomor 104&quot;. Anda dapat menemukan skrip dengan <code>:scriptnames</code> dan menyalin fungsinya ke vimrc Anda.","author":"<a href=\"https://superuser.com/users/60075/romainl\" target=\"_blank\" rel=\"nofollow noopener\">romainl</a>"}],"answers":[{"answer":"<p> Salah satu opsinya adalah menggunakan <code>exe</code>: </p> <pre><code>exe \":function! SomeFunc() \\n return 0 \\n endfunction\"\n</code></pre> <p> <code>\\n</code> karakter diinterpretasikan sebagai baris baru oleh string yang dikutip ganda. Ini berarti Anda harus berhati-hati untuk menghindari urutan khusus. </p>\n\n<p> Yang mengatakan, </p>\n\n<blockquote>\n  <p> Saya ingin dapat dengan mudah menyalin dan menempelkan fungsinya! perintah dan tekan Enter ... </p>\n</blockquote>\n\n<p> Seperti yang disebutkan romainl, tujuan akhir Anda tidak jelas. Jika ini adalah sesuatu yang sering Anda lakukan karena suatu alasan, mungkin ada cara yang lebih baik untuk mendapatkan apa yang Anda inginkan. Ide yang bagus untuk mendeskripsikan masalah Anda dalam istilah <em> Mengapa </em> Anda membutuhkan fungsionalitas ini. </p>","votes":"5","source":"https://superuser.com/a/847497","author":"<a href=\"https://superuser.com/users/309686/andrew-radev\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Andrew Radev</span></a>","replies":[{"reply":"Jawaban yang bagus. Itu masuk akal, dan sepertinya berhasil. Saya telah menambahkan motivasi saya sebagai komentar di atas, tetapi pada dasarnya telah berubah menjadi hanya pertanyaan teoritis / pembelajaran. Hasilnya, saya telah mempelajari beberapa trik baru, terima kasih!","author":"<a href=\"https://superuser.com/users/113940/tyler-rick\" target=\"_blank\" rel=\"nofollow noopener\">Tyler Rick</a>"},{"reply":"Saya mengerti, Anda menemukan fungsi yang berguna di sebuah plugin, tapi itu script-local. Terjadi sesekali. Dalam kasus seperti ini, saya akan menyalin fungsi ke file lokal saya dan menjadikannya global (atau dimuat otomatis), sehingga mudah dipanggil. Ini copy-pasta, tapi jika itu hanya fungsi utilitas, menurut saya itu bukan masalah besar. Bagaimanapun, senang mendengar Anda telah mempelajari trik baru, itulah nilai dalam eksperimen seperti ini :).","author":"<a href=\"https://superuser.com/users/309686/andrew-radev\" target=\"_blank\" rel=\"nofollow noopener\">Andrew Radev</a>"}]},{"answer":"<p> Saya mencari ini karena saya ingin menguji fungsi yang saya salin secara online dalam sesi vim sebelum menambahkan ke .vimrc saya. Saya mencoba <code>source</code> tetapi itu membutuhkan nama file. </p>\n\n<p> Salah satu komentar di bagian jawaban mengatakan untuk menggunakan <code>:@\"</code>. Itu menjalankan apa pun yang ada di register yang tidak disebutkan namanya. </p>\n\n<p> Jika Anda ingin menjalankan sesuatu yang Anda salin dari online, Anda dapat melakukannya <code>:@+</code>. Tetapi itu tidak akan berhasil jika Anda tidak menginstal vim dengan integrasi papan klip sistem. </p>\n\n<p> Metode lain yang bekerja tanpa integrasi clipboard adalah <code>:normal :&lt;PASTE YOUR COMMAND HERE WITH YOUR SYSTEM HOTKEY&gt;</code>. Itu menjalankan semuanya dalam mode normal seolah-olah Anda mengetiknya sendiri, setiap baris baru akan melanjutkan ke baris berikutnya untuk fungsi tersebut. </p>","votes":"1","source":"https://superuser.com/a/1380553","author":"<a href=\"https://superuser.com/users/851430/dosentmatter\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">dosentmatter</span></a>","replies":[]}]}
