{"title":"Apakah RM korup saat diinterupsi?","draft":false,"url":"/apakah-rm-korup-saat-diinterupsi-6ks0yhfr","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","rm"],"snippet":"Jadi saya mungkin secara tidak sengaja rm -r&#39;d ~. Jangan khawatir, saya punya backup! Saya melakukan diff daftar file cepat untuk menyalin seluruh file yang telah dihapus, semuanya baik-baik saja. Tapi...  Apakah...","body":"<p> Jadi saya mungkin secara tidak sengaja rm -r&#39;d ~. Jangan khawatir, saya punya backup! Saya melakukan diff daftar file cepat untuk menyalin seluruh file yang telah dihapus, semuanya baik-baik saja. Tapi... </p>\n\n<p> Apakah GNU rm merusak file jika saya menghentikannya? Tentunya itu hanya memutus gigabyte data saya yang tak ternilai sedetik, daripada menghapus file dari disk itu sendiri? </p>","source":"https://superuser.com/questions/541910/does-rm-corrupt-when-interrupted","author":"<a href=\"https://superuser.com/users/64040/jookia\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jookia</span></a>","replies":[],"answers":[{"answer":"<p> No. <code>rm</code> hanya menelepon <code>unlink()</code> untuk menghapus nama tersebut. Syscall ini bersifat atomic, artinya berhasil menghapus nama, atau tidak. Itu tidak bisa diganggu. Jika Anda menginterupsi rm ketika sedang <code>unlink()</code>ing beberapa file, maka beberapa file akan berhasil dihapus, dan beberapa tidak akan. Pemeliharaan seperti membebaskan blok file yang digunakan jika semua tautan telah dihapus adalah operasi terpisah dan dapat dilakukan nanti, dan jika ini terganggu (oleh kegagalan daya atau sistem crash, tidak mengganggu <code>rm</code>), sistem file mungkin memerlukan <code>fsck</code> untuk menyelesaikannya, tetapi kebanyakan filesystem saat ini telah dibuat jurnal sehingga mereka tidak membutuhkannya. Bagaimanapun, file tersebut dihapus, atau tidak, tidak ada di antaranya. </p>","votes":"5","source":"https://superuser.com/a/541942","author":"<a href=\"https://superuser.com/users/62814/psusi\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">psusi</span></a>","replies":[]},{"answer":"<p> Dari <a href=\"http://en.wikipedia.org/wiki/Rm_(Unix)\" rel=\"nofollow noopener\" target=\"_blank\"> Wikipedia </a></p>\n\n<blockquote>\n  <p> Untuk lebih tepatnya, rm menghapus referensi ke objek dari sistem file, di mana objek tersebut mungkin memiliki banyak referensi (misalnya, file dengan dua nama berbeda), dan objek itu sendiri hanya dibuang jika semua referensi telah dihapus dan tidak ada program masih memiliki pegangan terbuka ke objek. </p>\n</blockquote>\n\n<p> Jadi ya, analogi pemutusan tautan Anda cukup bagus. Jika Anda memiliki beberapa hard link ke sebuah file, data tidak akan ditandai ask discardable sampai semua link hilang (symlink tidak memenuhi syarat, hanya hard link). </p>\n\n<p> Jika Anda memiliki cadangan, mungkin ide yang baik untuk melakukan beberapa hash md5 atau sha1 pada cadangan dan direktori home Anda, dan membedakannya untuk melihat perubahan apa pun, tetapi selama Anda memulihkan file yang hilang, file yang terjebak di sekitar seharusnya tidak tidak menderita korupsi apapun. </p>\n\n<p> Seperti biasa, YMMV. </p>","votes":"2","source":"https://superuser.com/a/541916","author":"<a href=\"https://superuser.com/users/49207/peelman\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">peelman</span></a>","replies":[{"reply":"Hmm ... Untuk lebih jelasnya, apakah mengganggu rm selama penghapusan file besar menyebabkan korupsi (jika hanya setengah dari file yang dihapus?) Saya akan menemukan ini tidak mungkin jika hanya menghapus referensi, tetapi saya harus yakin.","author":"<a href=\"https://superuser.com/users/64040/jookia\" target=\"_blank\" rel=\"nofollow noopener\">Jookia</a>"},{"reply":"Jika Anda perlu memastikan, jalankan pemeriksaan menggunakan hashes. Percayai tetapi verifikasi.","author":"<a href=\"https://superuser.com/users/49207/peelman\" target=\"_blank\" rel=\"nofollow noopener\">peelman</a>"},{"reply":"Eh, saya rasa saya tidak memiliki komputer yang cukup lambat untuk menguji hipotesis. Aku akan membaca kode sumbernya.","author":"<a href=\"https://superuser.com/users/64040/jookia\" target=\"_blank\" rel=\"nofollow noopener\">Jookia</a>"}]}]}
