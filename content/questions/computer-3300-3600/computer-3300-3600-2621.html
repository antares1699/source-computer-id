{"title":"FFmpeg - Mengkonsentrasikan file audio dengan spasi","draft":false,"url":"/ffmpeg-mengkonsentrasikan-file-audio-dengan-spasi-cpztvxsf","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["audio","video","ffmpeg"],"snippet":"Silakan lihat gambar:  Setiap klip audio memiliki codec / sample_rate yang sama, tetapi durasinya berbeda dan setiap spasi juga berbeda.Selalu ada ruang di antara klip, tidak ada yang tumpang tindih.Jadi...","body":"<p> Silakan lihat gambar: </p>\n\n<p><a href=\"https://i.stack.imgur.com/XdZ9G.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/XdZ9G.png\" alt=\"enter image description here\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Setiap klip audio memiliki codec / sample_rate yang sama, tetapi durasinya berbeda dan setiap spasi juga berbeda.\nSelalu ada ruang di antara klip, tidak ada yang tumpang tindih.\nJadi tidak ada alasan untuk itu <strong> pengodean ulang </strong> , karena ini pada dasarnya adalah pekerjaan menyalin aliran.\nIni penting karena saya harus menjaga kualitas asli untuk setiap klip. </p>\n\n<p> Sekarang, mari kita pikirkan saya menemukan apa yang saya cari. Saya memberi perintah ini nama palsu <strong> &quot;-dimulai dari&quot; </strong> , itu menyisipkan klip ke aliran audio pada waktu tertentu.\nDengan perintah pseudo ini, saya akan mengatur waktu setiap klip harus dimulai. Dan sisa pekerjaan harus dilakukan oleh perintah ffmpeg / filter / script dll. </p> <pre><code>ffmpeg -start_at 00.00 -i audio1.opus  -start_at 06.30 -i audio2.opus  -start_at 21.15 -i audio3.opus  -start_at 26.35 -i audio4.opus\n</code></pre> <p> Bayangkan saja ffmpeg akan mengisi celah dengan suara senyap secara otomatis. </p>\n\n<p> Jadi, Apakah ada perintah / filter ffmpeg untuk ini? Atau ffmpeg gui / script dll.? </p>","source":"https://superuser.com/questions/931303/ffmpeg-concenating-audio-files-with-spacing","author":"<a href=\"https://superuser.com/users/461593/dandidondi\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">dandidondi</span></a>","replies":[{"reply":"Bisakah Anda membuat file audio diam 5 detik dan hanya menggabungkan menggunakan file kosong sebagai spacer.","author":"<a href=\"https://superuser.com/users/461193/hschmale\" target=\"_blank\" rel=\"nofollow noopener\">HSchmale</a>"}],"answers":[{"answer":"<p> FFmpeg mampu menangani ini. Yang perlu Anda gunakan adalah <a href=\"http://ffmpeg.org/ffmpeg-all.html#Complex-filtergraphs\" rel=\"nofollow noopener\" target=\"_blank\"> <code>filter_complex</code> </a> dengan rantai filter. Anda dapat membuat audio senyap dengan <a href=\"http://ffmpeg.org/ffmpeg-all.html#aevalsrc\" rel=\"nofollow noopener\" target=\"_blank\"> <code>aevalsrc</code> </a> . Untuk membuat audio diam 5 detik, </p> <pre><code>aevalsrc=0:d=5\n</code></pre> <p> Jadi perintah berikut akan bekerja untuk Anda. </p> <pre><code>ffmpeg -i input_audio_1 -i input_audio_2 -i input_audio_3 -filter_complex \"\naevalsrc=0:d=10[s1];\naevalsrc=0:d=15[s2];\naevalsrc=0:d=20[s3];\n[s2][1:a]concat=n=2:v=0:a=1[ac1];\n[s3][2:a]concat=n=2:v=0:a=1[ac2];\n[0:a][s1][ac1][ac2]amix=inputs=4[aout]\" -map [aout] output_audio\n</code></pre> <p> Di sini saya berasumsi setiap audio memiliki panjang 5 detik dan pengkodean ulang adalah opsional seperti, </p>\n\n<p> <code>-c:a libmp3lame -ac 2 -b:a 128k</code> </p>\n\n<p> Sebagai <a href=\"http://ffmpeg.org/ffmpeg-all.html#amix\" rel=\"nofollow noopener\" target=\"_blank\"> <code>amix</code> </a> menyebabkan tumpang tindih audio Saya telah menambahkan audio senyap ke setiap audio input. Anda juga bisa mencoba <a href=\"http://ffmpeg.org/ffmpeg-all.html#amerge\" rel=\"nofollow noopener\" target=\"_blank\"> <code>amerge</code> </a> dan <a href=\"https://ffmpeg.org/ffmpeg-filters.html#adelay\" rel=\"nofollow noopener\" target=\"_blank\"> <code>adelay</code> </a> dimana doc sendiri memiliki penjelasan yang jelas. </p>\n\n<p> Semoga ini bisa membantu Anda! </p>","votes":"5","source":"https://superuser.com/a/931317","author":"<a href=\"https://superuser.com/users/452661/chamath\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Chamath</span></a>","replies":[{"reply":"Sayangnya tidak ada ruang tetap atau durasi tetap untuk klip. Juga saya tidak ingin melakukan pengkodean ulang bahkan jika itu tidak banyak mempengaruhi kualitas. Saya memperbarui posting pertama saya, silakan lihat gambar.","author":"<a href=\"https://superuser.com/users/461593/dandidondi\" target=\"_blank\" rel=\"nofollow noopener\">dandidondi</a>"},{"reply":"Saya mengedit jawaban saya. Anda mungkin dapat melewati encoding ulang. Dan juga Anda dapat mengatur durasi sesuai dengan masukan Anda. Ini tidak membutuhkan durasi yang sama. Tetap saja Anda perlu menghitung durasi dan memberinya makan sesuai perintah. Anda dapat menggunakan <code>ffprobe</code> untuk menghitung durasi.","author":"<a href=\"https://superuser.com/users/452661/chamath\" target=\"_blank\" rel=\"nofollow noopener\">Chamath</a>"},{"reply":"tetapi filter <code>amix</code> masih melakukan pengkodean ulang.","author":"<a href=\"https://superuser.com/users/461593/dandidondi\" target=\"_blank\" rel=\"nofollow noopener\">dandidondi</a>"},{"reply":"FYI: Enkode ulang adalah tindakan jahat yang diperlukan setiap kali mencoba memproses konten sumber melalui filter. <code>-c copy</code> upaya <i> Sebaiknya </i> menghasilkan <code>Streamcopy requested for output stream 0:0, which is fed from a complex filtergraph. Filtering and streamcopy cannot be used together.</code> pesan. Untuk menjaga kualitas audio sumber, keluarkan audio Anda ke codec lossless, lalu salin ke encoder yang sesuai, misalnya: <code>-map [aout] -c:a pcm_s16le -ac 2 -ar 44100 - | ffmpeg -i - -c:a libmp3lame -b:a 320k ConcatenatedAudio.mp3</code>","author":"<a href=\"https://superuser.com/users/459654/mr-what\" target=\"_blank\" rel=\"nofollow noopener\">Mr. What</a>"}]},{"answer":"<p> Berikut adalah contoh audio concat: </p>\n\n<p> <code>ffmpeg -y -f s16be -i /dev/zero -af \"[in]anullsink;amovie=1.wav[a1];amovie=silence.wav[a2];amovie=2.wav[a3];amovie=4.wav[a4];[a1][a2][a3][a4]concat=n=4:v=0:a=1[out]\" -shortest -t 12 output.wav\n</code> </p>\n\n<p> Perhatikan beberapa hal yang perlu Anda ketahui di sini: </p>\n\n<ol>\n<li> Saya mulai dengan masukan bersih <code>/dev/zero</code>, itu bagus, namun, mungkinkah ada cara yang lebih baik untuk melakukannya. </li>\n<li> Anda perlu mengetahui total durasi klip sebelum membuatnya (<code>t=12</code>) </li>\n<li> Saya membuat file <code>silence.wav</code> terlebih dahulu. Anda dapat menggunakan filter seperti <code>anullsrc</code> (lihat <code>nb_samples</code> di <a href=\"https://ffmpeg.org/ffmpeg-filters.html#toc-anullsrc\" rel=\"nofollow noopener\" target=\"_blank\"> dokumentasi </a> ) atau lainnya tetapi ini cukup menyakitkan jika Anda bertanya kepada saya. </li>\n<li> Terkadang, dengan menggunakan pendekatan ini, FFmpeg tidak tahu kapan harus berhenti, namun, FFmpeg tidak akan membuat jalur diam kosong karena parameter <code>-shortest</code> diterapkan. </li>\n</ol>","votes":"2","source":"https://superuser.com/a/931326","author":"<a href=\"https://superuser.com/users/109948/e-g\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">E.G.</span></a>","replies":[]}]}
