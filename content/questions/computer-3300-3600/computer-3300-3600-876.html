{"title":"Menggunakan ADB untuk mengirim sentuhan acara ke telepon, tetapi tidak dapat melepaskan","draft":false,"url":"/menggunakan-adb-untuk-mengirim-sentuhan-acara-ke-telepon-tetapi-tidak-dapat-melepaskan-rk0mvfqd","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["shell","script","android","shell-script","adb"],"snippet":"Saya memiliki HTC 10 yang menjalankan CM13Saya mencoba mengirim acara sentuh ke sana melalui ADB dan Kirim AcaraSetelah mengirim ini:  adb shellsendevent /dev/input/event6 3 57 0sendevent /dev/input/event6 3...","body":"<p> Saya memiliki HTC 10 yang menjalankan CM13\nSaya mencoba mengirim acara sentuh ke sana melalui ADB dan Kirim Acara\nSetelah mengirim ini: </p> <pre><code>adb shell\nsendevent /dev/input/event6 3 57 0\nsendevent /dev/input/event6 3 53 300\nsendevent /dev/input/event6 3 54 400\nsendevent /dev/input/event6 3 48 5\nsendevent /dev/input/event6 3 58 50\nsendevent /dev/input/event6 0 2 0\nsendevent /dev/input/event6 0 0 0\n</code></pre> <p> Saya mendapatkan klik di telepon, dengan showtouches aktif, saya dapat melihat sentuhan telah dimulai, tetapi sentuhan tersebut masih aktif di telepon. </p>\n\n<p> Berdasarkan bacaan saya <a href=\"http://ktnr74.blogspot.com/2013/06/emulating-touchscreen-interaction-with.html\" rel=\"nofollow noopener\" target=\"_blank\"> sini </a> dan <a href=\"https://stackoverflow.com/questions/17259809/can-anyone-explain-this-command-fully-adb-shell-sendevent-device-type-code\" target=\"_blank\" rel=\"nofollow noopener\"> sini </a> seperti halnya tempat lain, sepertinya yang harus saya lakukan hanyalah: </p> <pre><code>sendevent /dev/input/event6 3 57 -1\nsendevent /dev/input/event6 0 2 0\nsendevent /dev/input/event6 0 0 0\n</code></pre> <p> atau bahkan mungkin hanya </p> <pre><code>sendevent /dev/input/event6 3 57 -1\nsendevent /dev/input/event6 0 0 0\n</code></pre> <p> namun, tidak satu pun dari perintah ini yang menyebabkan sentuhan diakhiri di telepon. </p>\n\n<p> Saya mencoba meletakkan semua ini pada skrip shell di ponsel itu sendiri, dan menjalankan skrip dari shell adb, namun itu menghasilkan hal yang sama. Awal dari sentuhan, dan bukan akhir. </p>","source":"https://superuser.com/questions/1173378/using-adb-to-sendevent-touches-to-the-phone-but-cant-release","author":"<a href=\"https://superuser.com/users/467227/chris-d\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Chris D</span></a>","replies":[{"reply":"Meskipun saya tidak yakin apakah ini tempat yang tepat untuk menanyakan hal ini, saya memiliki pertanyaan yang sama, jadi saya memberikan hadiah untuk itu.","author":"<a href=\"https://superuser.com/users/56977/oktosite\" target=\"_blank\" rel=\"nofollow noopener\">oKtosiTe</a>"}],"answers":[{"answer":"<p> Meskipun tidak memiliki lingkungan Anda, saya telah memeriksa masalah tersebut.\nAda berbagai artikel yang bisa ditemukan, seperti yang Anda lakukan, yang sepertinya selalu begitu\nbekerja untuk beberapa orang tetapi tidak untuk orang lain.\nIni adalah kesimpulan saya bahwa ada perbedaan antara kombinasi\nphone-hardware / Android-version / SDK-version yang membuatnya jadi tidak ada\nsatu solusi untuk semua pengaturan. </p>\n\n<p> Anda harus mencari tahu apa yang cocok untuk Anda. mengingat bahwa jurusan\npembaruan perangkat lunak selalu dapat mengembalikan Anda ke titik awal. </p>\n\n<p> Metode paling sederhana yang saya temukan adalah dengan menggunakan perintah <code>input tap x y</code>: </p> <pre><code>adb shell input tap x y\n</code></pre> <p> Tidak semua versi <code>input</code> memiliki parameter <code>tap</code>, tetapi memulainya tanpa\nargumen akan mencetak semua parameter yang tersedia dan sintaks: </p> <pre><code>shell@m0:/ $ input\ninput\nusage: input ...\n       input text &lt;string&gt;\n       input keyevent &lt;key code number or name&gt;\n       input [touchscreen|touchpad|touchnavigation] tap &lt;x&gt; &lt;y&gt;\n       input [touchscreen|touchpad|touchnavigation] swipe &lt;x1&gt; &lt;y1&gt; &lt;x2&gt; &lt;y2&gt; [duration(ms)]\n       input trackball press\n       input trackball roll &lt;dx&gt; &lt;dy&gt;\n</code></pre> <p> Cara lain adalah dengan menggunakan <a href=\"http://source.android.com/devices/input/getevent.html\" rel=\"nofollow noopener\" target=\"_blank\"> Getevent </a> untuk merekam peristiwa yang terjadi saat\nAnda menyentuh layar. Seperti yang diambil dari <a href=\"https://stackoverflow.com/a/24038245/165358\" target=\"_blank\" rel=\"nofollow noopener\"> sini </a> : </p>\n\n<blockquote>\n  <h1 class=\"h3\"> Rekam serangkaian acara </h1>\n  \n  <ol>\n  <li><p> Siapkan pc untuk merekam data dalam sebuah file (<code>/tmp/android-touch-events.log</code>) </p> <pre><code>$ adb shell getevent | grep --line-buffered ^/ | tee /tmp/android-touch-events.log\n</code></pre> </li>\n  <li> melakukan beberapa hal di telepon </li>\n  <li> hentikan perintah adb pada pc dengan <code>ctrl-c</code> </li>\n  </ol>\n  \n  <h1 class=\"h3\"> Putar ulang acara yang direkam </h1>\n  \n  <p> Perintah ini akan melakukan konversi hex pada <code>awk</code> </p> <pre><code>$ awk '{printf \"%s %d %d %d\\n\", substr($1, 1, length($1) -1), strtonum(\"0x\"$2), strtonum(\"0x\"$3), strtonum(\"0x\"$4)}' /tmp/android-touch-events.log | xargs -l adb shell sendevent\n</code></pre> </blockquote>\n\n<p> Berhati-hatilah dengan gotcha bahwa Getevent menampilkan parameternya dalam hex tetapi hanya\nmenerima masukan dalam desimal, yang coba diperbaiki oleh skrip di atas. </p>\n\n<p><a href=\"https://developer.android.com/studio/test/monkeyrunner/index.html\" rel=\"nofollow noopener\" target=\"_blank\"> monkeyrunner </a> adalah alat lain yang dapat Anda gunakan, seperti yang ditunjukkan <a href=\"https://stackoverflow.com/a/18959385/165358\" target=\"_blank\" rel=\"nofollow noopener\"> sini </a> : </p>\n\n<blockquote>\n  <p> Anda mungkin ingin menggunakan <a href=\"http://developer.android.com/tools/help/monkeyrunner_concepts.html\" rel=\"nofollow noopener\" target=\"_blank\"> monkeyrunner </a> seperti ini: </p> <pre><code>$ monkeyrunner\n&gt;&gt;&gt; from com.android.monkeyrunner import MonkeyRunner, MonkeyDevice\n&gt;&gt;&gt; device = MonkeyRunner.waitForConnection()\n&gt;&gt;&gt; device.touch(200, 400, MonkeyDevice.DOWN_AND_UP)\n</code></pre> <p> Anda juga dapat melakukan seret, memulai kegiatan, dll. Lihat apinya <a href=\"http://developer.android.com/tools/help/MonkeyDevice.html\" rel=\"nofollow noopener\" target=\"_blank\"> MonkeyDevice </a> . </p>\n</blockquote>\n\n<p> Referensi: </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4386449/send-touch-event-from-adb-to-a-device/24038245#24038245\" target=\"_blank\" rel=\"nofollow noopener\"> Kirim acara sentuh dari ADB ke perangkat </a></li>\n<li><a href=\"https://stackoverflow.com/questions/3437686/how-to-use-adb-to-send-touch-events-to-device-using-sendevent-command\" target=\"_blank\" rel=\"nofollow noopener\"> Bagaimana cara menggunakan ADB untuk mengirim acara sentuh ke perangkat menggunakan perintah sendevent? </a></li>\n</ul>","votes":"10","source":"https://superuser.com/a/1175732","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">harrymc</span></a>","replies":[]}]}
