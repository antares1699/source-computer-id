{"title":"Baris perintah Linux / Pindahkan file yang difilter menurut urutan leksikografik","draft":false,"url":"/baris-perintah-linux-pindahkan-file-yang-difilter-menurut-urutan-leksikografik-kppgxyhs","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","unix","shell","sorting"],"snippet":"Saya memiliki beberapa file dalam direktori yang bernama IMG_0001.jpg ... IMG_9999.jpg. Saya ingin pindah ke direktori lain file yang secara leksikografis memiliki nama lebih besar dari IMG_9431.jpg Bagaimana saya bisa melakukannya?","body":"<p> Saya memiliki beberapa file dalam direktori yang bernama <code>IMG_0001.jpg</code> ... <code>IMG_9999.jpg</code>. Saya ingin pindah ke direktori lain file yang secara leksikografis memiliki nama lebih besar dari <code>IMG_9431.jpg</code> Bagaimana saya bisa melakukannya? </p>","source":"https://superuser.com/questions/645978/linux-command-line-move-files-filtered-by-lexicographic-order","author":"<a href=\"https://superuser.com/users/56581/paralife\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Paralife</span></a>","replies":[],"answers":[{"answer":"<p> Anda dapat menggunakan <code>sort</code> dan <code>sed</code> untuk mendapatkan daftar file parutan dari beberapa string seperti ini: </p> <pre><code>$ ls -v\n0?#Li  23?24  E.See  NULib  Yoush  ce-Su  edint  ethat  ibble  itwil  lines  of16   plesA  ryGen  t6?#C  witht  #ver\n0?#mo  25?i   Examp  NYWAR  along  cribb  edist  ev     ibrar  ix B.  mapfo  ofthe  ppend  sdist  tetot  y8?#9  (atyo\n0,22   27?#   FORAP  NextA  areFo  dacop  edwar  frees  ic11   lPubl  mored  oftwa  publi  sefor  theGN  yGene  )1995\n1.scr  02111  Finla  Peter  aryis  datio  eful,  ftheG  ight(  landJ  mport  on23#  ralPu  se,or  tunde  yofth  ,USA.\n1-200  ARTIC  GIMPT  RANTY  avere  difyi  eitan  ftwar  imbal  lbeus  ncerK  on,MA  raryG  shedb  t,wri  ytheF  ;ifno\n2John  Appen  HANTA  Softw  bleof  dix B  enera  ght(C  impli  ld7?#  nc.,5  oolki  raryi  simpl  ublic  #19?#  ;with\n4?#Th  BILIT  HOUTA  TNESS  blic2  e.py4  enthe  gtk26  ingar  lePla  ngpix  opyri  rdraw  sion.  ucanr  #Bost   Code\n5?#GT  Backi  K-The  U17?#  brary  e.pyB  eralP  he21   ion)a  lesPr  nseas  oshMa  reeSo  sion2  undat  #Free\n9Temp  Conte  Libra  ULARP  cDona  eExam  ermso  hehop  ion,I  lesTa  ntsB.  ouldh  re;yo  slibr  uropt  #Lice\n13?#1  Copyr  Licen  URPOS  ceive  eFoun  erver  her12  islib  lescr  nylat  outev  ribut  s,Spe  utWIT  #MERC\n15?#b  C)200  Matti  YorFI  cense  eGNUL  etail  hisli  ite33  lesim  n;eit  ple.p  rthet  s.18   vpyth  #Thi\n\n$ mkdir greater-than-sion\n</code></pre> <p> Inilah keajaibannya: </p> <pre><code>$ find -type f -print0 | \n  sort -z |\n  sed -z '1,/sion/d' | \n  xargs -0 mv -t greater-than-sion\n</code></pre> <p> Garis: </p>\n\n<ol>\n<li> mencetak daftar file, dipisahkan dengan <code>NUL</code> bukannya baris baru (<code>-print0</code>) </li>\n<li> urutkan mereka </li>\n<li> hapus garis <em> lebih rendah dari </em> (termasuk) beberapa string (di sini <code>sion</code>) - perhatikan bahwa ini hanya berfungsi dengan GNU <code>sed</code>, yang mengimplementasikan opsi <code>-z</code> untuk mengurai input yang diakhiri <code>NUL</code> </li>\n<li> teruskan daftar ini ke <code>mv</code> dengan <code>xargs</code> </li>\n</ol>\n\n<p> Dan hasil yang diinginkan: </p> <pre><code>$ ls -R\n.:\n Code  ;ifno  25?i   avere  Conte  edist  erver  GIMPT               ic11   K-The  lines  nseas  opyri  raryG  se,or\n#19?#  ;with  27?#   Backi  Copyr  edwar  etail  greater-than-sion/  ight(  landJ  lPubl  ntsB.  oshMa  raryi  sefor\n#Bost  0?#Li  2John  BILIT  cribb  eExam  ethat  gtk26               imbal  lbeus  mapfo  NULib  ouldh  rdraw  shedb\n#Free  0?#mo  4?#Th  bleof  dacop  eFoun  ev     HANTA               impli  ld7?#  Matti  nylat  outev  re;yo  simpl\n#Lice  0,22   5?#GT  blic2  datio  eful,  Examp  he21                ingar  lePla  mored  NYWAR  Peter  reeSo  sion.\n#MERC  02111  9Temp  brary  difyi  eGNUL  Finla  hehop               ion)a  lescr  mport  of16   ple.p  ribut\n#Thi   1.scr  along  C)200  dix B  eitan  FORAP  her12               ion,I  lesim  n;eit  ofthe  plesA  rthet\n#ver   1-200  Appen  cDona  e.py4  enera  frees  hisli               islib  lesPr  nc.,5  oftwa  ppend  ryGen\n(atyo  13?#1  areFo  ceive  e.pyB  enthe  ftheG  HOUTA               ite33  lesTa  ncerK  on,MA  publi  s,Spe\n)1995  15?#b  ARTIC  cense  E.See  eralP  ftwar  ibble               itwil  Libra  NextA  on23#  ralPu  s.18\n,USA.  23?24  aryis  ce-Su  edint  ermso  ght(C  ibrar               ix B.  Licen  ngpix  oolki  RANTY  sdist\n\n./greater-than-sion:\nsion2  Softw  t6?#C  theGN  tunde  ublic  ULARP  uropt  utWIT  witht  yGene  YorFI  ytheF\nslibr  t,wri  tetot  TNESS  U17?#  ucanr  undat  URPOS  vpyth  y8?#9  yofth  Yoush\n</code></pre>","votes":"4","source":"https://superuser.com/a/646003","author":"<a href=\"https://superuser.com/users/86129/%d0%af%d1%80%d0%be%d1%81%d0%bb%d0%b0%d0%b2-%d0%a0%d0%b0%d1%85%d0%bc%d0%b0%d1%82%d1%83%d0%bb%d0%bb%d0%b8%d0%bd\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ярослав Рахматуллин</span></a>","replies":[{"reply":"Bagus. Saya benar-benar lupa tentang <code>sed</code> di sini.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Apa yang dilakukan &#39;sed -z&#39;? Melakukan pemeriksaan cepat dan tidak dapat menemukan penjelasan untuk opsi -z.","author":"<a href=\"https://superuser.com/users/247119/jaychris\" target=\"_blank\" rel=\"nofollow noopener\">jaychris</a>"},{"reply":"Memproses baris yang dipisahkan oleh karakter null, bukan karakter baris baru. <i> Ini dinyatakan di manual. </i>","author":"<a href=\"https://superuser.com/users/86129/%d0%af%d1%80%d0%be%d1%81%d0%bb%d0%b0%d0%b2-%d0%a0%d0%b0%d1%85%d0%bc%d0%b0%d1%82%d1%83%d0%bb%d0%bb%d0%b8%d0%bd\" target=\"_blank\" rel=\"nofollow noopener\">&#x42F;&#x440;&#x43E;&#x441;&#x43B;&#x430;&#x432; &#x420;&#x430;&#x445;&#x43C;&#x430;&#x442;&#x443;&#x43B;&#x43B;&#x438;&#x43D;</a>"},{"reply":"Perhatikan bahwa ini adalah opsi khusus GNU, jadi bukan BSD <code>sed</code>. (cc @jaychris)","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Terima kasih Ярослав &amp; slhck. Saya mencoba manual dan mencari di Google tetapi tidak mendapatkan opsi ini. Sepertinya yang saya akses bukan versi GNU.","author":"<a href=\"https://superuser.com/users/247119/jaychris\" target=\"_blank\" rel=\"nofollow noopener\">jaychris</a>"},{"reply":"Anda dapat melakukannya tanpa opsi -print0 dan -z jika nama file Anda tidak mengandung baris baru.","author":"<a href=\"https://superuser.com/users/86129/%d0%af%d1%80%d0%be%d1%81%d0%bb%d0%b0%d0%b2-%d0%a0%d0%b0%d1%85%d0%bc%d0%b0%d1%82%d1%83%d0%bb%d0%bb%d0%b8%d0%bd\" target=\"_blank\" rel=\"nofollow noopener\">&#x42F;&#x440;&#x43E;&#x441;&#x43B;&#x430;&#x432; &#x420;&#x430;&#x445;&#x43C;&#x430;&#x442;&#x443;&#x43B;&#x43B;&#x438;&#x43D;</a>"}]},{"answer":"<p> Dengan <a href=\"http://wiki.bash-hackers.org/syntax/expansion/brace#ranges\" rel=\"nofollow noopener\" target=\"_blank\"> ekspansi brace </a> , yang tersedia di Bash 3 ke atas, serta Zsh dan beberapa shell lainnya: * </p> <pre><code>mv IMG_{9431..9999}.jpg some_other_dir\n</code></pre> <p> Tanda kurung kurawal akan diperluas ke semua angka antara 9431 dan 9999, sehingga sama dengan menuliskan ini: </p> <pre><code>mv IMG_9431.jpg IMG_9432.jpg … IMG_9999.jpg some_other_dir\n</code></pre> <p> Ini akan gagal jika ada terlalu banyak file (lihat <a href=\"http://www.in-ulm.de/~mascheck/various/argmax/\" rel=\"nofollow noopener\" target=\"_blank\"> posting ini tentang <code>ARG_MAX</code> </a> untuk info latar belakang.) </p>\n\n<p> Jika shell Anda tidak memiliki fitur brace expansion, atau Anda memiliki terlalu banyak file, Anda dapat melakukannya - yang mungkin sedikit lebih lambat: </p> <pre><code>for n in $(seq 9431 9999); do mv \"IMG_$n.jpg\" some_other_dir; done\n</code></pre> <hr>\n\n<p> Jika Anda benar-benar ingin mengurutkan secara leksikografis, lihat <a href=\"https://superuser.com/a/646003/48078\" target=\"_blank\" rel=\"nofollow noopener\"> Jawaban Ярослав Рахматуллин </a> . Jauh lebih bagus dari yang berikut ini. </p>\n\n<p> Anda harus mengurutkan nama file Anda. Inilah yang saya kemukakan dengan sangat cepat, dan itu tidak cantik dan jauh dari ideal. Ia bekerja dengan GNU / Linux (<code>grep</code>, <code>sort</code>, <code>xargs</code>) dan menangani semua nama file, termasuk tanda kutip dan spasi. </p> <pre><code>tmp=\"$(mktemp /tmp/files.XXX)\"\nfind . -type f -name 'IMG*'  -maxdepth 1 -print0 | sort -z &gt; \"$tmp\"\nline=$(grep -nz IMG_9984.jpg \"$tmp\" | cut -d: -f1)\ntr '\\0\\n' '\\n\\0' &lt; \"$tmp\" | tail -n \"+$line\" | tr '\\0\\n' '\\n\\0' |\nxargs -0 -I{} echo mv {} some_other_dir\nrm \"$tmp\"\n</code></pre> <p> Hapus <code>echo</code> jika Anda yakin ini melakukan apa yang Anda inginkan. Apa yang kami lakukan di sini: </p>\n\n<ul>\n<li><p> Buat file sementara untuk menampung nama file. </p></li>\n<li><p> Temukan semua file yang cocok dengan pola, dan urutkan menjadi file sementara. Catatan dibatasi oleh <code>NUL</code> karakter (<code>-print0</code>, <code>-z</code>) sehingga kami dapat menangani nama file apa pun. </p></li>\n<li><p> Temukan nomor &quot;baris&quot; dari nama file, mis. <code>IMG_9984.jpg</code> </p></li>\n<li><p> Tukar <code>NUL</code> dan baris baru di file sementara <a href=\"https://unix.stackexchange.com/a/75206/5893\" target=\"_blank\" rel=\"nofollow noopener\"> jadi <code>tail</code> dapat mengatasinya </a> . </p></li>\n<li><p> Tukar file tersebut kembali sehingga <code>xargs</code> dapat menanganinya (<code>-0</code>) dan <code>mv</code> file ke direktori lain. </p></li>\n</ul>\n\n<p> Ini akan lebih mudah jika kita tidak harus berurusan dengan file yang berisi tanda kutip atau spasi, tapi… itu hanya saya. Lebih baik aman daripada menyesal. </p>","votes":"6","source":"https://superuser.com/a/645981","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">slhck</span></a>","replies":[{"reply":"Mungkin perhatikan bahwa ini khusus Bash (?). Catatan yang lebih eksotis adalah bahwa ia akan gagal jika secara total diperluas ke lebih dari argumen ARG_MAX. Namun, beberapa kali lipat yang harus disisihkan dalam kasus ini.","author":"<a href=\"https://superuser.com/users/49184/daniel-andersson\" target=\"_blank\" rel=\"nofollow noopener\">Daniel Andersson</a>"},{"reply":"@DanielAndersson Saya akan menambahkan solusi untuk cangkang yang lebih tua / alternatif. Ada di Bash 3 ke atas, juga di Zsh dan ksh, mungkin lainnya.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"Hanya untuk pengetahuan, bagaimana saya melakukannya jika tidak ada pola dalam file dan saya hanya ingin mendapatkan semua file &quot;secara leksikografis lebih besar dari&quot; nama file tertentu?","author":"<a href=\"https://superuser.com/users/56581/paralife\" target=\"_blank\" rel=\"nofollow noopener\">Paralife</a>"},{"reply":"@Paralife Could be tricky - lihat jawaban terbaru saya. Tapi solusi Ярослав jelas lebih mudah.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"},{"reply":"ok ada apa disini? Berikan jawaban yang diterima untuk solusi Ярослав yang lebih umum yang mungkin berguna untuk situasi lain juga, atau tinggalkan jawaban yang diterima ini karena menjawab pertanyaan spesifik yang saya ajukan dengan baik dan lebih sederhana?","author":"<a href=\"https://superuser.com/users/56581/paralife\" target=\"_blank\" rel=\"nofollow noopener\">Paralife</a>"},{"reply":"@Paralife Apapun yang Anda suka :) Jika Anda merasa keduanya hebat, Anda harus menerima jawaban yang paling membantu Anda. Anda juga dapat dengan mudah menerima kiriman Ярослав - Saya tidak keberatan dan saya juga tidak terlalu membutuhkan reputasi.","author":"<a href=\"https://superuser.com/users/48078/slhck\" target=\"_blank\" rel=\"nofollow noopener\">slhck</a>"}]}]}
