{"title":"bagaimana cara memindahkan file menggunakan hasil &quot;ls -al&quot; di Linux?","draft":false,"url":"/bagaimana-cara-memindahkan-file-menggunakan-hasil-quotls-alquot-di-linux-897e5kvc","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","bash","awk"],"snippet":"Bagaimana saya bisa menulis skrip untuk menyalin file dari satu direktori ke direktori lain sesuai dengan tanggal terakhir diubah?  ls -al  -rw-r - r-- 1 pengguna pengguna 100 2011-05-  26  12:33  ABC1234...","body":"<p> Bagaimana saya bisa menulis skrip untuk menyalin file dari satu direktori ke direktori lain sesuai dengan tanggal terakhir diubah? </p>\n<blockquote>\n<p> ls -al </p>\n<p> -rw-r - r-- 1 pengguna pengguna 100 2011-05- <strong> 26 </strong> 12:33 <strong> ABC1234 </strong> _frontcover_10344000_2011-05.doc </p>\n</blockquote>\n<p> Apa yang sebenarnya ingin saya lakukan adalah, Menggunakan bagian tebal di atas dari hasil ls -al file <code>ABC1234_frontcover_10344000_2011-05.doc</code> harus disalin ke <code>/home/abcd/ABC1234/2011-05/26/</code>. </p>\n<p> Harus ada cara untuk melakukannya dengan menggunakan nilai <code>date -r $file +%m</code> dan <code>basename *.doc | awk -F_ '{print $1}'</code>. Bantu saya di sini, bagaimana caranya? </p>","source":"https://superuser.com/questions/289154/how-to-move-around-files-using-ls-al-result-in-linux","author":"<a href=\"https://superuser.com/users/77460/himalay\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Himalay</span></a>","replies":[],"answers":[{"answer":"<p> Saya baru saja menginvestasikan waktu untuk mencoba ini dan menghasilkan skrip berikut: </p> <pre><code>#!/bin/bash\n# set folder where files are located\nSOURCE_FOLDER=/path/to/source\n\n# define folder to which the files have to be copied\nTARGET_FOLDER=/home/abcd\n\n# ####\ncd \"${SOURCE_FOLDER}\"\nfor FILE in *; do\n    # everything which is not a normal file\n    if [ ! -f \"${FILE}\" ]; then\n        echo \"Skipping non-file: '${FILE}'\"\n        continue\n    fi\n\n    # extract data from file structure\n    FILE_DATE=$(date -r \"$FILE\" '+%Y-%m')\n    FILE_DAY=$(date -r \"$FILE\" '+%d')\n    FILE_PREFIX=${FILE%%_*}\n\n    # skip files which do not match the naming convention\n    if [ \"${FILE_PREFIX}\" = \"\" -o \"${FILE_PREFIX}\" = \"${FILE}\" ]; then\n        echo \"Skipping file with wrong naming: '${FILE}'\"\n        continue\n    fi\n\n    # create target folder\n    TARGET=\"${TARGET_FOLDER}/${FILE_PREFIX}/${FILE_DATE}/${FILE_DAY}\"\n    echo \"Copy '$FILE' to ${TARGET}\"\n    mkdir -p \"${TARGET}\"\n    cp \"$FILE\" \"$TARGET\"\ndone\n</code></pre> <p> Ini juga mencakup beberapa kasus khusus dan pemeriksaan probabilitas. </p>","votes":"7","source":"https://superuser.com/a/289172","author":"<a href=\"https://superuser.com/users/78565/skybeam\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">SkyBeam</span></a>","replies":[{"reply":"1 karena tidak benar-benar mencoba mengurai output <code>ls</code>","author":"<a href=\"https://superuser.com/users/76889/random832\" target=\"_blank\" rel=\"nofollow noopener\">Random832</a>"},{"reply":"Nah, mengurai keluaran ls akan menjadi ide yang buruk karena &#39;ls -l&#39; mencetak format tanggal yang berbeda tergantung pada lokal dan juga tergantung pada jangka waktu ketika modifikasi terakhir terjadi (mungkin menunjukkan hari + bulan atau hanya tahun untuk file yang lebih lama). Mungkin jawaban ini membantu orang lain mencari cara untuk membaca tanggal file juga. Bahasa seperti Perl juga menawarkan fungsi untuk membaca properti file tersebut juga. Dimungkinkan juga untuk menggunakan &#39;stat&#39; tetapi kemudian Anda harus mengurai hasilnya juga.","author":"<a href=\"https://superuser.com/users/78565/skybeam\" target=\"_blank\" rel=\"nofollow noopener\">SkyBeam</a>"}]}]}
