{"title":"Mengklik jauh di vim di tmux di urxvt","draft":false,"url":"/mengklik-jauh-di-vim-di-tmux-di-urxvt-wsfna6pb","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["vim","tmux","xterm","urxvt"],"snippet":"Saya menggunakan vim di dalam tmux di dalam urxvt, dan mouse berfungsi dengan baik untuk mengklik dan memilih teks, kecuali jika saya ingin mengklik terlalu jauh ke kanan.  Tampaknya terkait dengan jarak...","body":"<p> Saya menggunakan vim di dalam tmux di dalam urxvt, dan mouse berfungsi dengan baik untuk mengklik dan memilih teks, kecuali jika saya ingin mengklik terlalu jauh ke kanan. </p>\n\n<p> Tampaknya terkait dengan jarak dalam jumlah kolom dari kiri. Ketika saya melampaui kolom ~ 200 (tidak yakin tentang jumlah pastinya), mengklik tidak apa-apa. </p>\n\n<p> Perhatikan bahwa ini tidak terkait dengan jendela vim: dengan dua jendela vim masing-masing mengambil ~ 150 kolom, mengklik tidak akan berfungsi setelah kolom ~ ke-50 di jendela kedua. Ini terkait dengan seluruh sesi vim. </p>\n\n<p> Perhatikan juga bahwa mengklik jauh di panel tmux besar (&gt; 200 kolom) bekerja dengan sempurna. </p>\n\n<p> Di <code>.tmux.conf</code> saya, saya memiliki baris ini: </p> <pre><code>set -g default-terminal \"screen-256color\"\n</code></pre> <p> dan di <code>.vimrc</code> saya, saya memiliki ini: </p> <pre><code>if &amp;term =~ \"^screen\"\n    autocmd VimEnter * silent !echo -ne \"\\033Ptmux;\\033\\033]12;7\\007\\033\\\\\"\n    let &amp;t_SI = \"\\&lt;Esc&gt;Ptmux;\\&lt;Esc&gt;\\&lt;Esc&gt;]12;5\\x7\\&lt;Esc&gt;\\\\\"\n    let &amp;t_EI = \"\\&lt;Esc&gt;Ptmux;\\&lt;Esc&gt;\\&lt;Esc&gt;]12;7\\x7\\&lt;Esc&gt;\\\\\"\n    autocmd VimLeave * silent !echo -ne \"\\033Ptmux;\\033\\033]12;14\\007\\033\\\\\"\nend\n</code></pre> <p> Ini mengubah warna kursor tergantung pada mode pengeditan vim, dan berfungsi, yang berarti bahwa tmux benar-benar menyetel <code>$TERM</code> ke &quot;screen-256color&quot; - tetapi saya tidak tahu apakah ini ada relevansinya dengan masalah mouse saya. </p>\n\n<p> Saya menjalankan Ubuntu 12.04, vim 7.3, tmux 1.6 dan rxvt-unicode 9.14. </p>\n\n<p> Adakah yang tahu tentang apa yang menyebabkan masalah ini? Terima kasih. </p>\n\n<p><strong> Memperbarui: </strong> Saya sekarang menggunakan xterm dan berhasil. Saya pikir urxvt diperlukan untuk dukungan unicode, tetapi percaya atau tidak, xterm juga memiliki dukungan unicode. </p>","source":"https://superuser.com/questions/485956/clicking-far-away-in-vim-in-tmux-in-urxvt","author":"<a href=\"https://superuser.com/users/122812/paps\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">paps</span></a>","replies":[{"reply":"Cukup berikan +1 saya; Saya juga mengalami masalah ini. Itu hanya bermanifestasi di dalam vim yang ada di dalam tmux; dan itu memanifestasikan terlepas dari file konfigurasi masing-masing. (Bagi saya, kolom itu persisnya 223 setiap saat.)","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\">ELLIOTTCABLE</a>"},{"reply":"Saya telah mencapai milis <code>tmux</code>; kita akan lihat apakah ini bug. <a href=\"http://sourceforge.net/p/tmux/mailman/message/34074071/\" rel=\"nofollow noopener\" target=\"_blank\"> sourceforge.net/p/tmux/mailman/message/34074071 </a>","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\">ELLIOTTCABLE</a>"},{"reply":"Saya memperbarui pertanyaan untuk mengatakan bahwa saya telah memperbaiki masalah dengan beralih ke xterm. Saya tahu ini bukan solusi terbaik tetapi berhasil.","author":"<a href=\"https://superuser.com/users/122812/paps\" target=\"_blank\" rel=\"nofollow noopener\">paps</a>"},{"reply":"Berhubungan dengan <a href=\"https://stackoverflow.com/a/5970472/371250\" target=\"_blank\" rel=\"nofollow noopener\"> stackoverflow.com/a/5970472/371250 </a>","author":"<a href=\"https://superuser.com/users/51847/ninjalj\" target=\"_blank\" rel=\"nofollow noopener\">ninjalj</a>"}],"answers":[{"answer":"<p> Jadi, terima kasih <a href=\"http://www.zootle.net/afda/cgi/bio.cgi?screwtape\" rel=\"nofollow noopener\" target=\"_blank\"> Rekaman sekrup </a> , Aku mendapat <a href=\"http://tmux-users.narkive.com/d9OwLqPf/mouse-using-applications-inside-tmux-in-wide-terminals#post3\" rel=\"nofollow noopener\" target=\"_blank\"> sebuah jawaban </a> untuk ini. Direproduksi di bawah ini: </p>\n\n<hr>\n\n<p> Protokol mouse asli <code>xterm</code> hanya mendukung hingga 223 kolom dan\ngaris. Versi protokol yang lebih baru menggunakan pengkodean UTF-8, yang berubah\nkeluar menjadi ide yang buruk, dan dukungan terminal yang lebih modern\nprotokol yang sama sekali berbeda berdasarkan urutan pelarian SGR itu\njauh lebih waras. </p>\n\n<p> <code>tmux</code> secara otomatis mendukung protokol asli dan protokol SGR\nkedua cara (ke terminal yang dijalankan di dalamnya, dan ke\naplikasi yang berjalan di dalamnya.) tetapi hanya meminta mode UTF-8 dari\nterminal luar jika &#39;mouse-utf8&#39; diaktifkan di file konfigurasi. </p>\n\n<p> Anda dapat menggunakan alat <code>vttest</code> untuk bereksperimen dengan protokol mouse yang berbeda\ndi dalam dan di luar <code>tmux</code> untuk mendapatkan gambaran yang lebih baik tentang apa yang sedang terjadi. </p>\n\n<p> Menurut dokumentasi untuk opsi <code>'ttymouse'</code> Vim, ia akan bertanya\nterminal untuk dukungan original-xterm-protocol jika <code>$TERM</code> adalah varian\ndari <code>xterm</code>, <code>mlterm</code> atau <code>screen</code> (dan <code>tmux</code> melaporkan dirinya sendiri sebagai <code>screen</code>, jadi\nBAIK). Jika terminal mendukung fitur termcap <code>\"RV\"</code> untuk menentukan\nNomor versi <code>xterm</code>, Vim akan menggunakannya untuk secara otomatis meningkatkan ke\nProtokol mouse <code>'xterm2'</code> atau <code>'sgr'</code> ... tetapi biasanya hanya <code>xterm</code> yang mengiklankan\n<code>\"RV\"</code> mendukung, jadi <code>tmux</code> ditinggalkan dari proses peningkatan otomatis. </p>\n\n<p> Di <code>~/.vimrc</code> saya, saya memiliki kode berikut untuk mengaktifkan dukungan mouse yang layak,\nalih-alih mengandalkan deteksi otomatis Vim: </p> <pre><code>\" Screen/tmux can also handle xterm mousiness, but Vim doesn't\n\" detect it by default.\nif &amp;term == \"screen\"\nset ttymouse=xterm2\nendif\n\nif v:version &gt;= 704 &amp;&amp; &amp;term =~ \"^screen\"\n\" Odds are good that this is a modern tmux, so let's pick the\n\" best mouse-handling mode.\nset ttymouse=sgr\nendif\n</code></pre> <hr>\n\n<p> (Catatan, <code>set ttymouse=sgr</code> adalah perbaikan yang sebenarnya, di sini; saya sarankan <a href=\"https://github.com/ELLIOTTCABLE/System/commit/3feec0f\" rel=\"nofollow noopener\" target=\"_blank\"> menambahkannya ke <code>.vimrc</code> Anda </a> seperti yang dilakukan Tim.) </p>","votes":"5","source":"https://superuser.com/a/909868","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ELLIOTTCABLE</span></a>","replies":[{"reply":"Anda dapat menggunakan <code>has(&quot;mouse_sgr&quot;)</code> daripada menguji <code>v:version &gt;= 704</code>","author":"<a href=\"https://superuser.com/users/128586/piec\" target=\"_blank\" rel=\"nofollow noopener\">piec</a>"},{"reply":"Menggunakan <code>set ttymouse=sgr</code> atau <code>set ttymouse=xterm2</code> tidak berfungsi di tmux di urxvt. Anda masih tidak bisa mengklik melewati kolom 223.","author":"<a href=\"https://superuser.com/users/122812/paps\" target=\"_blank\" rel=\"nofollow noopener\">paps</a>"},{"reply":"Hm, @paps, saya tidak memiliki akses ke urxvt untuk diuji. Bisakah Anda memeriksa nilai ttymouse lainnya? Dan aktifkan <code>âŒƒb :</code>, lalu <code>set mouse-utf8 on</code>, di tmux yang Anda uji, menurut saya?","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\">ELLIOTTCABLE</a>"}]},{"answer":"<p> Itu karena batasan dalam protokol pelaporan mouse di terminal:\n&quot; <em> Protokol mouse X10 asli membatasi ordinat C x dan C y menjadi 223 (= 255 - 32) </em> &quot; Lihat <a href=\"http://invisible-island.net/xterm/ctlseqs/ctlseqs.html#Mouse%20Tracking\" rel=\"nofollow noopener\" target=\"_blank\"> Link ini </a> </p>","votes":"1","source":"https://superuser.com/a/486423","author":"<a href=\"https://superuser.com/users/128586/piec\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">piec</span></a>","replies":[{"reply":"Ini tidak terjadi (yah, maksud saya, jika demikian, itu karena <code>tmux</code> atau <code>vim</code> membuat asumsi tentang ini; bukan karena implementasi di terminal); Panel <code>tmux</code> dapat dimanipulasi di luar kolom 223 di Terminal.app saya di OS X, dan jendela <code>vim</code> juga; hanya ketika salah satu ditempatkan di dalam yang lain yang ada masalah.","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\">ELLIOTTCABLE</a>"},{"reply":"Dikonfirmasi: ini jelas merupakan masalah <code>tmux</code>. <code>nano --mouse</code> menunjukkan batasan yang sama seperti <code>vim</code>, tetapi hanya <i> dalam </i> <code>tmux</code>.","author":"<a href=\"https://superuser.com/users/22030/elliottcable\" target=\"_blank\" rel=\"nofollow noopener\">ELLIOTTCABLE</a>"},{"reply":"Saya berbicara tentang urutan kontrol, tmux itu sendiri adalah sejenis emulator terminal. Ini menafsirkan urutan kontrol. Saya tidak pernah mengatakan itu adalah bug terminal","author":"<a href=\"https://superuser.com/users/128586/piec\" target=\"_blank\" rel=\"nofollow noopener\">piec</a>"}]}]}
