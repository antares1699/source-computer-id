{"title":"Homebrew postgres tidak akan mulai setelah uninstall, instal ulang dan reboot","draft":false,"url":"/homebrew-postgres-tidak-akan-mulai-setelah-uninstall-instal-ulang-dan-reboot-6tzers8z","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["macos","postgresql","homebrew"],"snippet":"Saya menghapus dan menginstal ulang postgresql melalui homebrew. Ini bekerja dengan baik sampai saya me-restart komputer saya. Sekarang saya mencoba menjalankan pengujian saya dan mereka meledak. Saya melihat proses saat ini dan...","body":"<p> Saya menghapus dan menginstal ulang postgresql melalui homebrew. Ini bekerja dengan baik sampai saya me-restart komputer saya. Sekarang saya mencoba menjalankan pengujian saya dan mereka meledak. Saya melihat proses saat ini dan saya tidak melihat semua contoh postgres berjalan. Saya kira saya harus mengaktifkan postgres. Saya sudah mencoba lari </p> <pre><code>pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start\n</code></pre> <p> tapi itu sepertinya tidak melakukan apa-apa (meskipun dikatakan <code>server starting</code>, yang mana itu salah) </p>\n\n<p> Bagaimana cara memulai server? </p>\n\n<p> Memperbarui. Info log: </p> <pre><code>cat /usr/local/var/postgres/server.log \npostgres cannot access the server configuration file \"/usr/local/var/postgres/postgresql.conf\": No such file or directory\n</code></pre> <p> Terima kasih </p>","source":"https://superuser.com/questions/554565/homebrew-postgres-wont-start-after-uninstall-reinstall-and-reboot","author":"<a href=\"https://superuser.com/users/136371/adamt\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">AdamT</span></a>","replies":[{"reply":"Lihat log. Apa yang mereka katakan? Bukan hanya <code>&#47;usr&#47;local&#47;var&#47;postgres&#47;server.log</code> tetapi juga log di <code>&#47;usr&#47;local&#47;var&#47;postgres&#47;pg_log&#47;</code>.","author":"<a href=\"https://superuser.com/users/167160/craig-ringer\" target=\"_blank\" rel=\"nofollow noopener\">Craig Ringer</a>"},{"reply":"memposting server.log. tidak ada direktori <code>&#47;usr&#47;local&#47;var&#47;postgres&#47;pg_log</code>","author":"<a href=\"https://superuser.com/users/136371/adamt\" target=\"_blank\" rel=\"nofollow noopener\">AdamT</a>"}],"answers":[{"answer":"<p> Pastikan <code>/usr/local/var/postgres/postmaster.pid</code> tidak ada sebelum memulai server. </p>\n\n<p> Saat terjadi crash dan bukannya shutdown biasa, file ini akan tetap ada di disk. Ini bertindak sebagai kunci global. </p>","votes":"6","source":"https://superuser.com/a/858192","author":"<a href=\"https://superuser.com/users/402871/tim\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Tim</span></a>","replies":[]},{"answer":"<p> Sepertinya Anda belum memiliki <code>initdb</code> database pada <code>/usr/local/var/postgres/</code>, jadi tidak ada <code>postgresql.conf</code> atau <code>pg_hba.conf</code> di sana. Apakah ini hanya direktori kosong? Atau mungkin ada subdirektori dengan DB Anda di dalamnya? </p>\n\n<p> Jika kosong, maka Anda memiliki lokasi yang salah untuk datadir Pg Anda atau Anda telah menghapusnya sebagai bagian dari beberapa pencopotan sebelumnya dan perlu membuat DB baru dengan perintah <code>initdb</code>. </p>","votes":"0","source":"https://superuser.com/a/554597","author":"<a href=\"https://superuser.com/users/167160/craig-ringer\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Craig Ringer</span></a>","replies":[{"reply":"setelah menginstal postgres dengan homebrew, ia memberi tahu saya ke <code>If this is your first install, create a database with:   initdb &#47;usr&#47;local&#47;var&#47;postgres -E utf8</code> ketika saya menjalankan ini, ia memberi tahu saya bahwa folder tersebut sudah berisi <code>postgres</code> jadi saya rm -rf apa yang ada di sana dan jalankan lagi. ini kemudian diikuti oleh sekelompok konfirmasi <code>ok</code>-an. saya pikir masalah saya mungkin terkait dengan ini: <a href=\"https://github.com/mxcl/homebrew/issues/14527\" rel=\"nofollow noopener\" target=\"_blank\"> github.com/mxcl/homebrew/issues/14527 </a>","author":"<a href=\"https://superuser.com/users/136371/adamt\" target=\"_blank\" rel=\"nofollow noopener\">AdamT</a>"},{"reply":"@NewB tidak, saya sangat meragukan itu terkait. Masalah Anda adalah direktori data Anda kosong atau hilang. Jika Anda melakukan <code>ls -al &#47;usr&#47;local&#47;var&#47;postgres</code> apa yang terdaftar?","author":"<a href=\"https://superuser.com/users/167160/craig-ringer\" target=\"_blank\" rel=\"nofollow noopener\">Craig Ringer</a>"},{"reply":"setelah saya memperbarui kernel, seperti yang disarankan dalam issue14527, dan kemudian memulai ulang saya dapat memulai postgres. saya masih takut untuk reboot meskipun saya memperbarui <code>sysctl.conf</code>. sejauh ini semua tampaknya berfungsi. akan memperbarui ini jika epik lain gagal.","author":"<a href=\"https://superuser.com/users/136371/adamt\" target=\"_blank\" rel=\"nofollow noopener\">AdamT</a>"}]}]}
