{"title":"Apa yang terjadi pada lingkungan saat Anda menjalankan &quot;su -c&quot;?","draft":false,"url":"/apa-yang-terjadi-pada-lingkungan-saat-anda-menjalankan-quotsu-cquot-ygd4iqbu","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["bash","unix","sh","su"],"snippet":"Apa yang terjadi pada lingkungan saat Anda menjalankan &quot;su -c&quot;?  Alasan saya bertanya, apakah ini perilaku misterius:  bash$ which firefox/usr/local/bin/firefoxbash$ su - user -c \"echo $PATH\"bin:/usr/bin:/sbin:/usr/sbin:/opt/java/bin:/usr/local/bin:... bash$ su -...","body":"<p> Apa yang terjadi pada lingkungan saat Anda menjalankan &quot;su -c&quot;? </p>\n\n<p> Alasan saya bertanya, apakah ini perilaku misterius: </p> <pre><code>bash$ which firefox\n/usr/local/bin/firefox\nbash$ su - user -c \"echo $PATH\"\nbin:/usr/bin:/sbin:/usr/sbin:/opt/java/bin:/usr/local/bin:... \nbash$ su - user -c \"firefox ...\"\n-bash: firefox: command not found\n</code></pre> <p> Ada ide? </p>","source":"https://superuser.com/questions/193277/what-happens-to-the-environment-when-you-run-su-c","author":"<a href=\"https://superuser.com/users/41678/ttsiodras\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ttsiodras</span></a>","replies":[{"reply":"Saya berasumsi firefox yang ada di $ PATH digema oleh perintah pertama?","author":"<a href=\"https://superuser.com/users/2013/nifle\" target=\"_blank\" rel=\"nofollow noopener\">Nifle</a>"}],"answers":[{"answer":"<p> Apa yang Anda lihat adalah fakta bahwa <code>$PATH</code> diperluas di shell pengguna pertama selama pemrosesan argumen, sebelum perintah <code>su(1)</code> dijalankan, jadi sepertinya selalu begitu. Jika Anda menggunakan tanda kutip tegas (<code>'echo $PATH'</code>), Anda akan melihat sesuatu yang berbeda, atau lakukan saja <code>\\$</code>. </p>\n\n<p> Ini akan mempertahankan sintaks <code>$PATH</code> hingga setelah perintah <code>su(1)</code> dijalankan. Meskipun biasanya tidak mengutak-atik lingkungan, ia memulai shell baru, jadi Anda harus memeriksa <code>PATH=</code> baris di berbagai skrip startup shell. </p>\n\n<p> <code>su(1)</code> Anda memiliki opsi <code>-c</code>, jadi sepertinya Anda menggunakan Linux. Di Mac atau BSD Anda akan mendapatkan <code>PATH</code> yang disederhanakan daripada login <code>PATH</code> tetapi Anda masih akan mendapatkan &quot;kapan saya memperluas PATH?&quot; isu. </p>","votes":"3","source":"https://superuser.com/a/193278","author":"<a href=\"https://superuser.com/users/9154/digitalross\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">DigitalRoss</span></a>","replies":[]},{"answer":"<p> Ketika <code>su -</code> atau <code>su -l</code> digunakan, itu mengemulasi sesi login, yang melibatkan pengaturan ulang lingkungan ke keadaan bersih. </p>\n\n<p> Pada Arch Linux, <code>su -</code> menggunakan string hardcode <code>/usr/ucb:/bin:/usr/bin:/etc</code> sebagai <code>$PATH</code> baru. Pada sistem lain, ini mungkin membaca <code>ENV_SUPATH</code> dari <code>/etc/login.defs</code>, atau mengandalkan PAM untuk mengatur lingkungan. </p>\n\n<p><strong> <code>su ... \"echo $PATH\"</code> bohong, karena bagian <code>$PATH</code> diperluas oleh shell Anda saat ini, jauh sebelum <code>su</code> diluncurkan. Gunakan <code>su ... 'echo $PATH'</code> sebagai gantinya (perhatikan tanda kutip tunggal), atau <code>su - -c env</code> (mencetak lingkungan lengkap). </strong></p>","votes":"7","source":"https://superuser.com/a/192702","author":"<a href=\"https://superuser.com/users/1686/user1686\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">user1686</span></a>","replies":[]}]}
