{"title":"Utilitas Linux &#39;atas&#39; sangat tidak akurat (lebih dari itu untuk perangkat keras multi-CPU / inti)?","draft":false,"url":"/utilitas-linux-39atas39-sangat-tidak-akurat-lebih-dari-itu-untuk-perangkat-keras-multi-cpu-inti-8nzx5tla","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","cpu","monitoring","multi-core"],"snippet":"Setelah menggunakan top untuk waktu yang lama, meskipun pada dasarnya, saya semakin tidak mempercayai laporan kolom % CPU-nya. Saya memiliki perangkat keras 8-core (quad core Intel i7 920 dengan hyperthreading), dan melihat...","body":"<p> Setelah menggunakan <code>top</code> untuk waktu yang lama, meskipun pada dasarnya, saya semakin tidak mempercayai laporan kolom <code>% CPU</code>-nya. Saya memiliki perangkat keras 8-core (quad core Intel i7 920 dengan hyperthreading), dan melihat beberapa angka liar saat menjalankan proses yang seharusnya tidak menggunakan lebih dari 5% secara keseluruhan. <code>top</code> dengan senang hati melaporkan 50%, dan saya curiga tidak demikian. </p>\n\n<p> Pertanyaan saya adalah, apakah itu fakta yang diketahui bahwa itu tidak akurat ketika ada beberapa CPU / core? </p>\n\n<p> Saya menggunakan <code>mpstat</code> dari paket <code>sysstat</code>, dan penampilannya jauh lebih konservatif, tentunya sesuai harapan saya. Saya memang menekan <code>1</code> untuk <code>top</code> untuk mengubahnya untuk menampilkan semua inti dan statistik us / sy / io, tetapi jumlahnya jauh lebih tinggi daripada dengan <code>mpstat</code> ... </p>\n\n<p> Saya tahu bahwa ekspektasi saya juga tidak berdasar, tetapi firasat saya mengatakan bahwa <code>top</code> salah! </p>\n\n<p> Alasan yang perlu saya ketahui adalah karena proses yang saya pantau hanya menjamin kualitas layanan dengan penggunaan CPU &quot;kurang dari 80%&quot; (betapapun samar-samar kedengarannya), dan saya perlu tahu berapa banyak ruang kepala yang tersisa. Ini adalah server streaming. </p>","source":"https://superuser.com/questions/136780/linux-top-utility-wildly-inaccurate-more-so-for-multi-cpu-core-hardware","author":"<a href=\"https://superuser.com/users/29051/amn\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">amn</span></a>","replies":[{"reply":"Apa nomor penggunaan CPU pada <code>top</code> yang Anda bicarakan? Mode tunggal atau SMP?","author":"<a href=\"https://superuser.com/users/21992/benjamin-bannier\" target=\"_blank\" rel=\"nofollow noopener\">Benjamin Bannier</a>"},{"reply":"Baik tunggal dan SMP melaporkan total yang sekitar dua kali lebih tinggi dari angka yang dilaporkan oleh mpstat.","author":"<a href=\"https://superuser.com/users/29051/amn\" target=\"_blank\" rel=\"nofollow noopener\">amn</a>"},{"reply":"Coba instal htop. Itu adalah versi yang lebih baik (menurut saya) dari atas. Lihat hasil apa yang Anda dapatkan di sana terlebih dahulu.","author":"<a href=\"https://superuser.com/users/83426/waxhead\" target=\"_blank\" rel=\"nofollow noopener\">Waxhead</a>"}],"answers":[{"answer":"<p> Sebenarnya Anda dapat menjalankan atas dalam mode interaktif dengan menekan &#39;I&#39; dan menormalkan% waktu CPU dengan membaginya dengan jumlah total CPU. </p>","votes":"5","source":"https://superuser.com/a/505860","author":"<a href=\"https://superuser.com/users/173559/mirza-basim-baig\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mirza Basim Baig</span></a>","replies":[]},{"answer":"<p> Dugaan saya adalah bahwa beban penuh pada sistem Anda akan menjadi 800% (100% untuk setiap inti) </p>","votes":"4","source":"https://superuser.com/a/136805","author":"<a href=\"https://superuser.com/users/16260/stevenrjanssens\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">stevenrjanssens</span></a>","replies":[{"reply":"Nah, bukankah 800% kemustahilan matematis atau sesuatu :-) Itulah intinya - bukankah lebih baik bagi &#39;top&#39; untuk menyesuaikan laporannya sehingga 100% adalah 100% dari keseluruhan rangkaian CPU ruang penggunaan? Jadi, saat ini, 50% laporan saya harus dibagi 8 untuk mendapatkan angka yang lebih bermakna, bukan?","author":"<a href=\"https://superuser.com/users/29051/amn\" target=\"_blank\" rel=\"nofollow noopener\">amn</a>"},{"reply":"Meskipun 800% tampak konyol, hal ini memperjelas bahwa banyak inti yang digunakan. Saya pikir itu adalah kludge yang masuk akal ketika Anda tidak memiliki daftar penggunaan CPU per inti yang berbeda. Menskalakan pengukuran ke dalam 100% tidak akan memberi tahu pengguna apakah suatu proses multi-core atau tidak.","author":"<a href=\"https://superuser.com/users/2373/neil\" target=\"_blank\" rel=\"nofollow noopener\">Neil</a>"}]}]}
