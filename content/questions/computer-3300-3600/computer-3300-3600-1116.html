{"title":"Melayani permintaan http dengan tcpserver","draft":false,"url":"/melayani-permintaan-http-dengan-tcpserver-9avgi5nd","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["http"],"snippet":"Saya mencoba menggunakan tcpserver dari ucspi-tcp untuk meluncurkan skrip yang mengembalikan halaman web sederhana. Skrip saya (hello.lua) adalah sebagai berikut:  #!/usr/bin/env lua  print([[HTTP/1.1 200 OK  Content-Type: text/html  &lt;html&gt;  &lt;head&gt;  &lt;title&gt;My title&lt;/title&gt;  &lt;/head&gt;...","body":"<p> Saya mencoba menggunakan tcpserver dari ucspi-tcp untuk meluncurkan skrip yang mengembalikan halaman web sederhana. Skrip saya (hello.lua) adalah sebagai berikut: </p>\n\n<p> <code>#!/usr/bin/env lua</code> <br> <code>print([[HTTP/1.1 200 OK</code> <br> <code>Content-Type: text/html</code> <br> <code>&lt;html&gt;</code> <br> <code>&lt;head&gt;</code> <br> <code>&lt;title&gt;My title&lt;/title&gt;</code> <br> <code>&lt;/head&gt;</code> <br> <code>&lt;body&gt;</code> <br> <code>&lt;h1&gt;Hello in big font&lt;/h1&gt;</code> <br> <code>&lt;/body&gt;</code> <br> <code>&lt;/html&gt;]])</code> </p>\n\n<p> Saya meluncurkannya dengan <code>tcpserver -v -rh 0 9000 /path/to/hello.lua</code> </p>\n\n<p> Saat saya menggunakan <code>tcpcat myserver 9000</code>, saya mendapatkan hasil yang diharapkan: <br> <code>HTTP/1.1 200 OK</code> <br> <code>Content-Type: text/html</code> <br> <code>&lt;html&gt;</code> <br> <code>&lt;head&gt;</code> <br> <code>&lt;title&gt;My title&lt;/title&gt;</code> <br> <code>&lt;/head&gt;</code> <br> <code>&lt;body&gt;</code> <br> <code>&lt;h1&gt; Hello in big font&lt;/h1&gt;</code> <br> <code>&lt;/body&gt;</code> <br> <code>&lt;/html&gt;</code> </p>\n\n<p> Namun, ketika saya mencoba menggunakan browser web dan menunjuk ke <code>http:\\\\myserver:9000</code>, saya mendapatkan kesalahan browser (di Chrome) <code>Error 101 (net::ERR_CONNECTION_RESET): Unknown error</code>, meskipun pencatatan tcpserver menunjukkan transaksi: <br> <code>tcpserver: status 1/40</code> <br> <code>tcpserver: pid 21672 from &lt;ip address of browser&gt;</code> <br> <code>tcpserver: ok 21672 &lt;server hostname&gt;::::ffff:&lt;server ip&gt;:9000 &lt;client hostname&gt;::::ffff:&lt;client ip&gt;::3133</code> <br> <code>tcpserver: end 21672 status 0</code> </p>\n\n<p> Saya tahu saya kehilangan sesuatu yang mendasar di sini, tetapi saya tidak dapat menyatukan potongan-potongan puzzle itu. Setiap wawasan dihargai! Terima kasih! </p>","source":"https://superuser.com/questions/248921/serving-http-requests-with-tcpserver","author":"<a href=\"https://superuser.com/users/35365/keith-pimmel\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Keith Pimmel</span></a>","replies":[],"answers":[{"answer":"<p> Anda membutuhkan baris kosong antara header dan konten: </p> <pre><code>HTTP/1.1 200 OK\nContent-Type: text/html\n\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;My title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Hello in big font&lt;/h1&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>","votes":"6","source":"https://superuser.com/a/248950","author":"<a href=\"https://superuser.com/users/68679/thief\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Thief</span></a>","replies":[]},{"answer":"<p><a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec6.html#sec6\" rel=\"nofollow noopener\" target=\"_blank\"> RFC2616 </a> menentukan bahwa baris status dan baris header dari respons HTTP masing-masing harus diakhiri dengan CRLF. Jika Anda membuat skrip lua Anda pada mesin non-Windows, kemungkinan besar Anda tidak memiliki terminator baris CRLF yang tepat. Selain itu, Anda perlu memisahkan header pesan dari badan dengan baris kosong (CRLF-nya sendiri). </p>","votes":"4","source":"https://superuser.com/a/248952","author":"<a href=\"https://superuser.com/users/56676/steven-monday\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Steven Monday</span></a>","replies":[]}]}
