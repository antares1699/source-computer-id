{"title":"Banyak kesalahan oleh insserv pada operasi apt-get setelah mencoba menginstal tomcat","draft":false,"url":"/banyak-kesalahan-oleh-insserv-pada-operasi-apt-get-setelah-mencoba-menginstal-tomcat-2hfzo2rm","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["debian","aptitude"],"snippet":"Saya ingin menginstal tomcat di mesin Debian 6.0.4 saya. Saya mencoba apt-get install tomcat6-user yang berfungsi dengan baik. Tetapi kemudian saya berubah pikiran tentang instalasi pengguna dan ingin menginstal paket tomcat6. Ini...","body":"<p> Saya ingin menginstal tomcat di mesin Debian 6.0.4 saya. Saya mencoba <code>apt-get install tomcat6-user</code> yang berfungsi dengan baik. Tetapi kemudian saya berubah pikiran tentang instalasi pengguna dan ingin menginstal paket tomcat6. Ini menghasilkan banyak kesalahan (lihat di bawah). </p>\n\n<p> Sekarang apa pun yang saya coba lakukan dengan apt-get atau dengan aptitude (mencoba menghapus tomcat6-user, mencoba menghapus tomcat6, mencoba melakukan peningkatan apt-get, ...) hanya menghasilkan daftar kesalahan yang sama. </p>\n\n<p> Bagaimana saya mengaturnya? Dan bagaimana cara memperbaikinya? </p> <pre><code># apt-get install tomcat6\nReading package lists... Done\nBuilding dependency tree       \nReading state information... Done\nThe following extra packages will be installed:\n  authbind\nSuggested packages:\n  tomcat6-docs tomcat6-admin tomcat6-examples libtcnative-1\nThe following NEW packages will be installed:\n  authbind tomcat6\n0 upgraded, 2 newly installed, 0 to remove and 32 not upgraded.\nNeed to get 56.6 kB of archives.\nAfter this operation, 442 kB of additional disk space will be used.\nDo you want to continue [Y/n]? \nGet:1 http://mirror.hetzner.de/debian/packages/ squeeze/main authbind amd64 1.2.0 [17.3 kB]\nGet:2 http://mirror.hetzner.de/debian/security/ squeeze/updates/main tomcat6 all 6.0.35-1+squeeze2 [39.3 kB]\nFetched 56.6 kB in 0s (441 kB/s)\nPreconfiguring packages ...\nSelecting previously deselected package authbind.\n(Reading database ... 34717 files and directories currently installed.)\nUnpacking authbind (from .../authbind_1.2.0_amd64.deb) ...\nSelecting previously deselected package tomcat6.\nUnpacking tomcat6 (from .../tomcat6_6.0.35-1+squeeze2_all.deb) ...\nProcessing triggers for man-db ...\nSetting up authbind (1.2.0) ...\nSetting up tomcat6 (6.0.35-1+squeeze2) ...\n\nCreating config file /etc/default/tomcat6 with new version\nAdding system user `tomcat6' (UID 108) ...\nAdding new user `tomcat6' (UID 108) with group `tomcat6' ...\nNot creating home directory `/usr/share/tomcat6'.\ninsserv: warning: script 'S99iptables-custom' missing LSB tags and overrides\ninsserv: warning: script 'iptables-custom' missing LSB tags and overrides\ninsserv: There is a loop at service iptables-custom if started\ninsserv: There is a loop between service rmnologin and mountnfs if started\ninsserv:  loop involving service mountnfs at depth 6\ninsserv:  loop involving service networking at depth 5\ninsserv:  loop involving service kbd at depth 9\ninsserv: There is a loop between service rmnologin and mountall-bootclean if started\ninsserv:  loop involving service mountall-bootclean at depth 5\ninsserv:  loop involving service mountall at depth 4\ninsserv: There is a loop between service iptables-custom and lvm2 if started\ninsserv:  loop involving service lvm2 at depth 2\ninsserv:  loop involving service udev at depth 1\ninsserv: There is a loop at service rmnologin if started\ninsserv: There is a loop between service iptables-custom and checkroot if started\ninsserv:  loop involving service checkroot at depth 2\ninsserv:  loop involving service keyboard-setup at depth 1\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Max recursions depth 99 reached\ninsserv:  loop involving service courier-imap-ssl at depth 1\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv:  loop involving service hwclockfirst at depth 2\ninsserv:  loop involving service mountoverflowtmp at depth 9\ninsserv:  loop involving service checkfs at depth 6\ninsserv:  loop involving service mdadm-raid at depth 4\ninsserv:  loop involving service hostname at depth 3\ninsserv: There is a loop between service iptables-custom and ifupdown-clean if started\ninsserv:  loop involving service ifupdown-clean at depth 5\ninsserv: There is a loop between service rmnologin and mountall if started\ninsserv: There is a loop between service iptables-custom and mountdevsubfs if started\ninsserv:  loop involving service mountdevsubfs at depth 1\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv:  loop involving service mtab at depth 6\ninsserv: There is a loop between service rmnologin and mountoverflowtmp if started\ninsserv: Starting iptables-custom depends on rmnologin and therefore on system facility `$all' which can not be true!\ninsserv: exiting now without changing boot order!\nupdate-rc.d: error: insserv rejected the script header\ndpkg: error processing tomcat6 (--configure):\n subprocess installed post-installation script returned error exit status 1\nconfigured to not write apport reports\n                                      Errors were encountered while processing:\n tomcat6\nE: Sub-process /usr/bin/dpkg returned an error code (1)\n</code></pre>","source":"https://superuser.com/questions/421652/lots-of-errors-by-insserv-on-apt-get-operations-after-trying-to-install-tomcat","author":"<a href=\"https://superuser.com/users/90658/yankee\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">yankee</span></a>","replies":[],"answers":[{"answer":"<p> OK aku mengerti. Saya membuat skrip iptables-common saya sendiri yang hanya berisi beberapa aturan iptables statis. Menghapus skrip itu menyelesaikan masalah. Meskipun saya bingung bahwa ini sebelumnya tidak pernah menjadi masalah. Mungkin karena tomcat menambahkan aturan iptable ... </p>","votes":"4","source":"https://superuser.com/a/421731","author":"<a href=\"https://superuser.com/users/90658/yankee\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">yankee</span></a>","replies":[]},{"answer":"<p> Saat Anda melihat skrip lain di /etc/init.d/, Anda mungkin memperhatikan bahwa skrip tersebut dimulai dengan bagian tertentu seperti berikut: </p> <pre><code>#!/bin/sh\n### BEGIN INIT INFO\n# Provides:\n# Required-Start:    iptables\n# Required-Stop:\n# Default-Start:     S\n# Default-Stop:\n# Short-Description: Initialize iptables rules.\n# Description:\n### END INIT INFO\n</code></pre> <p> Dengan menambahkan bagian seperti itu, kesalahan yang Anda temui saat mencoba menginstal tomcat tidak akan ada lagi. </p>\n\n<p> Untuk informasi lebih lanjut: <a href=\"http://wiki.debian.org/LSBInitScripts/\" rel=\"nofollow noopener\" target=\"_blank\"> Debian Wiki LSBInitScripts </a></p>","votes":"3","source":"https://superuser.com/a/469434","author":"<a href=\"https://superuser.com/users/156019/sltk\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">sltk</span></a>","replies":[{"reply":"Terima kasih! Saya melakukan itu pada skrip lain dengan kesalahan serupa (harus membuat data init yang masuk akal) dan berhasil.","author":"<a href=\"https://superuser.com/users/87664/weronika\" target=\"_blank\" rel=\"nofollow noopener\">weronika</a>"}]}]}
