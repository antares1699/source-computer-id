{"title":"Mengapa arsip ini gagal membuat symlink?","draft":false,"url":"/mengapa-arsip-ini-gagal-membuat-symlink-grmjk7ap","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["debian","symbolic-link","tar"],"snippet":"Saat saya mengekstrak arsip  Symfony_Standard_2.2.1.tgz  menggunakan perintah ini:  $ tar xzf /home/tomas/downloads/Symfony_Standard_2.2.1.tgz  Saya selalu mendapatkan kesalahan:  tar: doctrine.php: Cannot create symlink to `../vendor/doctrine/orm/bin/doctrine.php': Operation not supportedtar: doctrine: Cannot create symlink to...","body":"<p> Saat saya mengekstrak arsip <a href=\"http://symfony.com/download?v=Symfony_Standard_2.2.1.tgz\" rel=\"nofollow noopener\" target=\"_blank\"> Symfony_Standard_2.2.1.tgz </a> menggunakan perintah ini: </p> <pre>$ tar xzf /home/tomas/downloads/Symfony_Standard_2.2.1.tgz</pre> <p> Saya selalu mendapatkan kesalahan: </p> <pre>tar: doctrine.php: Cannot create symlink to `../vendor/doctrine/orm/bin/doctrine.php': Operation not supported\ntar: doctrine: Cannot create symlink to `../vendor/doctrine/orm/bin/doctrine': Operation not supported\ntar: Exiting with failure status due to previous errors</pre> <h2 class=\"h4\"> Mengapa gagal membuat symlink? </h2>\n\n<hr> <pre>$ tar --version\ntar (GNU tar) 1.23\nCopyright (C) 2010 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later .\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nWritten by John Gilmore and Jay Fenlason.</pre>\n\n<pre>$ lsb_release -a\nNo LSB modules are available.\nDistributor ID: Debian\nDescription:    Debian GNU/Linux 6.0.7 (squeeze)\nRelease:        6.0.7\nCodename:       squeeze</pre>","source":"https://superuser.com/questions/584146/why-is-this-archive-failing-to-create-symlinks","author":"<a href=\"https://superuser.com/users/48741/hubro\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Hubro</span></a>","replies":[{"reply":"Sistem file mana yang Anda ekstrak? Saya menduga itu salah satu yang tidak mendukung symlink? Seperti FAT","author":"<a href=\"https://superuser.com/users/34844/pylsa\" target=\"_blank\" rel=\"nofollow noopener\">Pylsa</a>"}],"answers":[{"answer":"<p><a href=\"https://superuser.com/users/34844/bloodphilia\" target=\"_blank\" rel=\"nofollow noopener\"> BloodPhilia </a> Komentar mengatakan itu semua. Saya tidak mempertimbangkan fakta bahwa saya sedang mengerjakan folder bersama VMware dari mesin Windows dengan partisi NTFS. Mengekstrak arsip di mana saja di mesin virtual berfungsi dengan baik. </p>","votes":"8","source":"https://superuser.com/a/584172","author":"<a href=\"https://superuser.com/users/48741/hubro\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Hubro</span></a>","replies":[]},{"answer":"<p> Saya datang agak terlambat ke pesta ini, tetapi mengalami masalah yang sama kemarin. Jika sistem file tidak mendukung symlink dan Anda ingin semua konten dari arsip dapat diakses, mungkin ada solusi untuk menyalin file-file itu (yang harus dihubungkan dengan symlink). </p>\n\n<p> Arsip yang ingin saya ekstrak memiliki 20+ symlink, jadi saya memutuskan untuk membuat perintah <code>cp</code> dengan skrip. Saya hanya perlu memberikan keluaran <code>stderr</code> dari <code>tar</code> (melalui file oleh <code>tar ... 2&gt; /tmp/tar-stderr.txt</code>) dan folder target. Saya memutuskan untuk belum menjalankan perintah <code>cp</code>, tetapi menyalurkannya ke file yang dapat saya periksa sebelum saya <code>chmod +x</code> dan menjalankannya. Jangan ragu untuk meningkatkan skrip, menyalurkan tar langsung ke situ (mis. Oleh <a href=\"https://stackoverflow.com/a/2381643\" target=\"_blank\" rel=\"nofollow noopener\"> menukar <code>stdout</code>/<code>stderr</code> </a> ), gunakan entah bagaimana <code>tee</code> untuk memberikan pesan yang diabaikan dari <code>tar</code> ... </p> <pre><code>#!/bin/sh\n(export DIR=/your/extraction/target/directory; echo \\#\\!/bin/sh -e; cat /tmp/tar-stderr.txt | grep 'Cannot create symlink to' | sed -e 's7^tar: \\.\\([^:]\\+\\): Cannot create symlink to .\\([^:]\\+\\).*$7\\1:\\27' -e \"s7^\\(.\\+\\)/\\([^:]\\+\\):\\(.\\+\\).\\$7cd $DIR\\1 \\&amp;\\&amp; cp \\3 \\2;7\")\n</code></pre> <p> EDIT: Penjelasan skrip ditambahkan: </p>\n\n<p> <code>grep</code> memfilter garis minat.\nPerintah <code>sed</code> saya sederhana, tetapi gunakan <code>7</code> sebagai pembatas bidang daripada <code>/</code> umum. Dengan ini saya dapat mencari dan / atau menulis <code>/</code>. </p>\n\n<p> Ekspresi <code>sed</code> pertama memfilter informasi yang relevan (jalur relatif dan 2 nama file) dan menempatkan <code>:</code> sebagai pembatas. Yang kedua membedakan nama file dari path dan membuang <code>'</code> di bagian paling akhir; hasil akhirnya adalah perintah <code>cp</code>. </p>","votes":"0","source":"https://superuser.com/a/924854","author":"<a href=\"https://superuser.com/users/225124/tueftl\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">tueftl</span></a>","replies":[]}]}
