{"title":"Apakah fstrim memakai SSD","draft":false,"url":"/apakah-fstrim-memakai-ssd-enh4pera","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["ssd"],"snippet":"Saya membeli samsung 840 pro 250 GB ssd ~ dua bulan yang lalu, dan saya bertanya-tanya berapa banyak yang telah ditulis untuk itu. Sebenarnya, saya memiliki empat partisi: /, / home, boot,...","body":"<p> Saya membeli samsung 840 pro 250 GB ssd ~ dua bulan yang lalu, dan saya bertanya-tanya berapa banyak yang telah ditulis untuk itu. Sebenarnya, saya memiliki empat partisi: /, / home, boot, dan swap. Untuk mengetahui berapa banyak yang telah ditulis ke rumah, saya menulis </p>\n\n<p> <code>$cat /sys/fs/ext4/sda7/lifetime_write_kbytes</code> </p>\n\n<p> hasilnya <code>8,985,606,440</code> (saya menambahkan koma). Jadi itu 8TB. Saya bertanya-tanya pada diri saya sendiri, Nak, saya pasti banyak menulis. Bagaimana ya? Saya memantau berapa banyak yang saya tulis dari browsing internet dan tugas umum lainnya, kemudian saya ingat bahwa saya menyiapkan cron harian untuk melakukan fstrim, karena internet menyuruh saya melakukannya. Jadi saya lari </p>\n\n<p> <code>$sudo fstrim -v /home</code> </p>\n\n<p> dan hasilnya <code>606,591,360</code> byte dipangkas. </p>\n\n<p> Lalu aku lari </p>\n\n<p> <code>$cat /sys/fs/ext4/sda7/lifetime_write_kbytes</code> </p>\n\n<p> lagi dan cukup yakin saya mendapatkan <code>8,986,209,516</code>. Jadi tulisan saya meningkat 600MB. Sekarang ini sebenarnya tidak cukup untuk memperhitungkan 8TB penulisan, tetapi saya baru saja menjalankan fstrim beberapa menit sebelumnya, jadi menurut saya fstrim biasanya memangkas lebih dari 600 MB. Saya harus mengkonfirmasi ini. </p>\n\n<p> Terlepas dari itu, apakah penulisan yang disebabkan oleh fstrim benar-benar diperhitungkan dalam mengurangi masa pakai SSD Anda? Saya mendapat kesan mereka tidak. </p>\n\n<h1 class=\"h3\"> Sunting </h1>\n\n<p> Saya tidak perlu menebak berapa banyak yang biasanya dipangkas oleh tugas cron. Ternyata internet menyuruh saya untuk mencatat output dari fstrim. Melihat log, saya melihatnya terpangkas rata-rata sekitar 150 GB / hari sejak 24 Agustus 150 GB / hari * 60 hari sekitar 9 TB. Jadi saya pikir fstrim memperhitungkan 9TB penulisan yang saya miliki ke SSD saya. </p>\n\n<h1 class=\"h3\"> Edit 2 </h1>\n\n<p> smart tidak diaktifkan pada SSD, tetapi saya menjalankan <code>$sudo smartctl -s on /dev/sda7</code>. Kemudian saya menjalankan <code>$sudo smartctl -a /dev/sda7</code>. Ini adalah hasilnya: </p> <pre><code>smartctl 5.43 2012-06-30 r3573 [x86_64-linux-3.8.0-25-generic] (local build)\nCopyright (C) 2002-12 by Bruce Allen, http://smartmontools.sourceforge.net\n\n=== START OF INFORMATION SECTION ===\nDevice Model:     Samsung SSD 840 PRO Series\nSerial Number:    S1ATNSAD780426K\nLU WWN Device Id: 5 002538 5a00ae961\nFirmware Version: DXM05B0Q\nUser Capacity:    256,060,514,304 bytes [256 GB]\nSector Size:      512 bytes logical/physical\nDevice is:        Not in smartctl database [for details use: -P showall]\nATA Version is:   8\nATA Standard is:  ATA-8-ACS revision 4c\nLocal Time is:    Wed Oct 30 09:43:18 2013 CDT\nSMART support is: Available - device has SMART capability.\nSMART support is: Enabled\n\n=== START OF READ SMART DATA SECTION ===\nSMART overall-health self-assessment test result: PASSED\n\nGeneral SMART Values:\nOffline data collection status:  (0x00) Offline data collection activity\n                    was never started.\n                    Auto Offline Data Collection: Disabled.\nSelf-test execution status:      (   0) The previous self-test routine completed\n                    without error or no self-test has ever \n                    been run.\nTotal time to complete Offline \ndata collection:        (53956) seconds.\nOffline data collection\ncapabilities:            (0x53) SMART execute Offline immediate.\n                    Auto Offline data collection on/off support.\n                    Suspend Offline collection upon new\n                    command.\n                    No Offline surface scan supported.\n                    Self-test supported.\n                    No Conveyance Self-test supported.\n                    Selective Self-test supported.\nSMART capabilities:            (0x0003) Saves SMART data before entering\n                    power-saving mode.\n                    Supports SMART auto save timer.\nError logging capability:        (0x01) Error logging supported.\n                    General Purpose Logging supported.\nShort self-test routine \nrecommended polling time:    (   2) minutes.\nExtended self-test routine\nrecommended polling time:    (  20) minutes.\nSCT capabilities:          (0x003d) SCT Status supported.\n                    SCT Error Recovery Control supported.\n                    SCT Feature Control supported.\n                    SCT Data Table supported.\n\nSMART Attributes Data Structure revision number: 1\nVendor Specific SMART Attributes with Thresholds:\nID# ATTRIBUTE_NAME          FLAG     VALUE WORST THRESH TYPE      UPDATED  WHEN_FAILED RAW_VALUE\n  5 Reallocated_Sector_Ct   0x0033   100   100   010    Pre-fail  Always       -       0\n  9 Power_On_Hours          0x0032   099   099   000    Old_age   Always       -       458\n 12 Power_Cycle_Count       0x0032   099   099   000    Old_age   Always       -       28\n177 Wear_Leveling_Count     0x0013   099   099   000    Pre-fail  Always       -       2\n179 Used_Rsvd_Blk_Cnt_Tot   0x0013   100   100   010    Pre-fail  Always       -       0\n181 Program_Fail_Cnt_Total  0x0032   100   100   010    Old_age   Always       -       0\n182 Erase_Fail_Count_Total  0x0032   100   100   010    Old_age   Always       -       0\n183 Runtime_Bad_Block       0x0013   100   100   010    Pre-fail  Always       -       0\n187 Reported_Uncorrect      0x0032   100   100   000    Old_age   Always       -       0\n190 Airflow_Temperature_Cel 0x0032   072   068   000    Old_age   Always       -       28\n195 Hardware_ECC_Recovered  0x001a   200   200   000    Old_age   Always       -       0\n199 UDMA_CRC_Error_Count    0x003e   100   100   000    Old_age   Always       -       0\n235 Unknown_Attribute       0x0012   001   001   000    Old_age   Always       -       4294967148\n241 Total_LBAs_Written      0x0032   099   099   000    Old_age   Always       -       748699270\n\nSMART Error Log Version: 1\nNo Errors Logged\n\nSMART Self-test log structure revision number 1\nNo self-tests have been logged.  [To run self-tests, use: smartctl -t]\n\n\nSMART Selective self-test log data structure revision number 1\n SPAN  MIN_LBA  MAX_LBA  CURRENT_TEST_STATUS\n    1        0        0  Not_testing\n    2        0        0  Not_testing\n    3        0        0  Not_testing\n    4        0        0  Not_testing\n    5        0        0  Not_testing\n  255        0    65535  Read_scanning was never started\nSelective self-test flags (0x0):\n  After scanning selected spans, do NOT read-scan remainder of disk.\nIf Selective self-test is pending on power-up, resume after 0 minute delay.\n</code></pre>","source":"https://superuser.com/questions/667412/does-fstrim-wear-out-ssd","author":"<a href=\"https://superuser.com/users/249433/brian-moths\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Brian Moths</span></a>","replies":[{"reply":"Seberapa sering Anda menekan swap? Jika jawabannya &quot;lebih dari hampir tidak pernah&quot;, itu bisa dengan mudah menjelaskan hitungan Anda.","author":"<a href=\"https://superuser.com/users/2649/chrisinedmonton\" target=\"_blank\" rel=\"nofollow noopener\">ChrisInEdmonton</a>"},{"reply":"Saya menyetel swappiness ke 1 karena internet memberi tahu saya begitu. Dan saya tidak hibernasi. Setiap kali saya membuka monitor sistem, dikatakan saya menggunakan 0 byte swap.","author":"<a href=\"https://superuser.com/users/249433/brian-moths\" target=\"_blank\" rel=\"nofollow noopener\">Brian Moths</a>"},{"reply":"Dugaan saya adalah bahwa perintah TRIM yang dikirim oleh fstrim dihitung sebagai yang ditulis oleh driver ext4, meskipun sebenarnya tidak ditulis. Apa kata SMART? Jalankan <code>smartctl -a &#47;dev&#47;sdsa7</code> (Anda mungkin harus menginstal smartmontools terlebih dahulu) dan lihat bidang Host_Writes * dan NAND_Writes *.","author":"<a href=\"https://superuser.com/users/120240/wingedsubmariner\" target=\"_blank\" rel=\"nofollow noopener\">wingedsubmariner</a>"},{"reply":"@wingedsubmariner Saya tidak melihat bidang yang Anda sebutkan, tapi silakan lihat edit 2.","author":"<a href=\"https://superuser.com/users/249433/brian-moths\" target=\"_blank\" rel=\"nofollow noopener\">Brian Moths</a>"},{"reply":"Saya kira drive Samsung tidak membagikan informasi itu. Saya memiliki bidang tersebut di Intel saya.","author":"<a href=\"https://superuser.com/users/120240/wingedsubmariner\" target=\"_blank\" rel=\"nofollow noopener\">wingedsubmariner</a>"},{"reply":"Samsung tidak melaporkan penulisan nand aktual di SMART. Kamu hanya bisa <b> incraese </b> umur drive Anda dengan pemangkasan, karena ini memungkinkan pengontrol untuk mengatur penulisan secara lebih merata. (Nah, di sisi lain, Samsung Magician di Windows entah bagaimana menunjukkan nilai bernama &quot;Total Bytes Written&quot;, tapi saya tidak yakin dari mana asalnya.)","author":"<a href=\"https://superuser.com/users/25438/groo\" target=\"_blank\" rel=\"nofollow noopener\">Groo</a>"},{"reply":"Jadi sepertinya jawabannya adalah fstrim tidak merusak SSD Anda; sebaliknya, ia meningkatkan umurnya. Penulisan yang dilaporkan dalam life_write_kbytes mengacu pada penulisan sistem file pada tingkat abstraksi yang lebih tinggi dan tidak selalu sesuai dengan penulisan fisik ke drive.","author":"<a href=\"https://superuser.com/users/249433/brian-moths\" target=\"_blank\" rel=\"nofollow noopener\">Brian Moths</a>"},{"reply":"@ChrisInEdmonton ok, 8TB lumayan banyak, tapi sebenarnya tidak? Maksud saya, untuk drive 250GB itu hanya 32 siklus tulis, jika didistribusikan secara merata (semoga pengontrol SSD melakukannya) Tentunya, kita dapat bertahan <i> banyak </i> lebih dari itu? Dan saya pikir kami juga dapat mendukung hibernasi - menulis, katakanlah, 8GB RAM ke disk sesekali (Anda tidak melakukan hibernasi setiap 5 menit, bukan?) Tidak akan menambahkan terlalu banyak, atau bukan?","author":"<a href=\"https://superuser.com/users/52027/nickolai-leschov\" target=\"_blank\" rel=\"nofollow noopener\">Nickolai Leschov</a>"},{"reply":"@NickolaiLeschov, saya tidak yakin mengapa Anda mengungkit hibernasi. Saya berbicara tentang swap. 840 Pro menjamin 40 GB / hari untuk operasi 5 tahun ( <a href=\"http://www.samsung.com/us/pdf/memory-storage/840PRO_25_SATA_III_Spec.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> samsung.com/us/pdf/memory-storage/840PRO_25_SATA_III_Spec.pdf </a> ); penggunaan OP jauh di luar itu. Drive itu sendiri tampaknya memiliki siklus Tulis / Hapus 1000 - 3000; tidak tepat untuk menempatkan penyimpanan swap pada drive ini.","author":"<a href=\"https://superuser.com/users/2649/chrisinedmonton\" target=\"_blank\" rel=\"nofollow noopener\">ChrisInEdmonton</a>"},{"reply":"@ChrisInEdmonton Maaf, NowIGetToLearnWhatAHeadIs yang berbicara tentang hibernasi. Wow, penulisan bergaransi 40GB / hari tidak <i> bahwa </i> banyak. Di mana saya dapat melihat angka 1000 - 3000 siklus? Saya ingin memeriksa ulang angka-angka untuk drive yang saya pertimbangkan (840 EVO dan PRO) sekarang setelah Anda memperhatikan bahwa penggunaan yang saya maksudkan mungkin, pada kenyataannya, membebani ketahanan drive.","author":"<a href=\"https://superuser.com/users/52027/nickolai-leschov\" target=\"_blank\" rel=\"nofollow noopener\">Nickolai Leschov</a>"},{"reply":"@ChrisInEdmonton Intel 520 saya diperingkat <a href=\"http://ssdendurancetest.com/ssd-endurance-test-report/Intel-SSD-520-60\" rel=\"nofollow noopener\" target=\"_blank\"> 5000 siklus </a> (gagal untuk melihatnya <a href=\"http://download.intel.com/newsroom/kits/ssd/pdfs/intel_ssd_520_product_spec_325968.pdf\" rel=\"nofollow noopener\" target=\"_blank\"> di spesifikasi </a> , juga), dan saya tahu tren umumnya sedang menurun, tetapi saya tidak memeriksanya dan saya berharap seri Samsung 840 tidak jauh lebih buruk daripada Intel 520 dalam hal ini.","author":"<a href=\"https://superuser.com/users/52027/nickolai-leschov\" target=\"_blank\" rel=\"nofollow noopener\">Nickolai Leschov</a>"},{"reply":"<a href=\"http://www.vojcik.net/samsung-ssd-840-endurance-destruct-test/\" rel=\"nofollow noopener\" target=\"_blank\"> Sini </a> seorang pria menulis 3 PB ke 128GB Samsung 840 PRO sebelum mati. Kedengarannya meyakinkan.","author":"<a href=\"https://superuser.com/users/52027/nickolai-leschov\" target=\"_blank\" rel=\"nofollow noopener\">Nickolai Leschov</a>"}],"answers":[{"answer":"<p> fstrim tidak merusak SSD Anda; sebaliknya, ia meningkatkan umurnya. Penulisan yang dilaporkan dalam life_write_kbytes mengacu pada penulisan sistem file pada tingkat abstraksi yang lebih tinggi dan tidak selalu sesuai dengan penulisan fisik ke drive. Jadi meskipun ada 40 TB penulisan yang dilaporkan dalam life_write_kbytes, menjalankan <code>$sudo smartctl -s on /dev/sda7</code> diikuti oleh <code>$sudo smartctl -a /dev/sda7</code> mengungkapkan bahwa saya hanya menulis 750.000.000 blok masing-masing 512 byte, yang menghasilkan 375GB, yang merupakan nilai yang lebih masuk akal untuk penggunaan dua bulan. </p>","votes":"5","source":"https://superuser.com/a/759508","author":"<a href=\"https://superuser.com/users/249433/brian-moths\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Brian Moths</span></a>","replies":[]},{"answer":"<p> trim dihitung sebagai tulis di <code>lifetime_write_kbytes</code> serta di semua statistik level Linux lainnya yang saya ketahui, seperti <code>iostat</code> atau <code>sar</code>, lihat <a href=\"https://superuser.com/questions/1477784\" target=\"_blank\" rel=\"nofollow noopener\"> posting </a> . Statistik penulisan dengan mudah didominasi oleh trim yang dihitung sebagai tulis, terutama untuk sistem file yang cukup terisi. </p>\n\n<p> Dengan kata lain: <code>lifetime_write_kbytes</code> bukanlah perkiraan yang dapat diandalkan untuk jumlah data yang ditulis ke disk SSD. </p>","votes":"1","source":"https://superuser.com/a/1478190","author":"<a href=\"https://superuser.com/users/1083357/wfjm\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">wfjm</span></a>","replies":[]}]}
