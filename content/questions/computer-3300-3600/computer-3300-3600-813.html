{"title":"Bagaimana saya bisa menekan / etc / issue tanpa kehilangan pesan kesalahan?","draft":false,"url":"/bagaimana-saya-bisa-menekan-etc-issue-tanpa-kehilangan-pesan-kesalahan-3idflsf8","votes":"4","answers_count":"5","categories":["Komputer"],"tags":["command-line","ssh","unix"],"snippet":"Apakah mungkin untuk memberi tahu klien ssh untuk tidak mencetak koneksi /etc/issue ke stdout saat menghubungkan ke host jarak jauh, tetapi untuk mencetak pesan diagnostik lainnya (mis. Kesalahan)?  Baik menggunakan ssh -q...","body":"<p> Apakah mungkin untuk memberi tahu klien ssh untuk tidak mencetak koneksi <code>/etc/issue</code> ke stdout saat menghubungkan ke host jarak jauh, tetapi untuk mencetak pesan diagnostik lainnya (mis. Kesalahan)? </p>\n\n<p> Baik menggunakan <code>ssh -q</code> atau memiliki <code>LogLevel quiet</code> pada <code>~/.ssh/config</code> menghilangkan pencetakan <code>/etc/issue</code>, tetapi juga mematikan pesan kesalahan. Saya telah mencoba <code>touch</code>ing <code>~/.hushlogin</code> juga - yang menghentikan pencetakan <code>/etc/motd</code>, tetapi tidak mempengaruhi <code>/etc/issue</code>. </p>\n\n<p> Solusi yang paling jelas adalah menghapus <code>/etc/issue</code>, tetapi kebijakan perusahaan menentukan file tersebut ada di sana dengan peringatan yang mengerikan tentang akses yang tidak sah. Ini tidak bisa dinegosiasikan. Sayangnya, saya memiliki banyak skrip yang berjalan di beberapa host melalui ssh, dan file lognya a) sangat besar dan b) penuh dengan legalese. Karena cukup banyak hal yang berjalan tanpa pengawasan, saya tidak ingin kehilangan pesan kesalahan yang dicetak. </p>","source":"https://superuser.com/questions/84600/how-can-i-suppress-etc-issue-without-losing-error-messages","author":"<a href=\"https://superuser.com/users/16485/andy\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Andy</span></a>","replies":[{"reply":"Hukum itu harus statis. Saya menyarankan penghapusan otomatis dari log menggunakan awk atau sed. Saya akan datang dengan solusi besok.","author":"<a href=\"https://superuser.com/users/366986/archemar\" target=\"_blank\" rel=\"nofollow noopener\">Archemar</a>"}],"answers":[{"answer":"<p><strong> Iya </strong> Tambahkan file <code>~/.ssh/config</code> yang berisi: </p> <pre><code>LogLevel ERROR\n</code></pre> <p> OpenSSH menampilkan konten <code>/etc/issue</code> dari server jarak jauh. Parameter itu menonaktifkan tampilan ini. Sangat berguna ketika perusahaan meremote repo Git sebagai peringatan keamanan yang mengganggu. </p>\n\n<p> Itu <a href=\"http://man7.org/linux/man-pages/man5/ssh_config.5.html\" rel=\"nofollow noopener\" target=\"_blank\"> <code>ssh config</code> halaman manual </a> mengatakan: </p>\n\n<blockquote>\n  <h3 class=\"h5\"> <code>LogLevel</code> </h3>\n  \n  <p> Memberikan tingkat verbositas yang digunakan saat mencatat pesan\n  dari ssh (1). Nilai yang mungkin adalah: <code>QUIET</code>, <code>FATAL</code>, <code>ERROR</code>,\n  <code>INFO</code>, <code>VERBOSE</code>, <code>DEBUG</code>, <code>DEBUG1</code>, <code>DEBUG2</code>, dan <code>DEBUG3</code>.\n  Standarnya adalah <code>INFO</code>. <code>DEBUG</code> dan <code>DEBUG1</code> adalah setara.\n  <code>DEBUG2</code> dan <code>DEBUG3</code> masing-masing menentukan tingkat keluaran verbose yang lebih tinggi. </p>\n</blockquote>\n\n<hr>\n\n<p><strong> Trik ekstra </strong> Tambahkan juga di <code>~/.ssh/config</code> Anda </p> <pre><code>Host *\n#    StrictHostKeyChecking no\n     StrictHostKeyChecking accept-new\n</code></pre> <p> Ini mencegah pesan lain yang mengganggu. Saat menghubungkan ke host baru, pertanyaan keamanan berikut memblokir koneksi yang sedang berlangsung. Trik di atas selalu mengasumsikan <code>yes</code>. Namun dalam praktiknya Anda selalu menjawab <code>yes</code>, bukan? </p> <pre><code>The authenticity of host 'newhostname (11.222.33.44)' can't be established.\nRSA key fingerprint is aa:bb:cc:dd:ee:ff:11:22:33:44:55:66:77:88:99:00.\nAre you sure you want to continue connecting (yes/no)?\n</code></pre> <p><strong> EDIT: </strong> Seperti yang ditunjukkan oleh <a href=\"https://superuser.com/users/62496/chris-adams\" target=\"_blank\" rel=\"nofollow noopener\"> Chris Adams </a> menggunakan <code>StrictHostKeyChecking no</code> mungkin memungkinkan a <a href=\"https://en.wikipedia.org/wiki/Man-in-the-middle_attack\" rel=\"nofollow noopener\" target=\"_blank\"> Serangan man-in-the-middle </a> , lebih baik gunakan <code>StrictHostKeyChecking accept-new</code> seperti yang dijelaskan di <a href=\"https://man.openbsd.org/ssh_config.5#StrictHostKeyChecking\" rel=\"nofollow noopener\" target=\"_blank\"> https://man.openbsd.org/ssh_config.5#StrictHostKeyChecking </a> . </p>","votes":"5","source":"https://superuser.com/a/1010687","author":"<a href=\"https://superuser.com/users/112297/oho\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">oHo</span></a>","replies":[{"reply":"Sangat berbahaya untuk dijalankan dengan <code>StrictHostKeyChecking no</code> karena memungkinkan penyerang untuk menghubungkan MITM Anda. Jika Anda ingin menerima kunci baru secara otomatis, gunakan <code>accept-new</code> sesuai: <a href=\"https://man.openbsd.org/ssh_config.5#StrictHostKeyChecking\" rel=\"nofollow noopener\" target=\"_blank\"> man.openbsd.org/ssh_config.5#StrictHostKeyChecking </a>","author":"<a href=\"https://superuser.com/users/62496/chris-adams\" target=\"_blank\" rel=\"nofollow noopener\">Chris Adams</a>"},{"reply":"Terima kasih @ChrisAdams atas tanggapan Anda. üëç Selamat bersenang-senang üòé","author":"<a href=\"https://superuser.com/users/112297/oho\" target=\"_blank\" rel=\"nofollow noopener\">oHo</a>"}]},{"answer":"<p> Baik localhost OS X atau server Ubuntu saya tidak mencetak <code>/etc/issue</code> ketika saya masuk (baik dengan shell maupun dengan menjalankan perintah jarak jauh), jadi saya tidak dapat mereproduksi masalah Anda. Saya akan mencoba ini dari ingatan. </p>\n\n<p> Jika Anda tidak keberatan membuat dua koneksi, Anda dapat melakukan ini: </p> <pre><code>num_lines=\"$(ssh yourhost 'cat /etc/issue' | wc -l)\";\nssh yourhost 'your real command here' | tail +$(($num_lines / 2 + 1));</code></pre> <p> Perintah ssh pertama akan menyebabkan <code>/etc/issue</code> dicetak dua kali (sekali oleh sistem, sekali oleh <code>cat</code>), sehingga jumlah baris akan menjadi dua kali lipat dari <code>/etc/issue</code>. Keluaran perintah kedua hanya akan menampilkan keluaran dari jumlah baris tersebut ditambah satu . </p>","votes":"3","source":"https://superuser.com/a/111581","author":"<a href=\"https://superuser.com/users/28950/janmoesen\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">janmoesen</span></a>","replies":[]},{"answer":"<p> Jika log Anda akan memiliki banyak sesi yang ditambahkan dalam satu file, Anda dapat meminta skrip Anda melakukan sesuatu seperti <code>echo START LOGGING</code> sebelum menjalankan perintah lain, dan kemudian <code>echo END LOGGING</code> sebelum memutuskan sambungan, dan kemudian menggunakan skrip shell sederhana (menggunakan sed atau awk) hapus semua konten file antara AKHIR dan MULAI (mis. boilerplate sebelum setiap login). </p>\n\n<p> EDIT: </p>\n\n<p> Sekarang saya melihat bahwa Anda tidak masuk, tetapi mencari pesan di jendela - Saya sarankan membuat log dan memindai log daripada mengandalkan output jendela terminal saja - ini jauh lebih fleksibel, dan memungkinkan merujuk kembali ke kesalahan dari sesi sebelumnya jika diperlukan. </p>","votes":"3","source":"https://superuser.com/a/111585","author":"<a href=\"https://superuser.com/users/26477/justin-smith\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Justin Smith</span></a>","replies":[]},{"answer":"<p> Tidak. </p>\n\n<p> Saat host mengirimkan baris teks belakang, bagaimana klien SSH mengetahui baris mana yang berasal dari / etc / issue host, dan pesan mana yang lebih menarik? Tidak bisa. </p>","votes":"0","source":"https://superuser.com/a/110899","author":"<a href=\"https://superuser.com/users/22246/njd\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">njd</span></a>","replies":[{"reply":"itu bisa tahu karena / etc / issue dicetak sebelum Anda menjalankan perintah apa pun, itu tidak akan muncul di tengah sesi, pernah","author":"<a href=\"https://superuser.com/users/26477/justin-smith\" target=\"_blank\" rel=\"nofollow noopener\">Justin Smith</a>"}]},{"answer":"<p> Anda dapat mengatur ini dari baris perintah dengan: </p>\n\n<p> <code>ssh -o loglevel=ERROR</code> </p>\n\n<p> Jika Anda menggunakan rsync (seperti kasus saya saat Googling masalah ini), Anda dapat melakukannya dengan menentukan baris perintah koneksi ssh ke rsync sebagai: </p>\n\n<p> <code>rsync -e 'ssh -o loglevel=ERROR'</code> </p>","votes":"0","source":"https://superuser.com/a/1301119","author":"<a href=\"https://superuser.com/users/252268/dewi-morgan\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dewi Morgan</span></a>","replies":[]}]}
