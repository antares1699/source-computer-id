{"title":"Bash awalan string dengan tilde untuk memperluas ke direktori home","draft":false,"url":"/bash-awalan-string-dengan-tilde-untuk-memperluas-ke-direktori-home-nzd7nni4","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["linux","bash","script","string-manipulation"],"snippet":"Saya tidak tahu cara mengawali string (mis. &quot;User1&quot;) dengan tilde (~) untuk menghasilkan ~user1 dan memperluasnya ke direktori home user1.  Inilah yang saya miliki sekarang:  USER=&quot;user1&quot;ls ~${USER}ls: cannot access ~user1:...","body":"<p> Saya tidak tahu cara mengawali string (mis. &quot;User1&quot;) dengan tilde (~) untuk menghasilkan <code>~user1</code> dan memperluasnya ke direktori home user1. </p>\n<p> Inilah yang saya miliki sekarang: </p> <pre><code>USER=&quot;user1&quot;\nls ~${USER}\nls: cannot access ~user1: No such file or directory\n</code></pre> <p> <code>~user1</code> tidak sedang diperluas. Bagaimana saya bisa mencapainya? </p>\n<h3 class=\"h5\"> edit </h3>\n<p> Ini tidak bekerja: </p> <pre><code>$ cat test.sh\nUSER=&quot;user1&quot;\nls $(~$USER)\n\n$ sh -x test.sh\n+ USER=user1\n+ ~user1\ntest.sh: 1: ~user1: not found\n+ ls\ntest.sh\n</code></pre>","source":"https://superuser.com/questions/474188/bash-prefix-string-with-tilde-to-expand-to-home-directory","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">bernie</span></a>","replies":[{"reply":"Menggunakan <code>&#47;home&#47;user1</code> bukanlah suatu pilihan?","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\">terdon</a>"},{"reply":"Jangan gunakan USER, itu adalah nama Anda. Sebaliknya gunakan variabel huruf kecil.","author":"<a href=\"https://superuser.com/users/62123/ctrl-alt-delor\" target=\"_blank\" rel=\"nofollow noopener\">ctrl-alt-delor</a>"},{"reply":"mengapa huruf kecil lebih disukai?","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"},{"reply":"jadi Anda tidak menimpa variabel bawaan seperti USER. USER memegang nama pengguna saat ini yang menjalankan perintah.","author":"<a href=\"https://superuser.com/users/62123/ctrl-alt-delor\" target=\"_blank\" rel=\"nofollow noopener\">ctrl-alt-delor</a>"},{"reply":"ok jadi PENGGUNA khususnya bermasalah, tidak semua nama var huruf besar. Terima kasih","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"},{"reply":"ya, tetapi apakah Anda ingin mempelajari semuanya, dan kemudian mengikuti perkembangan semua yang baru. Untuk alasan ini, biasanya semua variabel lokal dalam skrip shell menggunakan huruf kecil.","author":"<a href=\"https://superuser.com/users/62123/ctrl-alt-delor\" target=\"_blank\" rel=\"nofollow noopener\">ctrl-alt-delor</a>"}],"answers":[{"answer":"<p> Jika direktori pengguna Anda tidak hanya <code>/home/user</code>, Anda dapat menggunakan <code>eval</code> dalam skrip Anda ( <a href=\"https://stackoverflow.com/questions/7358611/bash-get-users-home-directory-when-they-run-a-script-as-root\" target=\"_blank\" rel=\"nofollow noopener\"> sumber </a> ): </p> <pre><code>USER_HOME=$(eval echo ~${USER})\necho ${USER_HOME}\n</code></pre>","votes":"6","source":"https://superuser.com/a/474199","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">terdon</span></a>","replies":[{"reply":"Ini bekerja. Sekarang, haruskah saya memilih <code>eval</code> atau <code>bash -c</code>?","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"},{"reply":"Setelah dipikir-pikir, saya pikir bash -c akan memulai proses bash baru <b> sedikit </b> lebih lambat / lebih intensif sumber daya.","author":"<a href=\"https://superuser.com/users/151431/terdon\" target=\"_blank\" rel=\"nofollow noopener\">terdon</a>"},{"reply":"Saat meneliti ini, saya menemukan tautan ini yang menjelaskan apa yang terjadi dan mengapa eval diperlukan: <a href=\"http://fvue.nl/wiki/Bash:_Why_use_eval_with_variable_expansion%3F\" rel=\"nofollow noopener\" target=\"_blank\"> fvue.nl/wiki/Bash:_Why_use_eval_with_variable_expansion%3F </a>","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"}]},{"answer":"<p> Ini adalah cara umum agar bash dievaluasi ulang, tetapi penggunaan eval mungkin lebih baik karena tidak akan menghasilkan proses baru. (gema dibangun ke dalam bash jadi bukan proses baru) </p> <pre><code>user=\"user1\"\nbash -c \"ls ~${user}\"\n</code></pre>","votes":"3","source":"https://superuser.com/a/474196","author":"<a href=\"https://superuser.com/users/62123/ctrl-alt-delor\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ctrl-alt-delor</span></a>","replies":[{"reply":"Cara ke-2 tidak berhasil. lihat suntingan saya","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"},{"reply":"Ini bekerja. Sekarang, haruskah saya memilih <code>eval</code> atau <code>bash -c</code>?","author":"<a href=\"https://superuser.com/users/111930/bernie\" target=\"_blank\" rel=\"nofollow noopener\">bernie</a>"},{"reply":"eval mungkin lebih portabel karena tidak peduli apa nama shellnya.","author":"<a href=\"https://superuser.com/users/62123/ctrl-alt-delor\" target=\"_blank\" rel=\"nofollow noopener\">ctrl-alt-delor</a>"}]}]}
