{"title":"Bagaimana cara mengatur pengguna default untuk distro WSL yang diinstal secara manual?","draft":false,"url":"/bagaimana-cara-mengatur-pengguna-default-untuk-distro-wsl-yang-diinstal-secara-manual-j0u0vgpc","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["linux","windows","user-accounts","windows-subsystem-for-linux"],"snippet":"Saya telah mengkloning distro WSL menggunakan wsl --export dan wsl --import, tetapi sekarang, menjalankan wsl newdistro selalu memasukkan saya sebagai root. Saya memahami bahwa perintah lxrun sudah usang dan ingin menghindarinya. Dokumen...","body":"<p> Saya telah mengkloning distro WSL menggunakan <code>wsl --export</code> dan <code>wsl --import</code>, tetapi sekarang, menjalankan <code>wsl newdistro</code> selalu memasukkan saya sebagai root. Saya memahami bahwa perintah <code>lxrun</code> sudah usang dan ingin menghindarinya. Dokumen merekomendasikan penggunaan <code>distroname.exe config</code>, tetapi itu tidak berhasil, karena yang ini tidak memiliki executable yang sesuai. </p>","source":"https://superuser.com/questions/1566022/how-to-set-default-user-for-manually-installed-wsl-distro","author":"<a href=\"https://superuser.com/users/753994/schuelermine\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">schuelermine</span></a>","replies":[],"answers":[{"answer":"<p> Pada saat penulisan ini, setidaknya ada tiga (sebut saja 3.5) metode berbeda untuk mengubah / menyetel pengguna default dalam instance WSL. Sementara dua yang telah disebutkan masih berfungsi, ada cara yang direkomendasikan Microsoft untuk melakukannya yang belum disebutkan dalam pertanyaan ini. </p>\n<h3 class=\"h5\"> Metode 1 - <code>/etc/wsl.conf</code> </h3>\n<p> Sekarang <a href=\"https://docs.microsoft.com/en-us/windows/wsl/wsl-config#user\" rel=\"nofollow noopener\" target=\"_blank\"> Microsoft merekomendasikan </a> cara mengatur nama pengguna dalam sebuah instance adalah dengan membuat <code>/etc/wsl.conf</code> dalam instance dengan pengaturan berikut: </p> <pre><code>[user]\ndefault=username\n</code></pre> <p> Mengubah, tentu saja, nama pengguna menjadi nama pengguna default Anda. </p>\n<p> Ini lebih aman dan tidak terlalu rentan terhadap kesalahan daripada metode berbasis registri. </p>\n<h3 class=\"h5\"> Metode 2 - Kunci Registri </h3>\n<p> Menyetel kunci registri untuk setiap @ harrymc <a href=\"https://superuser.com/a/1566031/1210833\" target=\"_blank\" rel=\"nofollow noopener\"> menjawab </a> . </p>\n<h3 class=\"h5\"> Metode 3 - LxRunOffline </h3>\n<p> Menggunakan <a href=\"https://github.com/DDoSolitary/LxRunOffline\" rel=\"nofollow noopener\" target=\"_blank\"> LxRunOffline </a> untuk menyetel entri registri, seperti yang dijelaskan di @ Jaime&#39;s <a href=\"https://superuser.com/a/1627405/1210833\" target=\"_blank\" rel=\"nofollow noopener\"> menjawab </a> . Pada akhirnya, ini memiliki efek yang sama dengan Metode 2. </p>\n<h3 class=\"h5\"> Semi-metode 4 - Pemilihan pengguna waktu proses melalui argumen baris perintah <code>wsl</code> </h3>\n<p> Nama pengguna dapat dipilih saat memulai instans WSL dengan: </p>\n<p> <code>wsl -u username</code> atau <code>wsl -d distroname -u username</code>, dll. </p>\n<p> Misalnya, <code>wsl -d Ubuntu -u root</code>. </p>","votes":"3","source":"https://superuser.com/a/1627461","author":"<a href=\"https://superuser.com/users/1210833/notthedr01ds\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">NotTheDr01ds</span></a>","replies":[]},{"answer":"<p> Sintaks perintah normal misalnya: </p> <pre><code>ubuntu config --default-user new_user_name\n</code></pre> <p> Namun, ini tidak berfungsi untuk distro yang diimpor, yang sudah dimulai\ndengan perintah berikut: </p> <pre><code>wsl --distribution &lt;DistributionName&gt;\n</code></pre> <p> Coba metode tidak berdokumen ini: </p>\n<ul>\n<li> Gunakan <code>regedit</code> dan navigasikan ke kunci: <br> <code>HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Lxss</code> </li>\n<li> Periksa subkunci untuk distribusi yang memiliki nama yang benar di\nItem <code>DistributionName</code> </li>\n<li> Buat atau modifikasi item DWORD bernama <code>DefaultUid</code> dan setel ke\nuser-id (uid) dari pengguna default Anda.\nDi sini pengguna root adalah id <code>0</code> sedangkan id pengguna pertama adalah 1000 (<code>0x3e8</code>). </li>\n</ul>\n<p> Jika ini tidak berhasil untuk penyiapan Anda, Anda harus menjalankannya sebagai: </p> <pre><code>wsl --distribution ubuntu -u user_name\n</code></pre> <p> Untuk informasi lebih lanjut lihat: </p>\n<ul>\n<li><a href=\"https://winaero.com/blog/export-import-wsl-linux-distro-windows-10/\" rel=\"nofollow noopener\" target=\"_blank\"> Ekspor dan Impor Distro Linux WSL di Windows 10 </a></li>\n<li><a href=\"https://winaero.com/blog/set-default-user-wsl-windows-10/\" rel=\"nofollow noopener\" target=\"_blank\"> Atur Pengguna Default untuk WSL di Windows 10 </a> . </li>\n</ul>","votes":"7","source":"https://superuser.com/a/1566031","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">harrymc</span></a>","replies":[{"reply":"Salinan yang dibuat dengan <code>wsl --import</code> tidak mengandung executable itu. Saya melakukan <code>wsl --export Ubuntu UbuntuFile</code>, lalu <code>wsl --import Ubuntu2 UbuntuDirectory UbuntuFile</code>. Isi <code>UbuntuDirectory</code> adalah <code>rootfs</code>, <code>temp</code>, <code>fsserver</code> dan <code>UbuntuFile</code>. Tidak dapat dieksekusi.","author":"<a href=\"https://superuser.com/users/753994/schuelermine\" target=\"_blank\" rel=\"nofollow noopener\">schuelermine</a>"},{"reply":"Ya, lupakan: ada gotcha dengan import yang berarti Anda harus mengeksekusinya melalui wsl. Saya mengoreksi jawaban saya.","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\">harrymc</a>"},{"reply":"Ini tidak menyelesaikan masalah saya. Saya tahu cara mengatur pengguna untuk Ubuntu asli (saya punya dua), dan saya tahu cara menjalankan Ubuntu kedua, tetapi bagaimana cara mengatur pengguna untuk Ubuntu kedua?","author":"<a href=\"https://superuser.com/users/753994/schuelermine\" target=\"_blank\" rel=\"nofollow noopener\">schuelermine</a>"},{"reply":"Jawaban dikoreksi lagi, berharap metode ini berlaku untuk penyiapan Anda. Mengimpor distribusi tidak ideal.","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\">harrymc</a>"},{"reply":"Haruskah UID dalam format heksadesimal?","author":"<a href=\"https://superuser.com/users/753994/schuelermine\" target=\"_blank\" rel=\"nofollow noopener\">schuelermine</a>"},{"reply":"Mode mana pun yang Anda masukkan di input.","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\">harrymc</a>"},{"reply":"@harrymc, distribusi yang diimpor dari laptop sebelumnya (baik Debian dan Ubuntu) adalah semua yang saya gunakan dan saya mengkodekan Linux setiap hari. Mereka bekerja dengan baik untuk saya. Saya tidak pernah punya masalah.","author":"<a href=\"https://superuser.com/users/1000631/se%c3%b1or-cmasmas\" target=\"_blank\" rel=\"nofollow noopener\">Se&#xF1;or CMasMas</a>"},{"reply":"@ Se√±orCMasMas: Mereka bekerja, tapi sedikit lebih sulit untuk digunakan.","author":"<a href=\"https://superuser.com/users/8672/harrymc\" target=\"_blank\" rel=\"nofollow noopener\">harrymc</a>"}]},{"answer":"<p> Jika Anda menginstal beberapa distribusi kustom di WSL, Anda tidak akan mendapatkan perintah &quot;distroname.exe&quot; untuk mengubah konfigurasi. Anda dapat menggunakan <a href=\"https://github.com/DDoSolitary/LxRunOffline\" rel=\"nofollow noopener\" target=\"_blank\"> LxRunOffline </a> untuk mengubah pengguna default. Toolset ini dapat diinstal di Windows menggunakan <a href=\"https://chocolatey.org/packages/lxrunoffline\" rel=\"nofollow noopener\" target=\"_blank\"> <code>choco install lxrunoffline</code> </a> . </p>\n<h3 class=\"h5\"> Dapatkan id pengguna default sebuah distro </h3>\n<p> LxRunOffline memungkinkan Anda mendapatkan dan menyetel id pengguna default (<code>uid</code>) untuk distribusi apa pun yang diinstal. Misalnya, jika Anda memiliki distro bernama <code>newdistro</code> Anda dapat memeriksa pengguna default menggunakan <code>gu</code> (dapatkan pengguna default) dan <code>-n</code> dengan nama distribusi: </p> <pre><code>lxrunoffline gu -n newdistro \n</code></pre> <p> Perintah mengembalikan angka, id pengguna dari pengguna default: </p>\n<ul>\n<li> pengguna <code>root</code> memiliki id pengguna <code>0</code> </li>\n<li> pengguna default yang dibuat selama penginstalan memiliki id pengguna <code>1000</code>. </li>\n</ul>\n<h3 class=\"h5\"> Tetapkan ID pengguna default untuk sebuah distro </h3>\n<p> Jika Anda ingin menyetel <code>root</code> sebagai pengguna default, Anda dapat membuatnya menggunakan <code>su</code> (setel pengguna default) dengan <code>-n</code> dan nama distro, dan <code>-v</code> dengan id pengguna, yaitu <code>0</code> untuk <code>root</code>. </p> <pre><code>lxrunoffline su -n newdistro -v 0\n</code></pre>","votes":"0","source":"https://superuser.com/a/1627405","author":"<a href=\"https://superuser.com/users/756164/jaime\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jaime</span></a>","replies":[{"reply":"Perhatikan bahwa LxRunOffline pada akhirnya melakukan hal yang sama seperti jawaban asli - Tetapkan kunci registri. Namun, cara yang direkomendasikan Microsoft adalah melalui <code>&#47;etc&#47;wsl.conf</code> (lihat jawaban saya).","author":"<a href=\"https://superuser.com/users/1210833/notthedr01ds\" target=\"_blank\" rel=\"nofollow noopener\">NotTheDr01ds</a>"},{"reply":"Kamu benar. Saya biasanya menggunakan <code>lxrunoffline</code> untuk mendukung versi lama WSL yang berjalan pada mesin Windows LTSB (yang tidak dapat Anda tingkatkan). Saya pikir menggunakan <code>&#47;etc&#47;wsl.conf</code> adalah solusi yang lebih elegan daripada <code>lxrunoffline</code> di Windows Build 17093 dan yang lebih baru","author":"<a href=\"https://superuser.com/users/756164/jaime\" target=\"_blank\" rel=\"nofollow noopener\">Jaime</a>"}]},{"answer":"<p> Biasanya pergi ke terminal pengguna root edit .bashrc </p> <pre><code>vim .bashrc\n</code></pre> <p> Tambahkan baris ini ke baris terakhirnya </p> <pre><code>su - $name\n</code></pre>","votes":"-2","source":"https://superuser.com/a/1623624","author":"<a href=\"https://superuser.com/users/1270434/jooio\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Jooio</span></a>","replies":[{"reply":"Masalah dengan solusi Anda adalah Anda dapat menggunakan <code>wsl</code> untuk menjalankan skrip dan pipeline di Windows. Saya pikir solusi Anda hanya berfungsi jika pengguna masuk ke lingkungan Linux. Mengubah konfigurasi WSL adalah alternatif yang lebih baik. Anda dapat memeriksa <a href=\"https://docs.microsoft.com/en-us/windows/wsl/wsl-config\" rel=\"nofollow noopener\" target=\"_blank\"> Dokumentasi WSL </a> dan banyak alat lainnya, seperti <a href=\"https://github.com/wslutilities/wslu\" rel=\"nofollow noopener\" target=\"_blank\"> WSLU </a> dan <a href=\"https://github.com/DDoSolitary/LxRunOffline\" rel=\"nofollow noopener\" target=\"_blank\"> <code>lxrunoffline</code> </a>","author":"<a href=\"https://superuser.com/users/756164/jaime\" target=\"_blank\" rel=\"nofollow noopener\">Jaime</a>"}]}]}
