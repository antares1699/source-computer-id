{"title":"ffmpeg menempatkan audio di lokasi tertentu [tertutup]","draft":false,"url":"/ffmpeg-menempatkan-audio-di-lokasi-tertentu-tertutup-ilzfpaiu","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["audio","ffmpeg"],"snippet":"mendapat sedikit sumber masukan dan saya ingin menempatkan audio di lokasi tertentu di keluaran  Saat ini ekspresi filter yang kompleks memotong audio asli dan menempatkannya di lokasi yang sama  Saya ingin menempatkannya...","body":"<div>\r\n            \r\n\r\n    </div>\r\n\r\n<p> mendapat sedikit sumber masukan dan saya ingin menempatkan audio di lokasi tertentu di keluaran </p>\n\n<p> Saat ini ekspresi filter yang kompleks memotong audio asli dan menempatkannya di lokasi yang sama </p>\n\n<p> Saya ingin menempatkannya di antara lokasi yang ditentukan .. </p>\n\n<hr>\n\n<h1 class=\"h3\"> EDIT </h1>\n\n<p> Berikut adalah perintah lengkap dengan keluaran: </p> <pre><code>ffmpeg version N-60489-g03911c4 Copyright (c) 2000-2014 the FFmpeg developers\n  built on Feb 10 2014 05:14:06 with gcc 4.6 (Debian 4.6.3-1)\n  configuration: --prefix=/root/ffmpeg-static/32bit --arch=x86_32 --extra-cflags='-m32 -I/root/ffmpeg-static/32bit/include -static' --extra-ldflags='-m32 -L/root/ffmpeg-static/32bit/lib -static' --extra-libs='-lxml2 -lexpat -lfreetype' --enable-static --disable-shared --disable-ffserver --disable-doc --enable-bzlib --enable-zlib --enable-postproc --enable-runtime-cpudetect --enable-libx264 --enable-gpl --enable-libtheora --enable-libvorbis --enable-libmp3lame --enable-gray --enable-libass --enable-libfreetype --enable-libopenjpeg --enable-libspeex --enable-libvo-aacenc --enable-libvo-amrwbenc --enable-version3 --enable-libvpx\n  libavutil      52. 63.101 / 52. 63.101\n  libavcodec     55. 50.100 / 55. 50.100\n  libavformat    55. 31.100 / 55. 31.100\n  libavdevice    55.  8.100 / 55.  8.100\n  libavfilter     4.  1.102 /  4.  1.102\n  libswscale      2.  5.101 /  2.  5.101\n  libswresample   0. 17.104 /  0. 17.104\n  libpostproc    52.  3.100 / 52.  3.100\nInput #0, mov,mp4,m4a,3gp,3g2,mj2, from '/tmp/a.mp4':\n  Metadata:\n    major_brand     : mp42\n    minor_version   : 0\n    compatible_brands: isommp42\n    creation_time   : 2014-02-12 09:37:39\n  Duration: 00:00:30.98, start: 0.000000, bitrate: 524 kb/s\n    Stream #0:0(und): Video: h264 (Constrained Baseline) (avc1 / 0x31637661), yuv420p, 640x360 [SAR 1:1 DAR 16:9], 426 kb/s, 25 fps, 25 tbr, 25 tbn, 50 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1(und): Audio: aac (mp4a / 0x6134706D), 44100 Hz, stereo, fltp, 95 kb/s (default)\n    Metadata:\n      creation_time   : 2014-02-12 09:37:39\n      handler_name    : IsoMedia File Produced by Google, 5-11-2011\nGuessed Channel Layout for  Input Stream #1.0 : stereo\nInput #1, wav, from '/tmp/1.wav':\n  Duration: 00:00:08.79, bitrate: 1536 kb/s\n    Stream #1:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s\nGuessed Channel Layout for  Input Stream #2.0 : stereo\nInput #2, wav, from '/tmp/2.wav':\n  Duration: 00:00:12.46, bitrate: 1536 kb/s\n    Stream #2:0: Audio: pcm_s16le ([1][0][0][0] / 0x0001), 48000 Hz, stereo, s16, 1536 kb/s\nOutput #0, mp4, to '/tmp/out.mp4':\n  Metadata:\n    major_brand     : mp42\n    minor_version   : 0\n    compatible_brands: isommp42\n    encoder         : Lavf55.31.100\n    Stream #0:0(und): Video: h264 ([33][0][0][0] / 0x0021), yuv420p, 640x360 [SAR 1:1 DAR 16:9], q=2-31, 426 kb/s, 25 fps, 12800 tbn, 25 tbc (default)\n    Metadata:\n      handler_name    : VideoHandler\n    Stream #0:1: Audio: aac (libvo_aacenc) ([64][0][0][0] / 0x0040), 44100 Hz, stereo, s16, 128 kb/s (default)\nStream mapping:\n  Stream #0:1 (aac) -&gt; atrim\n  Stream #0:1 (aac) -&gt; atrim\n  Stream #1:0 (pcm_s16le) -&gt; atrim\n  Stream #2:0 (pcm_s16le) -&gt; atrim\n  Stream #0:0 -&gt; #0:0 (copy)\n  concat -&gt; Stream #0:1 (libvo_aacenc)\nPress [q] to stop, [?] for help\n[output stream 0:1 @ 0xa8cee60] 100 buffers queued in output stream 0:1, something may be wrong.\nframe=  774 fps=572 q=-1.0 Lsize=    2404kB time=00:00:49.21 bitrate= 400.1kbits/s    \nvideo:1611kB audio:770kB subtitle:0 data:0 global headers:0kB muxing overhead 0.996036%\n</code></pre> <p> Saya mencoba menempatkan musik audio di video aslinya. </p>\n\n<h1 class=\"h3\"> MASALAH </h1>\n\n<p> Video berdurasi 30 detik dibuat dalam 46 detik (dan audio tidak ditempatkan dengan benar) .. meskipun audio diletakkan hanya dalam jangkauan video. Saya mendengar dari kiri dan kemudian sama dari kanan ?? Apakah ini menambah panjang video? </p>","source":"https://superuser.com/questions/716320/ffmpeg-placing-audio-at-specific-location","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">shrw</span></a>","replies":[{"reply":"Apakah Anda ingin mengganti audio yang sudah ada dengan audio baru atau mencampurnya? Harap selalu menyertakan perintah lengkap <code>ffmpeg</code> dan keluaran konsol <code>ffmpeg</code> lengkap.","author":"<a href=\"https://superuser.com/users/110524/llogan\" target=\"_blank\" rel=\"nofollow noopener\">llogan</a>"},{"reply":"Saya yakin Anda meletakkan beberapa trek audio pada video, masing-masing pada waktu yang berbeda. Jadi seperti dalam timeline edit video, Anda memerlukan beberapa trek. Sebaliknya, Anda mengambil beberapa file audio dan &#39;menggabungkannya&#39;, yang menggabungkannya. Panjangnya bertambah karena gabungan, dan hasilnya mungkin ditempatkan di awal. Efek offset sekarang terhapus.","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\">Rajib</a>"},{"reply":"Pak, saya baru di bidang ini .. dan harus melakukan ini .. tolong beri beberapa perintah tentang apa yang Anda bicarakan","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"},{"reply":"Saya mendengar dari kiri dan kemudian sama dari kanan. Apakah ini menambah panjang video","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"},{"reply":"Naveen, Tolong jelaskan apa yang ingin Anda capai dengan lebih jelas. Anda ingin menempatkan beberapa file audio pada trek video pada titik waktu yang berbeda? Lihat jawaban baru saya yang menurut saya adalah apa yang ingin Anda capai, hanya dengan jumlah input yang lebih sedikit.","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\">Rajib</a>"}],"answers":[{"answer":"<p> Katakanlah Anda ingin meletakkan trek Audio ke file video di berbagai titik. Trek Audio yang Anda gunakan akan dipotong dan dipangkas di berbagai titik. Dalam contoh berikut, satu audio berasal dari file video itu sendiri, dan yang kedua dari file audio murni- file wav. File video <code>videoandaudio.mov</code> dan audionya <code>audio_only.wav</code>. </p>\n\n<p> Filter <code>atrim</code> &quot;memotong&quot; saluran audio. Filter <code>adelay</code> menempatkan audio di berbagai titik. Filter <code>amix</code> menggabungkan audio tersebut menjadi satu output campuran. Filter <code>aformat</code> memastikan konsistensi. Khusus untuk flv Anda membutuhkan sampling tidak lebih dari 44100Hz. </p>\n\n<p> Dalam contoh audio file video digunakan hingga 20 detik. Audio kedua sebenarnya dimulai pada 10.000 milidetik, yang lebih awal dari akhir audio (20 detik) tetapi contoh ilustrasi ini dengan sengaja menunjukkan bahwa <code>amix</code> dapat mengatasinya. Setelah itu audio kedua masuk dan berjalan hingga kami memangkas akhir pada 240 detik. Pembuat kode flv1 sekali lagi hanya ilustrasi- Anda dapat menggunakan apa saja. Pastikan untuk menggunakan bitrate yang bagus dan parameter lain untuk video tersebut. Untuk audio Anda tidak dapat melakukan a<code>-acodec copy</code> jika Anda menggunakan filtergraph jadi saya tunjukkan dengan PCM. </p> <pre><code>ffmpeg -i videoandaudio.mov -i audio_only.wav  -filter_complex \n  \"[0:a]aformat=sample_fmts=fltp:sample_rates=44100:channel_layouts=mono,\n     atrim=end=20[aud1];\n   [1:a]aformat=sample_fmts=fltp:sample_rates=44100:channel_layouts=mono,\n     atrim=end=240[bud2];\n   [bud2]adelay=10000[aud2];\n   [aud1][aud2]amix=inputs=2\"\n  -map 0:v -c:v flv1 -pix_fmt yuv420p -c:a pcm_s16le out.flv\n</code></pre>","votes":"8","source":"https://superuser.com/a/717665","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Rajib</span></a>","replies":[{"reply":"bekerja, hari saya akan mendapatkan 15 repetisi .. saya akan memilih ini .. terima kasih","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"},{"reply":"Hebat- senang mengetahui cara ini berhasil. Bisakah Anda menerima jawaban dengan tanda centang?","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\">Rajib</a>"},{"reply":"maaf seorang pemula!","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"},{"reply":"Ini berfungsi, tetapi audio yang sama diduplikasi. Yang pertama dimulai di awal video, dan yang tertunda dimulai setelah waktu yang ditentukan.","author":"<a href=\"https://superuser.com/users/228197/gcstr\" target=\"_blank\" rel=\"nofollow noopener\">gcstr</a>"},{"reply":"@goo disini hanya ada satu file audio, satu lagi dari file video.","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\">Rajib</a>"},{"reply":"@goo Anda perlu menyetel adelay untuk setiap saluran. Jadi jika file audio yang Anda tunda adalah stereo, Anda perlu melakukan sesuatu seperti adelay = 5000 | 5000. Apa yang mungkin Anda dengar adalah saluran kanan di awal dan kemudian saluran kiri yang tertunda.","author":"<a href=\"https://superuser.com/users/385302/blim8183\" target=\"_blank\" rel=\"nofollow noopener\">blim8183</a>"},{"reply":"Itulah masalahnya, @ blim8183. Saya hanya menunda saluran kiri. Terima kasih!","author":"<a href=\"https://superuser.com/users/228197/gcstr\" target=\"_blank\" rel=\"nofollow noopener\">gcstr</a>"}]},{"answer":"<p> Anda membutuhkan filter <code>adelay</code> dalam sebuah rantai.\nLihat <a href=\"http://www.ffmpeg.org/ffmpeg-filters.html#adelay\" rel=\"nofollow noopener\" target=\"_blank\"> ini </a> dokumentasi. </p>\n\n<p> Untuk menunda output dari satu pad, jika <code>[aud1]</code> gunakan itu sebagai input ke filter adelay di ujung rantai: </p> <pre><code>[1:a]atrim=end=4,asetpts=PTS-STARTPTS[aud1];[aud1]adelay=2000[delayedaudio]    \n</code></pre> <p> Penundaannya dalam milidetik. </p>","votes":"0","source":"https://superuser.com/a/716368","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Rajib</span></a>","replies":[{"reply":"dapatkah kita menggunakan ... [1: a] atrim = end = 4, asetpts = PTS-STARTPTS, adelay = 2000 [aud1] OR [1: a] atrim = end = 4, adelay = 2000 [aud1] ... adalah pernyataan yang valid itu","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"},{"reply":"Anda bisa mencoba dan melihat. Alasan saya menyarankan untuk menggunakan bantalan luar adalah karena Anda tetap menggunakan filter yang rumit dan rantai adalah cara yang aman untuk digunakan. Tanpa bantalan, filter akan memproses audio secara berurutan- dalam teori ini terlihat seperti efek yang sama dalam kasus ini, tetapi ffmpeg sering menampilkan hal-hal yang tidak saya lihat pada pandangan pertama.","author":"<a href=\"https://superuser.com/users/266231/rajib\" target=\"_blank\" rel=\"nofollow noopener\">Rajib</a>"},{"reply":"mencoba ini tetapi video diperluas ..","author":"<a href=\"https://superuser.com/users/299107/shrw\" target=\"_blank\" rel=\"nofollow noopener\">shrw</a>"}]}]}
