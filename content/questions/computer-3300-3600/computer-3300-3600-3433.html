{"title":"Bagaimana cara memperbaiki nama file shift-JIS yang rusak?","draft":false,"url":"/bagaimana-cara-memperbaiki-nama-file-shift-jis-yang-rusak-gvtux8it","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["windows-8.1","filenames","shift-jis"],"snippet":"Saya punya beberapa file dengan nama file shift-jis di ANSI.misalnya  home_03@Â‚¢ƒgƒ‰ƒ“ƒNŠJ‚¢‚½Aƒtƒ@ƒCƒ‹—L‚è   padahal mereka harus di shift-jis suka  home_03@青いトランク開いた、ファイル有り  Ini karena ekstraktor arsip yang saya gunakan tidak mendukung shift-jis. Itu tidak bisa...","body":"<p> Saya punya beberapa file dengan nama file shift-jis di ANSI.\nmisalnya </p> <pre><code>home_03@Â‚¢ƒgƒ‰ƒ“ƒNŠJ‚¢‚½Aƒtƒ@ƒCƒ‹—L‚è \n</code></pre> <p> padahal mereka harus di shift-jis suka </p> <pre><code>home_03@青いトランク開いた、ファイル有り\n</code></pre> <p> Ini karena ekstraktor arsip yang saya gunakan tidak mendukung shift-jis. Itu tidak bisa membantu. Tetapi apakah ada cara untuk memperbaiki nama file dari file yang telah saya ekstrak? </p>\n\n<p> edit: </p>\n\n<p> contoh lain </p> <pre><code>Ší‹ï‘ä@ƒXƒpƒi\n</code></pre> <p> seharusnya </p> <pre><code>器具台@スパナ\n</code></pre>","source":"https://superuser.com/questions/1387145/how-can-i-fix-broken-shift-jis-filenames","author":"<a href=\"https://superuser.com/users/314941/hiccup\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Hiccup</span></a>","replies":[],"answers":[{"answer":"<p> Karena Anda menggunakan Windows, PowerShell mungkin adalah metode termudah. </p>\n\n<p> Sekarang, PowerShell secara internal menggunakan UTF-16 untuk stringnya, jadi konversi akan melibatkan empat langkah: </p>\n\n<ol>\n<li> Baca nama file yang salah dari sistem file ke PS (direpresentasikan secara internal sebagai string UTF-16) </li>\n<li> Beri tahu PS untuk mengubah string menjadi array byte mentah seolah-olah string itu &lt;salah pengkodean&gt;. Kami tidak dapat menggunakan string PS secara langsung (karena UTF-16). </li>\n<li> Beri tahu PS untuk mengubah array byte kembali ke string yang menafsirkannya sebagai &lt;pengkodean yang benar&gt;. Ini akan memberikan penggunaan string UTF-16 dari byte mentah yang ditafsirkan sebagai Shift-JIS. </li>\n<li> Ubah nama file </li>\n</ol>\n\n<p> Mari kita mulai dengan mendefinisikan pengkodean. Dalam kasus Anda, saya menduga sumber Anda adalah Windows-1252 (halaman kode non-Unicode default untuk Windows Barat / Inggris). </p> <pre><code>$srcEnc = [System.Text.Encoding]::GetEncoding(\"Windows-1252\")\n$destEnc = [System.Text.Encoding]::GetEncoding(\"Shift-JIS\")\n</code></pre> <p> Anda juga dapat menggunakan <code>[System.Text.Encoding]::Default</code> untuk mendapatkan codepage sistem saat ini tetapi saya lebih suka eksplisit. </p>\n\n<p> Kemudian kami menerapkan langkah-langkah konversi: </p> <pre><code>$newName = $destEnc.GetString($srcEnc.GetBytes($oldName))\n</code></pre> <p> Dalam contoh Anda, <code>home_03@Â‚¢ƒgƒ‰ƒ“ƒNŠJ‚¢‚½Aƒtƒ@ƒCƒ‹—L‚è</code> menjadi <code>home_03@ﾂいトランク開いたAファイル有り</code>. Meskipun ini berbeda dari hasil contoh Anda (lihat catatan di bawah), ini cocok dengan yang saya dapatkan dari <a href=\"http://string-functions.com/encodedecode.aspx\" rel=\"nofollow noopener\" target=\"_blank\"> http://string-functions.com/encodedecode.aspx </a> Windows-1252 =&gt; Shift-JIS. Jika ini tidak benar, Anda mungkin harus bermain-main sampai Anda menemukan pengkodean sumber dan tujuan yang benar. </p>\n\n<p> Menyatukannya dengan loop standar: </p> <pre><code>$srcEnc = [System.Text.Encoding]::GetEncoding(\"Windows-1252\")\n$destEnc = [System.Text.Encoding]::GetEncoding(\"Shift-JIS\")\nGet-ChildItem | %{Rename-Item -LiteralPath \"$_\" \"$($destEnc.GetString($srcEnc.GetBytes($_.Name)))\"}\n</code></pre> <p> Atau jika Anda lebih suka menggunakan subdirektori: </p> <pre><code>$srcEnc = [System.Text.Encoding]::GetEncoding(\"Windows-1252\")\n$destEnc = [System.Text.Encoding]::GetEncoding(\"Shift-JIS\")\nGet-ChildItem -Recurse | %{Rename-Item -LiteralPath \"$_\" \"$($destEnc.GetString($srcEnc.GetBytes($_.Name)))\"}\n</code></pre> <p> Tambahkan <code>-File</code> ke <code>Get-ChildItem</code> jika Anda ingin menghindari penggantian nama direktori. </p>\n\n<hr>\n\n<p> Sepertinya contoh Anda menyertakan dua karakter yang tidak valid di Windows-1252 dan kemungkinan besar hilang saat Anda memposting pertanyaan (berdasarkan pembalikan proses menggunakan contoh keluaran Anda). Ada <code>144</code> (<code>0x90</code>) antara <code>@</code> dan <code>Â</code> pertama, dan <code>129</code> (<code>0x81</code>) antara <code>½</code> dan <code>A</code>. Untuk kenyamanan orang lain yang ingin menguji, berikut adalah versi mentah byte berenkode base64: <code>aG9tZV8wM0CQwoKig2eDiYOTg06KSoKigr2BQYN0g0CDQ4OLl0yC6A==</code>. </p>\n\n<hr>\n\n<p> Juga perhatikan bahwa ini tidak akan berfungsi ketika ada karakter yang dianggap Windows tidak valid baik di nama file sumber atau tujuan Anda. Terutama di nama file sumber, karena alat ekstraksi Anda mungkin akan merusak nama saat ekstraksi secara tidak dapat dipulihkan (dengan membuang byte yang sesuai dengan karakter yang tidak valid seperti <code>?</code> atau <code>\\</code> dalam pengkodean yang salah). Satu-satunya hal yang dapat Anda lakukan dalam kasus tersebut adalah menggunakan alat ekstraksi alternatif yang menghindari masalah ini sepenuhnya. </p>","votes":"6","source":"https://superuser.com/a/1387157","author":"<a href=\"https://superuser.com/users/117590/bob\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Bob</span></a>","replies":[{"reply":"Terima kasih banyak. Ini memperbaiki sebagian besar nama tetapi untuk sisanya saya hanya perlu menemukan alat ekstraksi yang berfungsi untuk arsip (format psarc) dari mana file itu berasal.","author":"<a href=\"https://superuser.com/users/314941/hiccup\" target=\"_blank\" rel=\"nofollow noopener\">Hiccup</a>"}]}]}
