{"title":"Periksa apakah panggilan HTTP di-gzip","draft":false,"url":"/periksa-apakah-panggilan-http-di-gzip-85daz1fc","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["networking","compression","tcpdump"],"snippet":"Dengan asumsi bahwa saya memiliki server aplikasi (Linux) yang berjalan pada port 80, bagaimana saya dapat memastikan (dengan tcpdump, saya kira) bahwa semua permintaan yang masuk di-gzip dan semua tanggapan juga di-gzip?...","body":"<p> Dengan asumsi bahwa saya memiliki server aplikasi (Linux) yang berjalan pada port 80, bagaimana saya dapat memastikan (dengan tcpdump, saya kira) bahwa semua permintaan yang masuk di-gzip dan semua tanggapan juga di-gzip? Juga, karena server itu sendiri membuat panggilan ke server lain (Windows), bagaimana saya bisa memeriksa paket keluar dan masuk (jika mereka dikompresi, maksud saya) ke dan dari server lain ini? Terima kasih </p>","source":"https://superuser.com/questions/621227/check-if-http-calls-are-gzipped","author":"<a href=\"https://superuser.com/users/132401/pistacchio\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">pistacchio</span></a>","replies":[],"answers":[{"answer":"<p> <code>tcpdump</code> saja bukanlah cara terbaik untuk melakukan ini, secara teknis Anda dapat menentukan jawabannya dengan memeriksa paket, tetapi ini bukan lapisan jaringan terbaik untuk dilihat. Masalah pertama adalah Anda harus berurusan dengan header HTTP variabel, masalah kedua adalah bahwa dengan HTTP / 1.1 dan koneksi persisten Anda harus memeriksa setiap paket balasan, atau memasang kembali setiap permintaan / respons. </p>\n\n<p> HTTP <em> permintaan </em> adalah <a href=\"https://serverfault.com/questions/56700/is-it-possible-to-enable-http-compression-for-requests\" target=\"_blank\" rel=\"nofollow noopener\"> sangat jarang dikompresi </a> . Mungkin berguna untuk memeriksa permintaan ada atau tidak adanya &quot;gzip&quot; atau &quot;deflate&quot; di header <code>Accept-Encoding:</code>. </p>\n\n<p> Balasan HTTP harus memiliki header <code>Content-Encoding:</code> yang berisi <code>gzip</code> atau <code>deflate</code> saat kompresi digunakan. </p>\n\n<p> Hal yang perlu diperhatikan: </p>\n\n<ul>\n<li> karena banyaknya bug browser, banyak server web akan memiliki daftar Agen-Pengguna default yang kompresi tidak akan diaktifkan </li>\n<li> kemungkinan besar ada kumpulan pola file / URL atau jenis konten MIME juga, mengompresi PDF dan gambar sering kali tidak dilakukan </li>\n<li> file kecil mungkin tidak dikompresi </li>\n</ul>\n\n<p> Di Apache, salah satu cara untuk merekam penggunaan kompresi adalah dengan menggunakan <code>mod_deflate</code> <a href=\"http://httpd.apache.org/docs/2.2/mod/mod_deflate.html#deflatefilternote\" rel=\"nofollow noopener\" target=\"_blank\"> DeflateFilterNote </a> dan kemudian mengubah arahan logging Anda, saya biasanya menggunakan setidaknya yang berikut di custom <code>LogFormat</code>: </p> <pre><code>%&gt;s %B %I %O %D %{instream}n/%{outstream}n/%{ratio}n%% %{Content-Type}o\n</code></pre> <p> yang mencatat ukuran total masuk dan keluar, detail kompresi, dan jenis MIME. </p>\n\n<p> Saya telah menggunakan <a href=\"http://dumpsterventures.com/jason/httpry/\" rel=\"nofollow noopener\" target=\"_blank\"> <code>httpry</code> </a> untuk melihat permintaan HTTP, tetapi tidak akan berfungsi di sini karena sayangnya tidak memiliki fitur untuk memeriksa dan merekam <em> tanggapan </em> header (itu juga tidak memasang kembali paket atau aliran HTTP). </p>\n\n<p> Dua program yang harus memberikan detail yang dibutuhkan adalah <a href=\"http://justniffer.sourceforge.net/#!/man_page\" rel=\"nofollow noopener\" target=\"_blank\"> <code>justsniffer</code> </a> dan <a href=\"http://www.xplico.org/about\" rel=\"nofollow noopener\" target=\"_blank\"> <code>xplico</code> </a> (perhatikan meskipun saya tidak pernah menggunakan keduanya karena agak sulit untuk dikompilasi karena ketergantungannya, jika Anda bisa mendapatkan paket biner untuk OS Anda maka Anda akan baik-baik saja). </p>","votes":"5","source":"https://superuser.com/a/656480","author":"<a href=\"https://superuser.com/users/185376/mr-spuratic\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">mr.spuratic</span></a>","replies":[]},{"answer":"<p> Anda dapat memeriksa header koneksi HTTP. Jika header berisi bidang <code>Content-Encoding: gzip</code>, konten di-gzip (lihat juga <a href=\"http://en.wikipedia.org/wiki/HTTP_compression\" rel=\"nofollow noopener\" target=\"_blank\"> wikipedia </a> dan <a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11\" rel=\"nofollow noopener\" target=\"_blank\"> Protokol HTTP W3C </a> ). </p>","votes":"4","source":"https://superuser.com/a/621253","author":"<a href=\"https://superuser.com/users/172706/uwe-plonus\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Uwe Plonus</span></a>","replies":[]},{"answer":"<p> Coba gunakan ngrep --- </p>\n\n<p> Idealnya, Anda akan mengetahui alamat IP yang digunakan server web, jika tidak, Anda harus mengetahui banyak hal sehingga Anda dapat menemukan permintaan dan tanggapan. </p>\n\n<p> Lihat <a href=\"https://stackoverflow.com/questions/9241391/how-to-capture-all-the-http-packets-using-tcpdump\" target=\"_blank\" rel=\"nofollow noopener\"> https://stackoverflow.com/questions/9241391/how-to-capture-all-the-http-packets-using-tcpdump </a></p>","votes":"2","source":"https://superuser.com/a/800557","author":"<a href=\"https://superuser.com/users/128071/david-goodwin\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">David Goodwin</span></a>","replies":[]}]}
