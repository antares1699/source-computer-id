{"title":"Dapatkah saya memuat MBR secara berantai dari Grub pada drive GPT sekunder? Dan dapatkah saya memasukkan MSR pada drive sekunder?","draft":false,"url":"/dapatkah-saya-memuat-mbr-secara-berantai-dari-grub-pada-drive-gpt-sekunder-dan-dapatkah-saya-memasukkan-msr-pada-drive-sekunder-d8fujuza","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["windows-7","linux","multi-boot","mbr","gpt"],"snippet":"Jadi saya memiliki motherboard berkemampuan UEFI dan tiga hard drive:  / dev / sda - 256G SSD (MBR)  / dev / sdb - 230G HDD (MBR)  / dev / sdc - 512G...","body":"<p> Jadi saya memiliki motherboard berkemampuan UEFI dan tiga hard drive: </p>\n\n<ul>\n<li> / dev / sda - 256G SSD (MBR) </li>\n<li> / dev / sdb - 230G HDD (MBR) </li>\n<li> / dev / sdc - 512G SSD (GPT) </li>\n</ul>\n\n<p> Untuk alasan historis, sda dan sdb memiliki tabel partisi MBR dan merupakan drive lama. Drive sda ​​berisi instalasi Windows 7 yang berfungsi dan saya sangat tertarik untuk menyimpannya sementara sdb berisi data besar yang juga ingin saya simpan ... Arsip dan video dan sejenisnya. </p>\n\n<p> Drive sdc adalah drive baru yang saya beli dan dipartisi menggunakan Windows Disk Manager agar memiliki separuh untuk windows dan separuh lagi untuk dual boot linux nanti. Saya tidak memperhatikan ketika saya mempartisi dan itu membuat tabel partisi GPT dan Partisi Cadangan Microsoft. Waktu berlalu dan sdc sekarang berisi banyak data yang tidak ingin saya ganggu dan inilah saatnya menginstal linux boot ganda itu. </p>\n\n<p> Karena tabel partisi adalah GPT, Grub2 menginginkan Partisi Sistem EFI (ESP) di kepala drive (yang ditempati oleh MSR) dan sebenarnya menolak untuk menginstal. </p>\n\n<p> Jadi pertanyaan saya adalah: </p>\n\n<ol>\n<li> Dapatkah saya memasukkan MSR dari orbit ke sandwich di ESP dan mungkin / boot? Win7 saya boot dengan baik sebelum harddisk itu diinstal jadi saya tidak melihat bagaimana itu akan mempengaruhi apa pun. </li>\n<li> Jika saya mengubah urutan boot saya untuk menggunakan UEFI dan boot dari sdc, itu akan memuat grub, apakah grub dapat melakukan chainload dari MBR pada sda (menjaga sda tidak dimodifikasi)? </li>\n</ol>\n\n<p> (Klarifikasi: Saya tidak peduli tentang ruang yang digunakan MSR, ini hanya cara untuk ESP yang ingin saya masuki agar saya dapat boot) </p>","source":"https://superuser.com/questions/1194548/can-i-chainload-mbr-from-grub-on-secondary-gpt-drive-and-can-i-nuke-msr-on-seco","author":"<a href=\"https://superuser.com/users/257765/emily-l\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Emily L.</span></a>","replies":[{"reply":"jika saya mengerti dengan benar, <code>grub-efi</code> tidak dapat mem-boot bootloader MBR tetapi <code>refind</code> bisa. Saya tidak percaya ESP harus berada di depan drive; hanya perlu dalam format <code>fat32</code> dan diberi tanda <code>boot</code>.","author":"<a href=\"https://superuser.com/users/685512/quixotic\" target=\"_blank\" rel=\"nofollow noopener\">quixotic</a>"},{"reply":"@quixotic Saya rasa saya bingung dengan partisi bios_boot dan ESP ...","author":"<a href=\"https://superuser.com/users/257765/emily-l\" target=\"_blank\" rel=\"nofollow noopener\">Emily L.</a>"},{"reply":"Periksa <a href=\"https://superuser.com/users/171594/rod-smith\" target=\"_blank\" rel=\"nofollow noopener\"> @ Rodd </a> jawaban di sini dan <a href=\"http://www.rodsbooks.com/refind/\" rel=\"nofollow noopener\" target=\"_blank\"> situs refind nya </a> - info lebih lanjut tentang boot mbr / uefi daripada yang bisa Anda tahan, dijamin.","author":"<a href=\"https://superuser.com/users/685512/quixotic\" target=\"_blank\" rel=\"nofollow noopener\">quixotic</a>"}],"answers":[{"answer":"<p> Masalah saya berasal dari kebingungan dan kurangnya pengetahuan. Saya akan mencoba meringkas apa yang telah saya pelajari di sini dengan harapan dapat bermanfaat bagi seseorang. </p>\n\n<h1 class=\"h3\"> Perangkat Keras BIOS vs UEFI </h1>\n\n<p> Ketika Anda menghidupkan komputer Anda, program itu harus mulai dijalankan di suatu tempat. Biasanya ini adalah ROM pada motherboard yang berisi program, untuk waktu yang lama program ini disebut BIOS dan berfungsi dengan cara tertentu (agak) standar. Ini mengendalikan beberapa fitur perangkat keras di antara hal-hal lain tetapi yang paling penting itu melewati kendali ke OS di beberapa media lain dengan cara yang ditentukan dengan baik. </p>\n\n<p> Program &quot;standar&quot; BIOS kemudian digantikan oleh UEFI yang memiliki tujuan yang sama (kebanyakan) dan juga memiliki metode untuk meneruskan kontrol ke OS di beberapa media lain. </p>\n\n<h1 class=\"h3\"> Boot BIOS </h1>\n\n<p> Saat booting BIOS, ia membaca sektor pertama dari perangkat boot utama yang diasumsikan berisi bootloader dan mulai menjalankannya. Sektor pertama ini disebut Master Boot Record (MBR). Disk diasumsikan menggunakan skema partisi DOS. </p>\n\n<p> Pada skema partisi DOS lama (juga kadang-kadang disebut sebagai MBR), 446 byte ruang program dicadangkan untuk bootloader di MBR. Siapa yang membutuhkan lebih dari 446 byte amirite? Jadi, bootloader yang lebih besar biasanya menggunakan &quot;fitur&quot; dari skema partisi DOS di mana ada sekitar 1-2 MB atau lebih ruang yang tidak terpakai segera setelah MBR. Bootloader akan memiliki &quot;tahap 1&quot; dan &quot;tahap 2&quot; di mana tahap 1 disimpan di MBR dan hanya memuat tahap 2 yang disimpan di area &quot;tidak digunakan&quot; ini. </p>\n\n<h1 class=\"h3\"> Boot UEFI </h1>\n\n<p> Saat booting UEFI diasumsikan bahwa perangkat boot utama menggunakan GPT, dan mencari partisi dengan tipe tertentu, yaitu: &quot;Partisi Sistem EFI&quot;. Partisi ini diasumsikan FAT 12,16 atau 32. Setelah ditemukan, partisi ini akan memindai bootloader dengan mencari file dengan nama yang diakhiri dengan <code>.efi</code>. </p>\n\n<p> Saya menemukan bahwa dalam konteks menginstal grub, teks yang saya baca mengacu pada prosedur boot UEFI hanya sebagai UEFI, dan prosedur boot BIOS sebagai BIOS. Yang membingungkan karena saya pikir mereka berbicara tentang perangkat lunak sebenarnya pada ROM motherboard. </p>\n\n<p> Bagaimanapun motherboard UEFI masih dapat melakukan prosedur boot BIOS, biasanya disebut &quot;Legacy Boot&quot; atau CSM dalam pengaturan UEFI. </p>\n\n<h1 class=\"h3\"> GPT dan DOS / MBR </h1>\n\n<p> Meskipun GPT sangat berbeda dari skema partisi MBR / DOS lama, GPT telah mencadangkan wilayah tempat bootloader pada disk yang dipartisi MBR akan berada. Ini berarti Anda dapat menginstal bootloader &quot;legacy&quot; ke dalam ruang yang dicadangkan ini di GPT dan menggunakan booting BIOS. Namun ada peringatan, ingat hal tahap 1/2 itu? Ya, GPT tidak memiliki &quot;fitur&quot; itu dan wilayah yang dicadangkan masih hanya 446 byte. Jadi untuk menampung tahap 2 dari bootloader, jenis partisi khusus diperkenalkan: &quot;bios_boot&quot;. Jadi bootloader harus menyadari bahwa ia sedang diinstal pada disk GPT dan menemukan partisi &quot;bios_boot&quot; dan meletakkannya pada tahap 2 di sana dan membiarkan tahap 1 menemukan partisi ini. </p>\n\n<h1 class=\"h3\"> Ringkasan </h1>\n\n<p> Jadi ada tiga cara Anda bisa boot: </p>\n\n<h2 class=\"h4\"> Boot UEFI + GPT </h2>\n\n<p> Buat partisi untuk menampung bootloader, 100 MB atau lebih harus lebih dari cukup, atur jenisnya ke &quot;Partisi Sistem EFI&quot;, format dengan FAT 12,16 atau 32. Pasang di suatu tempat, biasanya <code>/boot/efi</code>. Kemudian beri tahu grub untuk memasang pemuat EFI: <code>grub-install --efi-directory=/boot/efi</code>. </p>\n\n<p> UEFI boot harus menemukan partisi dengan melihat tabel partisi. </p>\n\n<p> Saya diberitahu bahwa Anda dapat menggunakan ESP untuk &#39;/ boot&#39; Anda juga tetapi saya belum mencobanya. </p>\n\n<h2 class=\"h4\"> Booting BIOS + GPT </h2>\n\n<p> Buat partisi untuk menampung tahap 2 dari loader, biasanya 1-2 MB, dan setel jenisnya ke &quot;bios_boot&quot;. Anda tidak perlu meletakkan filesystem di partisi ini atau me-mount-nya, grub akan &quot;sendiri&quot; melakukannya sesuai kebutuhan. Posisi partisi ini pada disk seharusnya tidak relevan. Kemudian instal grub pada MBR seperti biasa <code>grub-install /dev/sdx</code>. Grub akan mendeteksi bahwa itu adalah disk GPT, temukan partisi boot bios (dan komplain jika tidak!) Dan instal tahap 1 dan tahap 2 yang sesuai. </p>\n\n<h2 class=\"h4\"> Boot BIOS + MBR </h2>\n\n<p> Cukup buat skema partisi DOS pada disk Anda dan gunakan <code>grub-install /dev/sdx</code> untuk menulis MBR, partisi boot bios tidak diperlukan. </p>\n\n<h1 class=\"h3\"> Rantai memuat drive sekunder dengan MBR dari drive primer dengan GPT </h1>\n\n<p> Jadi saya menemukan bahwa grub tidak mengizinkan rantai memuat bootloader BIOS dari bootloader UEFI untuk alasan apa pun. Saya pribadi tidak melihat mengapa itu tidak mungkin tetapi setidaknya grub tampaknya tidak mendukungnya. </p>\n\n<p> Jadi untuk memperbaiki masalah saya, saya menetapkan drive GPT saya sebagai perangkat boot utama dalam pengaturan UEFI, kemudian menggunakan boot BIOS untuk memuat grub dari perangkat GPT seperti di atas. Yang berarti dapat memuat berantai Win7 dari MBR pada disk pertama. </p>","votes":"6","source":"https://superuser.com/a/1194993","author":"<a href=\"https://superuser.com/users/257765/emily-l\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Emily L.</span></a>","replies":[{"reply":"Ini adalah ringkasan yang layak. Namun, ada beberapa koreksi kecil: Kebanyakan pemuat boot mode MBR / BIOS menyimpan kode sekundernya di dekat awal disk, di sektor yang segera mengikuti MBR, bukan di akhir disk. Selain itu, ESP bisa berada di mana saja. Sektor 2048 adalah titik awal yang umum hanya karena di situlah partisi pertama sering dimulai. Lokasi itu tidak perlu atau bahkan istimewa. Selain itu, menginstal boot loader EFI kurang lebih membutuhkan booting komputer dalam mode EFI; tidak mungkin <i> sepenuhnya </i> dilakukan dalam mode BIOS. Solusi pamungkas Anda adalah solusi yang bagus.","author":"<a href=\"https://superuser.com/users/171594/rod-smith\" target=\"_blank\" rel=\"nofollow noopener\">Rod Smith</a>"},{"reply":"@RodS, saya rasa saya sudah memperbaiki semuanya.","author":"<a href=\"https://superuser.com/users/257765/emily-l\" target=\"_blank\" rel=\"nofollow noopener\">Emily L.</a>"}]}]}
