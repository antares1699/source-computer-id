{"title":"Bagaimana Anda menjalankan perintah sebagai pengguna lain di Linux?","draft":false,"url":"/bagaimana-anda-menjalankan-perintah-sebagai-pengguna-lain-di-linux-y1diat9w","votes":"4","answers_count":"1","categories":["Komputer"],"tags":["linux","command-line","bash","ssh","shell"],"snippet":"Saya memiliki akses ke server linux di mana saya dapat sudo ke &#39;foo&#39; seperti ini tanpa kata sandi:  sudo su - foo  Setelah saya menjadi pengguna &#39;foo&#39;, saya dapat menjalankan skrip seperti...","body":"<p> Saya memiliki akses ke server linux di mana saya dapat sudo ke &#39;foo&#39; seperti ini tanpa kata sandi: </p> <pre><code>sudo su - foo\n</code></pre> <p> Setelah saya menjadi pengguna &#39;foo&#39;, saya dapat menjalankan skrip seperti ini: </p> <pre><code>/dir/foo_user_script.sh\n</code></pre> <p> &#39;Foo_user_script&#39; hanya dapat dijalankan oleh pengguna foo dan bukan oleh pengguna saya. Jadi saya dapat menjalankan skrip dengan terlebih dahulu beralih ke pengguna &#39;foo&#39; dan kemudian menjalankan skrip. </p>\n\n<p> Namun, saya mencoba mengotomatiskan beberapa proses menggunakan klien SSH Java <a href=\"http://www.ganymed.ethz.ch/ssh2/FAQ.html#sessioncommands\" rel=\"nofollow noopener\" target=\"_blank\"> ganymed </a> . FAQ Ganymed menyarankan bahwa untuk menjalankan banyak perintah, saya harus menggunakan cara seperti: </p> <pre><code>Session.execCommand(\"echo Hello &amp;&amp; echo again\")\n</code></pre> <p> Saya mencoba sesuatu seperti ini, tetapi perintah kedua (foo_user_script) tidak dijalankan: </p> <pre><code>Session.execCommand(\"sudo su - foo &amp;&amp; /dir/foo_user_script.sh\")\n</code></pre> <p> Saya pikir ini tidak berhasil karena su meluncurkan shell baru. </p>\n\n<p> Apakah ada cara bagi saya untuk menjalankan skrip /dir/foo_user_script.sh dalam satu perintah? </p>\n\n<p><strong> catatan: </strong><br> &quot;sudo -l&quot; menunjukkan ini kepada saya: </p> <pre><code>(root) NOPASSWD: /bin/su - foo\n</code></pre> <p> Terima kasih untuk bantuannya! </p>","source":"https://superuser.com/questions/733536/how-do-you-run-a-command-as-another-user-on-linux","author":"<a href=\"https://superuser.com/users/310549/george\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">George</span></a>","replies":[{"reply":"Anda harus meminta penyedia server untuk menyediakan konfigurasi sudo yang tidak terlalu rusak. IMHO, kombinasi sudo su rusak dan mengalahkan tujuan penggunaan sudo di tempat pertama (membatasi akses, menyediakan jejak audit dan akuntabilitas).","author":"<a href=\"https://superuser.com/users/40350/slartibartfast\" target=\"_blank\" rel=\"nofollow noopener\">Slartibartfast</a>"},{"reply":"Setelah mengotak-atik ini sebentar, saya menyadari bahwa karena saya dapat sudo ke pengguna, saya dapat membuat dan menggunakan kunci SSH saya sendiri. Saya membuat kunci baru dan sekarang saya dapat SSH ke server secara langsung sebagai &#39;foo&#39;.","author":"<a href=\"https://superuser.com/users/310549/george\" target=\"_blank\" rel=\"nofollow noopener\">George</a>"},{"reply":"Yang diharapkan dapat menggambarkan mengapa &#39;sudo su&#39; bukan merupakan tindakan pengamanan.","author":"<a href=\"https://superuser.com/users/40350/slartibartfast\" target=\"_blank\" rel=\"nofollow noopener\">Slartibartfast</a>"}],"answers":[{"answer":"<p> <code>sudo -u foo /dir/foo_user_script.sh</code> </p>","votes":"7","source":"https://superuser.com/a/733538","author":"<a href=\"https://superuser.com/users/305051/srikanth-k\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Srikanth K.</span></a>","replies":[{"reply":"Sayangnya, meskipun ini adalah jawaban yang lebih baik dalam banyak hal, sistem pengguna rusak (lihat keluaran sudo -l) untuk mengurangi keamanan.","author":"<a href=\"https://superuser.com/users/40350/slartibartfast\" target=\"_blank\" rel=\"nofollow noopener\">Slartibartfast</a>"}]}]}
