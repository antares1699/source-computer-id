{"title":"Bagaimana cara menghapus folder dan file yang lebih lama dari 7 hari pada baris perintah?","draft":false,"url":"/bagaimana-cara-menghapus-folder-dan-file-yang-lebih-lama-dari-7-hari-pada-baris-perintah-vjod58jk","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["windows","command-line"],"snippet":"Saya ingin menghapus folder dan file-nya dibuat lebih dari 7 hari menggunakan baris perintah.","body":"<p> Saya ingin menghapus folder dan file-nya dibuat lebih dari 7 hari menggunakan baris perintah. </p>","source":"https://superuser.com/questions/366826/how-do-i-delete-folders-and-files-that-were-older-than-7-days-on-the-command-lin","author":"<a href=\"https://superuser.com/users/113769/mahmoud-al-saadi\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Mahmoud AL-saadi</span></a>","replies":[{"reply":"Di OS yang mana (Win, OSx Linux? Saya berasumsi Linux tetapi Anda tahu apa yang mereka katakan tentang asumsi.","author":"<a href=\"https://superuser.com/users/37873/steve-robillard\" target=\"_blank\" rel=\"nofollow noopener\">Steve Robillard</a>"},{"reply":"<a href=\"http://www.sevenforums.com/tutorials/55721-folder-delete-command-prompt.html\" rel=\"nofollow noopener\" target=\"_blank\"> sevenforums.com/tutorials/… </a>","author":"User"},{"reply":"Saya tidak yakin bagaimana Anda akan melakukan bagian 7 hari, tetapi jika Anda menggunakan OS X atau Linux Anda dapat menggunakan perintah: rm -rf / path / to / the / folder","author":"<a href=\"https://superuser.com/users/44764/nosedive25\" target=\"_blank\" rel=\"nofollow noopener\">nosedive25</a>"},{"reply":"wa c mahmoud. Anda ingin membuat skrip yang menghapus file sebelum hari ke-7? dan di sistem operasi apa ?!","author":"User"},{"reply":"Di windows, dan folder yang ingin saya hapus bernama: 200110001,20110002 .. dan seterusnya, hanya folder yang dimulai dengan &quot;2011 ...&quot; saya ingin menghapus","author":"User"},{"reply":"FGraviton, saya ingin menghapus folder yang dibuat sebelum lebih dari 7 hari","author":"User"}],"answers":[{"answer":"<h3 class=\"h5\"> * NIX </h3>\n\n<p> Jika Anda menggunakan * nix dan memiliki <em> Temukan </em> tersedia ini harus melakukan trik: </p> <pre><code>find /the/directory/containing/files/to/delete -mtime +7 -exec rm -r {} \\;\n</code></pre> <p> Bendera <code>-mtime</code> digunakan untuk memeriksa stempel waktu modifikasi dari file yang ditemukan. Jika di atas <code>7*24h</code> yang lalu, <br> itu akan mengeksekusi <code>rm /path/to/file</code> </p>\n\n<p><strong> Dari halaman manual untuk <code>find</code> </strong></p> <pre><code>-mtime n  \n    File's  data was last modified n*24 hours ago.  See the comments  \n    for -atime to understand how rounding affects the interpretation  \n    of file modification times.  \n</code></pre> <hr>\n\n<h3 class=\"h5\"> WINDOWS XP &amp; VISTA </h3>\n\n<p> Saya tidak pernah bekerja di windows meskipun saya penasaran untuk melihat perintah apa yang setara dengan di atas dalam lingkungan MS-DOS. saya menemukan <a href=\"https://stackoverflow.com/questions/51054/batch-file-to-delete-files-older-than-n-days\" target=\"_blank\" rel=\"nofollow noopener\"> File batch untuk menghapus file yang lebih lama dari N hari </a> di sini di stackoverflow. </p>\n\n<p> Perintah yang relevan (salin + tempel dari utas yang ditautkan sebelumnya): </p> <pre><code>forfiles -p \"C:\\what\\ever\" -s -m *.* -d &lt;number of days&gt; -c \"cmd /c del @path\"\n</code></pre> <h3 class=\"h5\"> WINDOWS 7 </h3>\n\n<p> Sintaks telah sedikit berubah karena itu perintah yang diperbarui adalah </p> <pre><code>forfiles -p \"C:\\what\\ever\" -s -m *.* /D -&lt;number of days&gt; /C \"cmd /c del @path\"\n</code></pre>","votes":"12","source":"https://superuser.com/a/366827","author":"<a href=\"https://superuser.com/users/642425/filip-ros%c3%a9en-refp\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Filip Ros&#233;en - refp</span></a>","replies":[{"reply":"Rm membutuhkan -r flag untuk menghapus direktori, jika saya ingat dengan benar. (UNIX)","author":"User"},{"reply":"@ Jon Oh, saya tidak memperhatikan bahwa itu adalah persyaratan untuk menghapus direktori dan file, saya akan segera mengubah posting saya. Terima kasih telah menunjukkan hal ini!","author":"User"},{"reply":"Dan hanya untuk memastikan, itu juga harus menggunakan -f flag, jadi -rf akan selalu memaksa penghapusan. (lupakan yang itu).","author":"User"},{"reply":"@Jon Aku sengaja meninggalkannya untuk jujur, lebih baik aman daripada menyesal! ;)","author":"User"},{"reply":"refp, terima kasih banyak atas jawaban Anda, &quot;forfiles&quot; akan berfungsi di windows?","author":"User"}]},{"answer":"<p> Jika Anda perlu berurusan dengan masalah batas ruang pada pohon file yang sangat besar (dalam kasus saya banyak cabang paksa), terkadang itu <strong> digantung saat berlari </strong> proses temukan dan hapus - </p>\n\n<p> Berikut skrip yang saya jadwalkan setiap hari <strong> temukan semua direktori dengan file tertentu </strong> (&quot;ChangesLog.txt&quot;),\nlalu <strong> Urutkan semua direktori </strong> menemukan itu <strong> lebih tua dari </strong> 2 hari, dan Hapus direktori pertama yang cocok (setiap jadwal mungkin ada pertandingan baru): </p> <pre><code>bash -c \"echo @echo Creating Cleanup_Branch.cmd on %COMPUTERNAME% - %~dp0 &gt; Cleanup_Branch.cmd\"\nbash -c \"echo -n 'bash -c \\\"find ' &gt;&gt; Cleanup_Branch.cmd\"\nrm -f dirToDelete.txt\nrem cd. &gt; dirToDelete.txt \nbash -c \"find .. -maxdepth 9 -regex \".+ChangesLog.txt\" -exec echo {} &gt;&gt; dirToDelete.txt \\; &amp; pid=$!; sleep 100; kill $pid \"\nsed -e 's/\\(.*\\)\\/.*/\\1/' -e 's/^./\"&amp;/;s/.$/&amp;\" /' dirToDelete.txt | tr '\\n' ' ' &gt;&gt; Cleanup_Branch.cmd\nbash -c \"echo -n '-maxdepth 0 -type d -mtime +2 | xargs -r ls -trd | head -n1 | xargs -t rm -Rf' &gt;&gt; Cleanup_Branch.cmd\"\nbash -c 'echo -n \\\" &gt;&gt; Cleanup_Branch.cmd'\ncall Cleanup_Branch.cmd\n</code></pre> <p> Perhatikan persyaratannya: </p>\n\n<ol>\n<li> Menghapus hanya direktori tersebut dengan &quot;ChangesLog.txt&quot;, karena direktori lama lainnya tidak boleh dihapus. </li>\n<li> Memanggil perintah OS di <strong> cygwin secara langsung </strong> , karena selain itu menggunakan perintah default Windows. </li>\n<li> Mengumpulkan direktori untuk dihapus ke file teks eksternal, untuk <strong> simpan hasil pencarian </strong> , karena terkadang proses pencarian terhenti. </li>\n<li> Pengaturan a <strong> batas waktu untuk proses pencarian dengan menggunakan &amp; proses latar belakang yang dimatikan setelah 100 detik </strong> . </li>\n<li> Mengurutkan direktori terlama terlebih dahulu, untuk prioritas hapus. </li>\n</ol>","votes":"0","source":"https://superuser.com/a/616935","author":"<a href=\"https://superuser.com/users/141314\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Noam Manos</span></a>","replies":[]}]}
