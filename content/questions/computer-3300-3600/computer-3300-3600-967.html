{"title":"Bagaimana cara mengubah tampilan terminal (Linux) saya saat saya melakukan SSH ke mesin jarak jauh?","draft":false,"url":"/bagaimana-cara-mengubah-tampilan-terminal-linux-saya-saat-saya-melakukan-ssh-ke-mesin-jarak-jauh-kthvzrzr","votes":"4","answers_count":"3","categories":["Komputer"],"tags":["ssh","terminal"],"snippet":"Kadang-kadang saya menemukan diri saya dengan beberapa terminal terbuka, beberapa di antaranya disambungkan ke mesin (produksi) lain. Jika saya menjalankan perintah seperti &quot;jatuhkan semua tabel dalam database&quot; di salah satu terminal ssh-ed...","body":"<p> Kadang-kadang saya menemukan diri saya dengan beberapa terminal terbuka, beberapa di antaranya disambungkan ke mesin (produksi) lain. Jika saya menjalankan perintah seperti &quot;jatuhkan semua tabel dalam database&quot; di salah satu terminal ssh-ed tersebut, saya berpotensi menghancurkan banyak sekali data pelanggan. Namun dalam perkembangannya tentunya saya perlu menjalankan perintah-perintah tersebut dari waktu ke waktu. </p>\n\n<p> Jadi, saya bertanya-tanya: adakah cara saya bisa mendapatkan terminal saya (idealnya yang built-in GNOME, tetapi saya bersedia untuk beralih ke program terminal yang berbeda jika perlu) untuk mengubah tampilan visualnya ketika saya ssh -ed ke mesin jarak jauh? Idealnya saya memiliki latar belakang hitam normal, tetapi ketika saya ssh ke mesin jarak jauh, latar belakang akan berubah menjadi merah. Mungkin batas jendela akan berubah merah dan mulai berkedip atau semacamnya. </p>\n\n<p> Detail dari perubahan tampilan tidak penting: yang penting adalah membuat jelas bahwa saya perlu lebih berhati-hati saat bekerja pada terminal yang ssh-ed di suatu tempat. Apakah itu mungkin? </p>\n\n<p> P.S. Saya menemukan <a href=\"http://code.google.com/p/contextual-ssh/\" rel=\"nofollow noopener\" target=\"_blank\"> SSH kontekstual </a> , yang persis seperti yang saya inginkan ... hanya saja ini khusus Mac :-( </p>","source":"https://superuser.com/questions/596183/how-can-i-change-my-linux-terminals-appearance-when-i-ssh-in-to-a-remote-mach","author":"<a href=\"https://superuser.com/users/9443/machineghost\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">machineghost</span></a>","replies":[{"reply":"Jawaban yang diterima tidak memberikan tampilan yang berbeda berdasarkan SSH. Untuk itu Anda perlu mengubah sesuatu berdasarkan cuaca, sesi saat ini adalah sesi SSH, yang pendeteksiannya dijelaskan di sini: <a href=\"https://askubuntu.com/a/538455\" target=\"_blank\" rel=\"nofollow noopener\"> askubuntu.com/a/538455 </a>","author":"<a href=\"https://superuser.com/users/175529/shadsterling\" target=\"_blank\" rel=\"nofollow noopener\">ShadSterling</a>"}],"answers":[{"answer":"<p> Saya akan menyarankan pengaturan $ PS1 Anda ke informasi yang relevan, seperti nama host, dll.\nAnda dapat memeriksa halaman manual shell of choice Anda untuk mengetahui detailnya. </p>\n\n<p> Contoh hal yang dapat Anda lakukan untuk PS1 Anda di <a href=\"https://wiki.archlinux.org/index.php/Color_Bash_Prompt\" rel=\"nofollow noopener\" target=\"_blank\"> pesta </a></p>\n\n<p> Saya sendiri memiliki tes di ~ / .subbash / saya <a href=\"https://notabug.org/demure/dotfiles/src/master/subbash/prompt\" rel=\"nofollow noopener\" target=\"_blank\"> cepat </a> yang menyetel warna perintah berdasarkan server. * </p>\n\n<p> * lihat fungsi __prompt_command () </p>\n\n<h2 class=\"h4\"> Cara Anda dapat mengubah PS1 Anda </h2>\n\n<p> Ada beberapa cara untuk menyesuaikan PS1, Sepertinya Anda menginginkan sesuatu yang sedikit lebih terlihat, jadi contoh saya akan sedikit lebih rumit daripada menambahkan <code>\\H</code> ke PS1. Untuk menggunakan salah satu dari berikut ini, Anda dapat menambahkannya ke <code>~/.bashrc</code> Anda (di server jarak jauh, jika tidak keduanya. Saya menyinkronkan konfigurasi yang sama di antara semua komputer saya) </p>\n\n<p><strong> catatan: </strong> Untuk membuatnya lebih mudah dibaca, berikut ini mengasumsikan bahwa vars ini dideklarasikan. <br> Variasi dapat dengan mudah diganti dengan isinya. <br> Selain itu, contoh ini bias bash, Anda mungkin harus menyesuaikan shell lain. </p> <pre><code>RCol='\\[\\e[0m\\]'    # Text Reset\nRed='\\[\\e[0;31m\\]'  # Red\nGre='\\[\\e[0;32m\\]'  # Green\nYel='\\[\\e[0;33m\\]'  # Yellow\nBlu='\\[\\e[0;34m\\]'  # Blue\nPur='\\[\\e[0;35m\\]'  # Purple\nCya='\\[\\e[0;36m\\]'  # Cyan\nWhi='\\[\\e[0;37m\\]'  # White\n</code></pre> <h3 class=\"h5\"> Pemeriksaan Root </h3>\n\n<p> Satu hal yang mungkin Anda suka adalah menguji $ USER, karena apakah itu root, atau mungkin hanya akun &#39;produksi&#39;: </p> <pre><code>if [ $UID -eq \"0\" ];then\n    PS1=\"${Red}\\h \\W -&gt;${RCol} \"        # Set prompt for root\nelse\n    PS1=\"\\h \\W -&gt; \"\nfi\n</code></pre> <p> Ini akan membuat prompt menjadi merah jika Anda melakukan root. </p>\n\n<h3 class=\"h5\"> Pemeriksaan tuan rumah </h3>\n\n<p> Anda juga dapat menguji informasi tentang mesin saat ini, dan menyetel warna berdasarkan itu: </p> <pre><code>PS1=\nPSCol=\nif [ $HOSTNAME == 'moving-computer-of-doom' ]; then\n    PSCol=\"$Cya\"                # For Main Computer\nelif [ $HOSTTYPE == 'arm' ]; then\n    PSCol=\"$Gre\"                # For pi\nelif [ $HOSTNAME == 'ma.sdf.org' ]; then\n    PSCol=\"$Blu\"                # For MetaArray\nelif [[ $MACHTYPE =~ arm-apple-darwin ]]; then\n    PSCol=\"$Gre\"                # For iOS\nelif [ $MACHTYPE == 'i486-pc-linux-gnu' ]; then\n    PSCol=\"$Whi\"                # For Netbook\nelif [[ \"$MACHTYPE\" == \"x86_64--netbsd\" &amp;&amp; \"$OSTYPE\" == \"netbsd\" ]]; then\n    PSCol=\"$Yel\"                # For Main Cluster\nelse\n    PS1+=\"\\h \"              # Un-designated catch-all\nfi\n\nPS1+=\"${PSCol}\\W -&gt;${RCol} \"\n</code></pre> <p> Ini akan mengatur prompt cyan jika di laptop saya, hijau untuk pi atau iOS saya, dll. <br> Jika tidak terdaftar, itu akan menambahkan nama host ke prompt. <br> Jadi, jika server produksi Anda memiliki sesuatu yang mudah untuk diuji (seperti nama host yang serupa, Anda dapat menggunakannya) </p>\n\n<h3 class=\"h5\"> PROMPT_COMMAND </h3>\n\n<p> Untuk sebagian besar hal di atas akan bekerja dengan baik tanpa ini. <br> Jika Anda mulai menambahkan hal-hal yang ingin Anda evaluasi ulang lebih sering saat login (mungkin status git dir), Anda dapat menggunakan fungsi PROMPT_COMMAND agar PS1 dievaluasi setelah setiap perintah. </p>\n\n<p> Di atas berfungsi dengan baik tanpa ini. </p>\n\n<p><strong> catatan: </strong> Maaf jika ini tampak membingungkan, ini diambil dari pengaturan yang saya gunakan, dan dimodifikasi untuk bekerja tanpa pengaturan saya yang lain. </p>","votes":"6","source":"https://superuser.com/a/596184","author":"<a href=\"https://superuser.com/users/222271/demure\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">demure</span></a>","replies":[{"reply":"Terima kasih, tetapi bahkan jika setelah membaca jawaban Anda (dan dua tautan yang Anda berikan) saya masih tidak mengerti bagaimana saya mengubah $ PS1 sebagai tanggapan terhadap ssh (dan kemudian mengubahnya kembali ketika saya meninggalkan server jarak jauh). Adakah kemungkinan Anda bisa menjelaskan itu?","author":"<a href=\"https://superuser.com/users/9443/machineghost\" target=\"_blank\" rel=\"nofollow noopener\">machineghost</a>"},{"reply":"@machineghost melakukan bantuan contoh? Haruskah ada yang lebih dijelaskan?","author":"<a href=\"https://superuser.com/users/222271/demure\" target=\"_blank\" rel=\"nofollow noopener\">demure</a>"},{"reply":"Mungkin pertanyaan konyol, tapi saya berasumsi petunjuk di atas hanya berfungsi jika Anda memastikan untuk menyalin .bashrc Anda ke host jarak jauh? Benarkah itu? Saya akan senang jika tidak terjadi. : P","author":"<a href=\"https://superuser.com/users/147369/josh-gagnon\" target=\"_blank\" rel=\"nofollow noopener\">Josh Gagnon</a>"},{"reply":"@JoshGagnon Ya, $ PS1 (seperti envvars lain), hanya untuk lokal. Saya pribadi menggunakan git repo untuk menyimpan file dot saya di satu tempat, dan meletakkannya di setiap mesin yang saya butuhkan juga. gitorious.org/demure/dotfiles","author":"<a href=\"https://superuser.com/users/222271/demure\" target=\"_blank\" rel=\"nofollow noopener\">demure</a>"},{"reply":"@demure link bashrc anda telah dipindahkan ke notabug. Tautan ke ada di sini: <a href=\"https://notabug.org/demure/dotfiles/src/master/subbash/prompt\" rel=\"nofollow noopener\" target=\"_blank\"> __prompt_command () </a>","author":"<a href=\"https://superuser.com/users/695837/timm\" target=\"_blank\" rel=\"nofollow noopener\">Timm</a>"},{"reply":"@Timm diperbarui ke titik repo git saat ini","author":"<a href=\"https://superuser.com/users/222271/demure\" target=\"_blank\" rel=\"nofollow noopener\">demure</a>"}]},{"answer":"<p> Ini adalah artikel bagus yang saya gunakan untuk menyesuaikan prompt bash saya: </p>\n\n<p><a href=\"http://www.ibm.com/developerworks/linux/library/l-tip-prompt/\" rel=\"nofollow noopener\" target=\"_blank\"> http://www.ibm.com/developerworks/linux/library/l-tip-prompt/ </a></p>\n\n<p> Memudahkan untuk melihat ketika saya masuk ke server saya karena saya telah menyetel bagian nama host dari prompt saya menjadi merah. </p>\n\n<p> Nilai yang saya gunakan sebagai PS1 saya di bash_profile adalah: </p>\n\n<p> PS1 = &quot;[\\ e [32; 1m] \\ u [\\ e [0m] [\\ e [34; 1m] @ [\\ e [0m] [\\ e [31; 1m] \\ h [\\ e [0m] : [\\ e [34; 1m] \\ w $ [\\ e [0m] &quot; </p>\n\n<p> Ini memberi saya nama pengguna berwarna hijau, diikuti dengan tanda &#39;@&#39; biru, lalu nama host berwarna merah, lalu &#39;~ $&#39; dengan warna biru. Anda mungkin dapat melihat betapa mudahnya menyesuaikan untuk membantu Anda melihat dengan mudah saat Anda masuk ke server yang berbeda </p>\n\n<p> Pastikan Anda membaca artikel dengan benar karena artikel tersebut menjelaskan cara keluar dari setiap urutan dengan benar. Gagal keluar dari urutan dapat menyebabkan beberapa perilaku tak terduga saat mengetik dalam perintah yang lebih panjang. </p>","votes":"3","source":"https://superuser.com/a/596185","author":"<a href=\"https://superuser.com/users/224724/steven1978\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Steven1978</span></a>","replies":[{"reply":"Terima kasih, itu benar-benar menjelaskan cara mengubah prompt bash. Sayangnya, bagaimanapun itu tidak menjelaskan bagaimana mengubah prompt bash sebagai tanggapan terhadap saya menjalankan &quot;ssh&quot; (dan kemudian mengubahnya kembali setelah saya selesai).","author":"<a href=\"https://superuser.com/users/9443/machineghost\" target=\"_blank\" rel=\"nofollow noopener\">machineghost</a>"}]},{"answer":"<p> Rupanya semua jawaban sebelumnya hanya berfungsi dengan Bash. Saya menggunakan Busybox di beberapa perangkat dan membutuhkan alternatif. </p>\n\n<p> Berdasarkan <a href=\"http://www.faqs.org/docs/Linux-mini/Xterm-Title.html#ss3.2\" rel=\"nofollow noopener\" target=\"_blank\"> ini </a> Anda dapat menambahkan baris generik ke skrip log-in Anda yang seharusnya berfungsi (dan melakukannya untuk saya di beberapa host yang bervariasi): </p> <pre><code>echo -n \"\\033]0;${USER}@${HOSTNAME}: ${PWD}\\007\"\n</code></pre>","votes":"1","source":"https://superuser.com/a/686536","author":"<a href=\"https://superuser.com/users/253390/ken-sharp\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Ken Sharp</span></a>","replies":[]}]}
