{"title":"Apakah format / skema &quot;Library.musicdb&quot; Apple Music yang digunakan di macOS Catalina didokumentasikan di mana saja?","draft":false,"url":"/apakah-format-skema-quotlibrarymusicdbquot-apple-music-yang-digunakan-di-macos-catalina-didokumentasikan-di-mana-saja-wq7stjqg","votes":"4","answers_count":"2","categories":["Komputer"],"tags":["macos","itunes","database","macos-catalina"],"snippet":"Seperti yang diketahui orang, Apple meninggalkan iTunes dengan macOS Catalina. Saya menggunakan Logitech Music Server untuk menggerakkan Transporter (pemutar musik berjaringan) untuk sistem musik rumah saya.  Logitech Music Server memiliki skrip Python...","body":"<p> Seperti yang diketahui orang, Apple meninggalkan iTunes dengan macOS Catalina. Saya menggunakan Logitech Music Server untuk menggerakkan Transporter (pemutar musik berjaringan) untuk sistem musik rumah saya. </p>\n\n<p> Logitech Music Server memiliki skrip Python yang mengurai pustaka musik iTunes ke dalam basis data SQL internalnya. Apple Music tidak lagi menggunakan file XML, tetapi memiliki file menarik bernama <code>Library.musicdb</code> - di dalam file / paket <code>/Users/[username]/Music/Music/Music Library.musiclibrary</code> - yang sepenuhnya biner, kecuali untuk header, yaitu <code>hfma</code>. </p>\n\n<p> Saya ingin menulis alat pengganti yang mengambil file <code>.musicdb</code> dan mengisi database Logitech Media Server, tetapi untuk melakukannya, saya memerlukan informasi lebih lanjut tentang file ini. Apakah ini didokumentasikan di mana saja? Lebih baik lagi, apakah ada alat untuk mengaksesnya? </p>","source":"https://superuser.com/questions/1491509/is-the-format-schema-of-the-apple-music-library-musicdb-used-in-macos-catalina","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Dylan McNamee</span></a>","replies":[{"reply":"@JakeGould - terima kasih telah memperbaiki pertanyaannya - ini jauh lebih jelas.","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\">Dylan McNamee</a>"}],"answers":[{"answer":"<p> Ada kerangka kerja yang disebut <a href=\"https://developer.apple.com/documentation/ituneslibrary\" rel=\"nofollow noopener\" target=\"_blank\"> iTunesLibrary </a> yang dapat membaca database <code>Music.app</code> - baru saja mengujinya di macOS Catalina - tetapi ini adalah database Objective-C. </p>\n\n<p> Anda mungkin dapat menggunakannya melalui <a href=\"https://pyobjc.readthedocs.io/en/latest/\" rel=\"nofollow noopener\" target=\"_blank\"> PyObjC </a> , tetapi itu hanya akan berfungsi jika aplikasinya <a href=\"https://developer.apple.com/documentation/ituneslibrary?language=objc\" rel=\"nofollow noopener\" target=\"_blank\"> kode ditandatangani </a> (lihat peringatan di sana dengan warna kuning, di bagian bawah halaman). </p>\n\n<p> Anda akan menulis sesuatu seperti ini di Objective-C untuk mengakses perpustakaan: </p> <pre><code>objective-c\n#import &lt;iTunesLibrary/ITLibrary.h&gt;\n\nNSError *error = nil;\nITLibrary *library = [ITLibrary libraryWithAPIVersion:@\"1.1\" error:&amp;error];\nif (library)\n{\n        NSArray *playlists = library.allPlaylists; //  &lt;- NSArray of ITLibPlaylist\n        NSArray *tracks = library.allMediaItems; //  &lt;- NSArray of ITLibMediaItem\n}\n</code></pre> <p> API versi <code>1.1</code> tampaknya untuk <code>Music.app</code>, sedangkan <code>1.0</code> seharusnya untuk <code>iTunes</code>. </p>","votes":"3","source":"https://superuser.com/a/1491567","author":"<a href=\"https://superuser.com/users/315591/matteo-pacini\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Matteo Pacini</span></a>","replies":[{"reply":"Terima kasih - ini adalah info yang saya cari. Sedih melihat itu hanya Obj-C, tapi begitulah.","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\">Dylan McNamee</a>"},{"reply":"(Mengenai Obj-C saja.) Ini tidak akurat. API ini berfungsi di Swift, mulai 24 April 2020. Saya baru saja mencobanya di Xcode 11.4.1 di macOS Catalina.","author":"<a href=\"https://superuser.com/users/182/jared-updike\" target=\"_blank\" rel=\"nofollow noopener\">Jared Updike</a>"},{"reply":"@JaredUpdike mereka bekerja melalui Swift (asli), tetapi idenya di sini adalah untuk memanggilnya melalui Python, dan PyObjC tampaknya menjadi solusi yang paling logis.","author":"<a href=\"https://superuser.com/users/315591/matteo-pacini\" target=\"_blank\" rel=\"nofollow noopener\">Matteo Pacini</a>"}]},{"answer":"<h1 class=\"h3\"> Meskipun Apple Music tidak secara otomatis menghasilkan file XML perpustakaan, ini dapat dilakukan secara manual di dalam aplikasi itu sendiri. </h1>\n\n<p> Saya menyadari pertanyaan ini adalah tentang format database <code>Music Library.musiclibrary</code> yang sebenarnya - yang akan keren untuk diketahui - Anda dapat mengekspor file XML secara manual yang - saya anggap - dalam format yang persis sama dengan file XML iTunes lama dengan mengikuti ini Langkah. </p>\n\n<p> Pertama, buka aplikasi Musik, buka menu &quot;File&quot; dan pilih opsi &quot;Perpustakaan&quot;. </p>\n\n<p><a href=\"https://i.stack.imgur.com/26CXam.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/26CXam.png\" alt=\"Music app file menu.\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Lalu, dalam daftar itu ada dua opsi: &quot;Ekspor Perpustakaan&quot; dan &quot;Ekspor Daftar Putar.&quot; Saya memilih &quot;Ekspor Daftar Putar&quot; untuk contoh ini. </p>\n\n<p><a href=\"https://i.stack.imgur.com/XYCrgm.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/XYCrgm.png\" alt=\"The “Library” sub menu.\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Setelah melakukan itu Anda akan disajikan dengan antarmuka simpan / muat file Apple yang cukup standar untuk menyimpan file &quot;Library.xml&quot; dan begitulah! </p>\n\n<p><a href=\"https://i.stack.imgur.com/FZRQgl.png\" rel=\"nofollow noopener\" target=\"_blank\"><img src=\"https://i.stack.imgur.com/FZRQgl.png\" alt=\"The file save interface.\" class=\"img-fluid d-block my-2\" loading=\"lazy\"></a></p>\n\n<p> Meskipun jelas tidak senyaman cara lama yang terus-menerus dibuat di iTunes, saya yakin ini akan berfungsi dengan baik untuk aplikasi yang memerlukan file XML. </p>\n\n<p><sub><em> Catatan / kritik yang sedikit tajam dari pemrogram: Mengapa tidak ada opsi pemformatan JSON untuk ekspor? Biarkan pengguna memilih XML atau JSON berdasarkan kebutuhan karena - sejujurnya - tidak ada yang benar-benar suka berurusan dengan XML di tahun 2019. Tapi saya ngelantur… </em></sub></p>","votes":"3","source":"https://superuser.com/a/1491511","author":"<a href=\"https://superuser.com/users/167207/giacomo1968\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">Giacomo1968</span></a>","replies":[{"reply":"Saya mencoba melakukan ini, tetapi tidak ada file yang dihasilkan. Perpustakaan saya Huge (45.000+ lagu), dan itu telah merusak iTunes di masa lalu, jadi mungkin itu penyebabnya di sini juga.","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\">Dylan McNamee</a>"},{"reply":"@DylanNamee Wow! Sepertinya aneh. Saya akan benar-benar <a href=\"https://developer.apple.com/bug-reporting/\" rel=\"nofollow noopener\" target=\"_blank\"> laporkan itu ke Apple sebagai bug </a> karena saya memiliki 17.000+ lagu dan bekerja cukup cepat. Saya akan merekomendasikan membuat daftar putar yang berisi sekitar 10.000 hingga 20.000 lagu dan mengekspornya sebagai daftar putar individual dari menu yang sama dan melihat apa yang terjadi.","author":"<a href=\"https://superuser.com/users/167207/giacomo1968\" target=\"_blank\" rel=\"nofollow noopener\">Giacomo1968</a>"},{"reply":"Saya telah melaporkan bug tersebut. Ekspor playlist dari 10.000 item berfungsi, tetapi mengekspor seluruh library secara diam-diam, langsung tidak melakukan apa-apa.","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\">Dylan McNamee</a>"},{"reply":"Tampaknya format musicdb mungkin seperti ini: <a href=\"https://developer.apple.com/documentation/ituneslibrary?language=objc\" rel=\"nofollow noopener\" target=\"_blank\"> developer.apple.com/documentation/ituneslibrary?language=objc </a>","author":"<a href=\"https://superuser.com/users/809729/dylan-mcnamee\" target=\"_blank\" rel=\"nofollow noopener\">Dylan McNamee</a>"},{"reply":"@DylanMcNamee Keren temukan! Jika Anda ingin memposting tautan itu sebagai jawaban, silakan lakukan itu. Saya juga akan menyebutkan bug ekspor itu. Saya tahu banyak orang yang membutuhkan file XML tersebut untuk penggunaan pihak ketiga tidak senang dengan perubahan iTunes sehingga info berguna.","author":"<a href=\"https://superuser.com/users/167207/giacomo1968\" target=\"_blank\" rel=\"nofollow noopener\">Giacomo1968</a>"}]}]}
