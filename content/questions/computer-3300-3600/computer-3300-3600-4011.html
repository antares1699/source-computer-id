{"title":"Saya terus mendapatkan penulisan gagal: pipa rusak pada ssh setelah 2 menit tidak aktif","draft":false,"url":"/saya-terus-mendapatkan-penulisan-gagal-pipa-rusak-pada-ssh-setelah-2-menit-tidak-aktif-zltdpl0l","votes":"4","answers_count":"4","categories":["Komputer"],"tags":["ssh"],"snippet":"Saya menjalankan ssh pada server pemerasan Debian yang baru diinstal dan setiap 2 menit tidak ada aktivitas saya dikeluarkan dari server dengan pesan berikut:  Write failed: Broken pipe  Saya mencoba mengubah pengaturan...","body":"<p> Saya menjalankan ssh pada server pemerasan Debian yang baru diinstal dan setiap 2 menit tidak ada aktivitas saya dikeluarkan dari server dengan pesan berikut: </p> <pre><code>Write failed: Broken pipe\n</code></pre> <p> Saya mencoba mengubah pengaturan pada / etc / ssh / ssh_config tetapi tidak berhasil: </p> <pre><code>ServerAliveInterval 120 (i tried different values here)\n</code></pre> <p> kemudian, </p> <pre><code>/etc/init.d/ssh restart\n</code></pre> <p> Saya tidak ingin mengubah sisi klien apa pun dan juga menjaga keamanan server saya. </p>","source":"https://superuser.com/questions/482386/i-keep-getting-write-failedbroken-pipe-on-ssh-after-2-mins-of-inactivity","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">spacebiker</span></a>","replies":[],"answers":[{"answer":"<p> Saya memposting di sini solusi jika ada orang lain yang memiliki masalah yang sama di masa depan: </p>\n\n<p> Seperti yang ditunjukkan oleh UtahJarhead, masalahnya bukan berasal dari ssh tetapi dari beberapa jenis gangguan jaringan. Setelah menggali log dan melakukan beberapa pemeriksaan, saya menyadari bahwa konfigurasi antarmuka jaringan server dari kotak menggunakan DHCP, yang memperbarui IP setiap n detik, dan menyebabkan koneksi ssh saya terputus. </p>\n\n<p> Solusi: Ubah antarmuka jaringan saya menjadi statis dan selesai! </p>","votes":"4","source":"https://superuser.com/a/483061","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">spacebiker</span></a>","replies":[{"reply":"Sekadar catatan: Sewa DHCP diperbarui ketika separuh waktu sewa habis. (semacam &#39;Hei. Saya mendapat IP ini dari Anda. Bisakah saya tetap menggunakannya sedikit lebih lama?&#39;). Namun waktu yang biasa untuk sewa DHCP dalam urutan hari. Jika di-refresh setiap 2 menit maka ada yang rusak, atau server DHCP dikonfigurasi dengan waktu sewa yang sangat rendah (yang harus diperbaiki).","author":"<a href=\"https://superuser.com/users/121352/hennes\" target=\"_blank\" rel=\"nofollow noopener\">Hennes</a>"},{"reply":"@Hennes, kamu benar, itu bisa diperbaiki juga. Dalam kasus saya, mengubah antarmuka jaringan menjadi statis adalah solusi terbaik karena ini adalah hosting jarak jauh yang memiliki IP statisnya sendiri, saya lebih suka mengonfigurasinya seperti itu karena alasan yang jelas, tetapi seperti yang Anda tunjukkan, sewa DHCP dapat dikonfigurasi dan itu akan mungkin memperbaikinya juga, terima kasih atas komentar Anda.","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\">spacebiker</a>"}]},{"answer":"<p> Koneksi ssh Anda gagal. Ini bisa jadi karena kehilangan paket, perangkat keras yang buruk, hal lain yang menyedot bandwidth, apa saja. Saya pernah melihatnya di NIC kelas bawah di laptop saya. Ini akan muncul, saya akan melanjutkan transfer (rsync melalui ssh) dan kemudian akan baik-baik saja. Namun, ini bukan ssh dan memodifikasi sshd_config kemungkinan besar tidak akan memberi Anda penangguhan hukuman apa pun dari masalah ini. Lihat PC Anda atau jaringan itu sendiri. </p>","votes":"1","source":"https://superuser.com/a/482397","author":"<a href=\"https://superuser.com/users/127831/utahjarhead\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">UtahJarhead</span></a>","replies":[{"reply":"Faktanya adalah bahwa saya dulu terhubung secara normal dengan komputer saya (mac) ke server lama saya, sekarang setelah instalasi ulang server ke server pemerasan debian saya terus ditendang.","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\">spacebiker</a>"},{"reply":"Koneksi Anda masih gagal karena alasan apa pun. ssh membuka pipa. Interferensi merusak pipa itu. Bisa jadi firewall. Bisa jadi firewall internal. Bisa jadi iptables. Bisa jadi perangkat keras. Fakta bahwa itu SUDAH bekerja dengan baik sebelum menginstal ulang OS memang memberikan kepercayaan bahwa itu bukan kegagalan perangkat keras, tetapi saya tidak akan menghapusnya. Dalam kedua kasus tersebut, saya tidak akan melihat terlalu keras pada ssh sebagai masalahnya. Mungkin, tapi saya meragukannya.","author":"<a href=\"https://superuser.com/users/127831/utahjarhead\" target=\"_blank\" rel=\"nofollow noopener\">UtahJarhead</a>"},{"reply":"Saya pikir Anda mengarahkan saya ke arah yang benar, selain itu saya terlempar oleh sesi ftp terlalu cepat, Inilah yang saya dapatkan dari pemutusan FTP; [kode] Kesalahan: Tidak dapat membaca dari soket: ETIMEDOUT - Waktu percobaan koneksi habis Kesalahan: Terputus dari server [/ kode] Apakah itu memberitahu Anda sesuatu?","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\">spacebiker</a>"},{"reply":"Apakah Anda mendapatkan bentuk lemparan ftp atau sftp?","author":"<a href=\"https://superuser.com/users/127831/utahjarhead\" target=\"_blank\" rel=\"nofollow noopener\">UtahJarhead</a>"},{"reply":"ftp, pureftp sisi server dan filezilla sisi klien","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\">spacebiker</a>"},{"reply":"Ok, maka itu pasti masalah yang melampaui ranah ssh. Semoga berhasil! Maaf kami tidak bisa membantu lebih banyak lagi.","author":"<a href=\"https://superuser.com/users/127831/utahjarhead\" target=\"_blank\" rel=\"nofollow noopener\">UtahJarhead</a>"}]},{"answer":"<p> Saya memiliki masalah serupa setelah beberapa hari penelitian dan penangkapan. </p>\n\n<p> Alamat IP yang digunakan untuk server ini juga secara keliru diberikan untuk digunakan oleh perangkat uji yang berbeda di jaringan (dalam kasus saya, itu untuk IP sendiri F5). Saya memecahkan masalah dengan memeriksa alamat MAC yang dilaporkan di pesan log server. </p>\n\n<blockquote>\n  <p> Deskripsi DUPLICATE IP ADDRESS YANG TERDETEKSI DI NET </p>\n  \n  <p> Kegagalan Menyebabkan RESPONS ARP DITERIMA UNTUK ALAMAT IP SAYA </p>\n  \n  <p> Tindakan yang Direkomendasikan <br> HUBUNGI ADMINISTRATOR JARINGAN </p>\n  \n  <p> Data Detail <br> GANDAKAN ALAMAT IP <br> xxxxx <br> ALAMAT MAC <br> yyyyy <br></p>\n</blockquote>\n\n<p> Ketika saya memeriksa alamat MAC, saya menemukan alamatnya adalah alamat MAC dari TEST F5. Segera setelah saya mengeluarkan F5 dari jaringan, ini memperbaiki masalah. </p>","votes":"1","source":"https://superuser.com/a/823183","author":"<a href=\"https://superuser.com/users/377048/ashish-p\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">ashish p</span></a>","replies":[]},{"answer":"<p> Pada server (sshd) Anda perlu mengatur <code>echo \"ClientAliveInterval 60\" | sudo tee -a /etc/ssh/sshd_config</code> </p>","votes":"0","source":"https://superuser.com/a/482394","author":"<a href=\"https://superuser.com/users/157585/d4v3y0rk\" target=\"_blank\" rel=\"nofollow noopener\"><span itemprop=\"name\">d4v3y0rk</span></a>","replies":[{"reply":"maaf, saya tidak mengatakan tetapi ClientAliveInterval diatur ke 30, itu juga tidak berhasil","author":"<a href=\"https://superuser.com/users/123200/spacebiker\" target=\"_blank\" rel=\"nofollow noopener\">spacebiker</a>"},{"reply":"Saya tidak merekomendasikan ini seolah-olah Anda memiliki blok &#39;Cocok&#39; di akhir sshd_config Anda, Anda dapat melakukan beberapa hal buruk yang tidak ingin Anda lakukan. Ubah secara manual untuk memastikan tidak ada konflik atau ditempatkan di tempat yang kurang produktif. ;)","author":"<a href=\"https://superuser.com/users/127831/utahjarhead\" target=\"_blank\" rel=\"nofollow noopener\">UtahJarhead</a>"}]}]}
